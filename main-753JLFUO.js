var fT=Object.defineProperty,hT=Object.defineProperties;var pT=Object.getOwnPropertyDescriptors;var xa=Object.getOwnPropertySymbols,mT=Object.getPrototypeOf,vv=Object.prototype.hasOwnProperty,yv=Object.prototype.propertyIsEnumerable,gT=Reflect.get;var gv=(t,e,n)=>e in t?fT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_=(t,e)=>{for(var n in e||={})vv.call(e,n)&&gv(t,n,e[n]);if(xa)for(var n of xa(e))yv.call(e,n)&&gv(t,n,e[n]);return t},V=(t,e)=>hT(t,pT(e));var _v=(t,e)=>{var n={};for(var r in t)vv.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&xa)for(var r of xa(t))e.indexOf(r)<0&&yv.call(t,r)&&(n[r]=t[r]);return n};var mr=(t,e,n)=>gT(mT(t),n,e);var p=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())});function Ev(t,e){return Object.is(t,e)}var Ce=null,ka=!1,Oa=1,kn=Symbol("SIGNAL");function Y(t){let e=Ce;return Ce=t,e}function Iv(){return Ce}var zo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function pd(t){if(ka)throw new Error("");if(Ce===null)return;Ce.consumerOnSignalRead(t);let e=Ce.nextProducerIndex++;if(Va(Ce),e<Ce.producerNode.length&&Ce.producerNode[e]!==t&&Wo(Ce)){let n=Ce.producerNode[e];La(n,Ce.producerIndexOfThis[e])}Ce.producerNode[e]!==t&&(Ce.producerNode[e]=t,Ce.producerIndexOfThis[e]=Wo(Ce)?bv(t,Ce,e):0),Ce.producerLastReadVersion[e]=t.version}function vT(){Oa++}function wv(t){if(!(Wo(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Oa)){if(!t.producerMustRecompute(t)&&!gd(t)){t.dirty=!1,t.lastCleanEpoch=Oa;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Oa}}function Cv(t){if(t.liveConsumerNode===void 0)return;let e=ka;ka=!0;try{for(let n of t.liveConsumerNode)n.dirty||yT(n)}finally{ka=e}}function Dv(){return Ce?.consumerAllowSignalWrites!==!1}function yT(t){t.dirty=!0,Cv(t),t.consumerMarkedDirty?.(t)}function Fa(t){return t&&(t.nextProducerIndex=0),Y(t)}function md(t,e){if(Y(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Wo(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)La(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function gd(t){Va(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(wv(n),r!==n.version))return!0}return!1}function vd(t){if(Va(t),Wo(t))for(let e=0;e<t.producerNode.length;e++)La(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function bv(t,e,n){if(Tv(t),t.liveConsumerNode.length===0&&Sv(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=bv(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function La(t,e){if(Tv(t),t.liveConsumerNode.length===1&&Sv(t))for(let r=0;r<t.producerNode.length;r++)La(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Va(i),i.producerIndexOfThis[r]=e}}function Wo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Va(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Tv(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Sv(t){return t.producerNode!==void 0}function Av(t){let e=Object.create(_T);e.computation=t;let n=()=>{if(wv(e),pd(e),e.value===Pa)throw e.error;return e.value};return n[kn]=e,n}var fd=Symbol("UNSET"),hd=Symbol("COMPUTING"),Pa=Symbol("ERRORED"),_T=V(_({},zo),{value:fd,dirty:!0,error:null,equal:Ev,producerMustRecompute(t){return t.value===fd||t.value===hd},producerRecomputeValue(t){if(t.value===hd)throw new Error("Detected cycle in computations.");let e=t.value;t.value=hd;let n=Fa(t),r;try{r=t.computation()}catch(i){r=Pa,t.error=i}finally{md(t,n)}if(e!==fd&&e!==Pa&&r!==Pa&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function ET(){throw new Error}var Nv=ET;function Mv(){Nv()}function Rv(t){Nv=t}var IT=null;function xv(t){let e=Object.create(Ov);e.value=t;let n=()=>(pd(e),e.value);return n[kn]=e,n}function yd(t,e){Dv()||Mv(),t.equal(t.value,e)||(t.value=e,wT(t))}function kv(t,e){Dv()||Mv(),yd(t,e(t.value))}var Ov=V(_({},zo),{equal:Ev,value:void 0});function wT(t){t.version++,vT(),Cv(t),IT?.()}function O(t){return typeof t=="function"}function ui(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ja=ui(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function gr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var pe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(O(r))try{r()}catch(o){e=o instanceof ja?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Pv(o)}catch(s){e=e??[],s instanceof ja?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ja(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Pv(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&gr(n,e)}remove(e){let{_finalizers:n}=this;n&&gr(n,e),e instanceof t&&e._removeParent(this)}};pe.EMPTY=(()=>{let t=new pe;return t.closed=!0,t})();var _d=pe.EMPTY;function Ua(t){return t instanceof pe||t&&"closed"in t&&O(t.remove)&&O(t.add)&&O(t.unsubscribe)}function Pv(t){O(t)?t():t.unsubscribe()}var bt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var di={setTimeout(t,e,...n){let{delegate:r}=di;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=di;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ba(t){di.setTimeout(()=>{let{onUnhandledError:e}=bt;if(e)e(t);else throw t})}function Go(){}var Fv=Ed("C",void 0,void 0);function Lv(t){return Ed("E",void 0,t)}function Vv(t){return Ed("N",t,void 0)}function Ed(t,e,n){return{kind:t,value:e,error:n}}var vr=null;function fi(t){if(bt.useDeprecatedSynchronousErrorHandling){let e=!vr;if(e&&(vr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=vr;if(vr=null,n)throw r}}else t()}function jv(t){bt.useDeprecatedSynchronousErrorHandling&&vr&&(vr.errorThrown=!0,vr.error=t)}var yr=class extends pe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ua(e)&&e.add(this)):this.destination=bT}static create(e,n,r){return new hi(e,n,r)}next(e){this.isStopped?wd(Vv(e),this):this._next(e)}error(e){this.isStopped?wd(Lv(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?wd(Fv,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},CT=Function.prototype.bind;function Id(t,e){return CT.call(t,e)}var Cd=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){$a(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){$a(r)}else $a(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){$a(n)}}},hi=class extends yr{constructor(e,n,r){super();let i;if(O(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&bt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Id(e.next,o),error:e.error&&Id(e.error,o),complete:e.complete&&Id(e.complete,o)}):i=e}this.destination=new Cd(i)}};function $a(t){bt.useDeprecatedSynchronousErrorHandling?jv(t):Ba(t)}function DT(t){throw t}function wd(t,e){let{onStoppedNotification:n}=bt;n&&di.setTimeout(()=>n(t,e))}var bT={closed:!0,next:Go,error:DT,complete:Go};var pi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ze(t){return t}function qo(...t){return Dd(t)}function Dd(t){return t.length===0?Ze:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var $=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=ST(n)?n:new hi(n,r,i);return fi(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Uv(r),new r((i,o)=>{let s=new hi({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[pi](){return this}pipe(...n){return Dd(n)(this)}toPromise(n){return n=Uv(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Uv(t){var e;return(e=t??bt.Promise)!==null&&e!==void 0?e:Promise}function TT(t){return t&&O(t.next)&&O(t.error)&&O(t.complete)}function ST(t){return t&&t instanceof yr||TT(t)&&Ua(t)}function bd(t){return O(t?.lift)}function G(t){return e=>{if(bd(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function H(t,e,n,r,i){return new Td(t,e,n,r,i)}var Td=class extends yr{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function mi(){return G((t,e)=>{let n=null;t._refCount++;let r=H(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var gi=class extends ${constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,bd(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new pe;let n=this.getSubject();e.add(this.source.subscribe(H(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=pe.EMPTY)}return e}refCount(){return mi()(this)}};var Bv=ui(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Se=(()=>{class t extends ${constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Ha(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Bv}next(n){fi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){fi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){fi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?_d:(this.currentObservers=null,o.push(n),new pe(()=>{this.currentObservers=null,gr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new $;return n.source=this,n}}return t.create=(e,n)=>new Ha(e,n),t})(),Ha=class extends Se{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:_d}};var De=class extends Se{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Sd={now(){return(Sd.delegate||Date).now()},delegate:void 0};var Wa=class extends pe{constructor(e,n){super()}schedule(e,n=0){return this}};var Yo={setInterval(t,e,...n){let{delegate:r}=Yo;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Yo;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var vi=class extends Wa{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Yo.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Yo.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,gr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var yi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};yi.now=Sd.now;var _i=class extends yi{constructor(e,n=yi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Ad=new _i(vi);var za=class extends vi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Ga=class extends _i{};var Nd=new Ga(za);var Qe=new $(t=>t.complete());function $v(t){return t&&O(t.schedule)}function Hv(t){return t[t.length-1]}function qa(t){return O(Hv(t))?t.pop():void 0}function On(t){return $v(Hv(t))?t.pop():void 0}function Ya(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function zv(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function Wv(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function _r(t){return this instanceof _r?(this.v=t,this):new _r(t)}function Gv(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(m){return Promise.resolve(m).then(h,d)}}function a(h,m){r[h]&&(i[h]=function(b){return new Promise(function(N,L){o.push([h,b,N,L])>1||c(h,b)})},m&&(i[h]=m(i[h])))}function c(h,m){try{l(r[h](m))}catch(b){f(o[0][3],b)}}function l(h){h.value instanceof _r?Promise.resolve(h.value.v).then(u,d):f(o[0][2],h)}function u(h){c("next",h)}function d(h){c("throw",h)}function f(h,m){h(m),o.shift(),o.length&&c(o[0][0],o[0][1])}}function qv(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Wv=="function"?Wv(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Ka=t=>t&&typeof t.length=="number"&&typeof t!="function";function Za(t){return O(t?.then)}function Qa(t){return O(t[pi])}function Ja(t){return Symbol.asyncIterator&&O(t?.[Symbol.asyncIterator])}function Xa(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function AT(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ec=AT();function tc(t){return O(t?.[ec])}function nc(t){return Gv(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield _r(n.read());if(i)return yield _r(void 0);yield yield _r(r)}}finally{n.releaseLock()}})}function rc(t){return O(t?.getReader)}function Ee(t){if(t instanceof $)return t;if(t!=null){if(Qa(t))return NT(t);if(Ka(t))return MT(t);if(Za(t))return RT(t);if(Ja(t))return Yv(t);if(tc(t))return xT(t);if(rc(t))return kT(t)}throw Xa(t)}function NT(t){return new $(e=>{let n=t[pi]();if(O(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function MT(t){return new $(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function RT(t){return new $(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Ba)})}function xT(t){return new $(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Yv(t){return new $(e=>{OT(t,e).catch(n=>e.error(n))})}function kT(t){return Yv(nc(t))}function OT(t,e){var n,r,i,o;return zv(this,void 0,void 0,function*(){try{for(n=qv(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function qe(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Pn(t,e=0){return G((n,r)=>{n.subscribe(H(r,i=>qe(r,t,()=>r.next(i),e),()=>qe(r,t,()=>r.complete(),e),i=>qe(r,t,()=>r.error(i),e)))})}function Fn(t,e=0){return G((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Kv(t,e){return Ee(t).pipe(Fn(e),Pn(e))}function Zv(t,e){return Ee(t).pipe(Fn(e),Pn(e))}function Qv(t,e){return new $(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Jv(t,e){return new $(n=>{let r;return qe(n,e,()=>{r=t[ec](),qe(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>O(r?.return)&&r.return()})}function ic(t,e){if(!t)throw new Error("Iterable cannot be null");return new $(n=>{qe(n,e,()=>{let r=t[Symbol.asyncIterator]();qe(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Xv(t,e){return ic(nc(t),e)}function ey(t,e){if(t!=null){if(Qa(t))return Kv(t,e);if(Ka(t))return Qv(t,e);if(Za(t))return Zv(t,e);if(Ja(t))return ic(t,e);if(tc(t))return Jv(t,e);if(rc(t))return Xv(t,e)}throw Xa(t)}function fe(t,e){return e?ey(t,e):Ee(t)}function x(...t){let e=On(t);return fe(t,e)}function Ei(t,e){let n=O(t)?t:()=>t,r=i=>i.error(n());return new $(e?i=>e.schedule(r,0,i):r)}function Md(t){return!!t&&(t instanceof $||O(t.lift)&&O(t.subscribe))}var ln=ui(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function P(t,e){return G((n,r)=>{let i=0;n.subscribe(H(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:PT}=Array;function FT(t,e){return PT(e)?t(...e):t(e)}function oc(t){return P(e=>FT(t,e))}var{isArray:LT}=Array,{getPrototypeOf:VT,prototype:jT,keys:UT}=Object;function sc(t){if(t.length===1){let e=t[0];if(LT(e))return{args:e,keys:null};if(BT(e)){let n=UT(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function BT(t){return t&&typeof t=="object"&&VT(t)===jT}function ac(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function cc(...t){let e=On(t),n=qa(t),{args:r,keys:i}=sc(t);if(r.length===0)return fe([],e);let o=new $($T(r,e,i?s=>ac(i,s):Ze));return n?o.pipe(oc(n)):o}function $T(t,e,n=Ze){return r=>{ty(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)ty(e,()=>{let l=fe(t[c],e),u=!1;l.subscribe(H(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function ty(t,e,n){t?qe(n,t,e):e()}function ny(t,e,n,r,i,o,s,a){let c=[],l=0,u=0,d=!1,f=()=>{d&&!c.length&&!l&&e.complete()},h=b=>l<r?m(b):c.push(b),m=b=>{o&&e.next(b),l++;let N=!1;Ee(n(b,u++)).subscribe(H(e,L=>{i?.(L),o?h(L):e.next(L)},()=>{N=!0},void 0,()=>{if(N)try{for(l--;c.length&&l<r;){let L=c.shift();s?qe(e,s,()=>m(L)):m(L)}f()}catch(L){e.error(L)}}))};return t.subscribe(H(e,h,()=>{d=!0,f()})),()=>{a?.()}}function be(t,e,n=1/0){return O(e)?be((r,i)=>P((o,s)=>e(r,o,i,s))(Ee(t(r,i))),n):(typeof e=="number"&&(n=e),G((r,i)=>ny(r,i,t,n)))}function Rd(t=1/0){return be(Ze,t)}function ry(){return Rd(1)}function Ii(...t){return ry()(fe(t,On(t)))}function lc(t){return new $(e=>{Ee(t()).subscribe(e)})}function xd(...t){let e=qa(t),{args:n,keys:r}=sc(t),i=new $(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;Ee(n[u]).subscribe(H(o,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?ac(r,a):a),o.complete())}))}});return e?i.pipe(oc(e)):i}function ut(t,e){return G((n,r)=>{let i=0;n.subscribe(H(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Ln(t){return G((e,n)=>{let r=null,i=!1,o;r=e.subscribe(H(n,void 0,void 0,s=>{o=Ee(t(s,Ln(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function iy(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(H(s,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Er(t,e){return O(e)?be(t,e,1):be(t,1)}function Vn(t){return G((e,n)=>{let r=!1;e.subscribe(H(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Tt(t){return t<=0?()=>Qe:G((e,n)=>{let r=0;e.subscribe(H(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function kd(t){return P(()=>t)}function uc(t=HT){return G((e,n)=>{let r=!1;e.subscribe(H(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function HT(){return new ln}function wi(t){return G((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function St(t,e){let n=arguments.length>=2;return r=>r.pipe(t?ut((i,o)=>t(i,o,r)):Ze,Tt(1),n?Vn(e):uc(()=>new ln))}function Ci(t){return t<=0?()=>Qe:G((e,n)=>{let r=[];e.subscribe(H(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Od(t,e){let n=arguments.length>=2;return r=>r.pipe(t?ut((i,o)=>t(i,o,r)):Ze,Ci(1),n?Vn(e):uc(()=>new ln))}function Pd(t,e){return G(iy(t,e,arguments.length>=2,!0))}function Fd(...t){let e=On(t);return G((n,r)=>{(e?Ii(t,n,e):Ii(t,n)).subscribe(r)})}function Je(t,e){return G((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(H(r,c=>{i?.unsubscribe();let l=0,u=o++;Ee(t(c,u)).subscribe(i=H(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Ld(t){return G((e,n)=>{Ee(t).subscribe(H(n,()=>n.complete(),Go)),!n.closed&&e.subscribe(n)})}function ve(t,e,n){let r=O(t)||e||n?{next:t,error:e,complete:n}:t;return r?G((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(H(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Ze}var Gy="https://g.co/ng/security#xss",S=class extends Error{constructor(e,n){super(Qc(e,n)),this.code=e}};function Qc(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function ss(t){return{toString:t}.toString()}var dc="__parameters__";function WT(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function qy(t,e,n){return ss(()=>{let r=WT(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(dc)?c[dc]:Object.defineProperty(c,dc,{value:[]})[dc];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Xd=globalThis;function ne(t){for(let e in t)if(t[e]===ne)return e;throw Error("Could not find renamed property on target object.")}function zT(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function je(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(je).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function oy(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var GT=ne({__forward_ref__:ne});function Gn(t){return t.__forward_ref__=Gn,t.toString=function(){return je(this())},t}function Ve(t){return Yy(t)?t():t}function Yy(t){return typeof t=="function"&&t.hasOwnProperty(GT)&&t.__forward_ref__===Gn}function A(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function pn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Jc(t){return sy(t,Zy)||sy(t,Qy)}function Ky(t){return Jc(t)!==null}function sy(t,e){return t.hasOwnProperty(e)?t[e]:null}function qT(t){let e=t&&(t[Zy]||t[Qy]);return e||null}function ay(t){return t&&(t.hasOwnProperty(cy)||t.hasOwnProperty(YT))?t[cy]:null}var Zy=ne({\u0275prov:ne}),cy=ne({\u0275inj:ne}),Qy=ne({ngInjectableDef:ne}),YT=ne({ngInjectorDef:ne}),T=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=A({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Jy(t){return t&&!!t.\u0275providers}var KT=ne({\u0275cmp:ne}),ZT=ne({\u0275dir:ne}),QT=ne({\u0275pipe:ne}),JT=ne({\u0275mod:ne}),Dc=ne({\u0275fac:ne}),Qo=ne({__NG_ELEMENT_ID__:ne}),ly=ne({__NG_ENV_ID__:ne});function Xc(t){return typeof t=="string"?t:t==null?"":String(t)}function XT(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Xc(t)}function eS(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new S(-200,t)}function Hf(t,e){throw new S(-201,!1)}var j=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(j||{}),ef;function Xy(){return ef}function dt(t){let e=ef;return ef=t,e}function e_(t,e,n){let r=Jc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&j.Optional)return null;if(e!==void 0)return e;Hf(t,"Injector")}var tS={},Jo=tS,tf="__NG_DI_FLAG__",bc="ngTempTokenPath",nS="ngTokenPath",rS=/\n/gm,iS="\u0275",uy="__source",Si;function oS(){return Si}function jn(t){let e=Si;return Si=t,e}function sS(t,e=j.Default){if(Si===void 0)throw new S(-203,!1);return Si===null?e_(t,void 0,e):Si.get(t,e&j.Optional?null:void 0,e)}function R(t,e=j.Default){return(Xy()||sS)(Ve(t),e)}function y(t,e=j.Default){return R(t,el(e))}function el(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function nf(t){let e=[];for(let n=0;n<t.length;n++){let r=Ve(t[n]);if(Array.isArray(r)){if(r.length===0)throw new S(900,!1);let i,o=j.Default;for(let s=0;s<r.length;s++){let a=r[s],c=aS(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(R(i,o))}else e.push(R(r))}return e}function t_(t,e){return t[tf]=e,t.prototype[tf]=e,t}function aS(t){return t[tf]}function cS(t,e,n,r){let i=t[bc];throw e[uy]&&i.unshift(e[uy]),t.message=lS(`
`+t.message,i,n,r),t[nS]=i,t[bc]=null,t}function lS(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==iS?t.slice(2):t;let i=je(e);if(Array.isArray(e))i=e.map(je).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):je(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(rS,`
  `)}`}var Be=t_(qy("Optional"),8);var n_=t_(qy("SkipSelf"),4);function Ni(t,e){let n=t.hasOwnProperty(Dc);return n?t[Dc]:null}function Wf(t,e){t.forEach(n=>Array.isArray(n)?Wf(n,e):e(n))}function r_(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Tc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function uS(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function dS(t,e,n){let r=as(t,e);return r>=0?t[r|1]=n:(r=~r,uS(t,r,e,n)),r}function Vd(t,e){let n=as(t,e);if(n>=0)return t[n|1]}function as(t,e){return fS(t,e,1)}function fS(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Mi={},Xe=[],wr=new T(""),i_=new T("",-1),o_=new T(""),Sc=class{get(e,n=Jo){if(n===Jo){let r=new Error(`NullInjectorError: No provider for ${je(e)}!`);throw r.name="NullInjectorError",r}return n}},s_=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(s_||{}),Ht=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ht||{}),Bn=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Bn||{});function hS(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function rf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];pS(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function a_(t){return t===3||t===4||t===6}function pS(t){return t.charCodeAt(0)===64}function Xo(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?dy(t,n,i,null,e[++r]):dy(t,n,i,null,null))}}return t}function dy(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var c_="ng-template";function mS(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&hS(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(zf(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function zf(t){return t.type===4&&t.value!==c_}function gS(t,e,n){let r=t.type===4&&!n?c_:t.value;return e===r}function vS(t,e,n){let r=4,i=t.attrs,o=i!==null?ES(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!At(r)&&!At(c))return!1;if(s&&At(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!gS(t,c,n)||c===""&&e.length===1){if(At(r))return!1;s=!0}}else if(r&8){if(i===null||!mS(t,i,c,n)){if(At(r))return!1;s=!0}}else{let l=e[++a],u=yS(c,i,zf(t),n);if(u===-1){if(At(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(At(r))return!1;s=!0}}}}return At(r)||s}function At(t){return(t&1)===0}function yS(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return IS(e,t)}function _S(t,e,n=!1){for(let r=0;r<e.length;r++)if(vS(t,e[r],n))return!0;return!1}function ES(t){for(let e=0;e<t.length;e++){let n=t[e];if(a_(n))return e}return t.length}function IS(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function fy(t,e){return t?":not("+e.trim()+")":e}function wS(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!At(s)&&(e+=fy(o,i),i=""),r=s,o=o||!At(r);n++}return i!==""&&(e+=fy(o,i)),e}function CS(t){return t.map(wS).join(",")}function DS(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!At(i))break;i=o}r++}return{attrs:e,classes:n}}function ue(t){return ss(()=>{let e=h_(t),n=V(_({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===s_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ht.Emulated,styles:t.styles||Xe,_:null,schemas:t.schemas||null,tView:null,id:""});p_(n);let r=t.dependencies;return n.directiveDefs=py(r,!1),n.pipeDefs=py(r,!0),n.id=SS(n),n})}function bS(t){return Cr(t)||l_(t)}function TS(t){return t!==null}function mn(t){return ss(()=>({type:t.type,bootstrap:t.bootstrap||Xe,declarations:t.declarations||Xe,imports:t.imports||Xe,exports:t.exports||Xe,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function hy(t,e){if(t==null)return Mi;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=Bn.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==Bn.None?[r,a]:r,e[o]=s):n[o]=r}return n}function ge(t){return ss(()=>{let e=h_(t);return p_(e),e})}function Cr(t){return t[KT]||null}function l_(t){return t[ZT]||null}function u_(t){return t[QT]||null}function d_(t){let e=Cr(t)||l_(t)||u_(t);return e!==null?e.standalone:!1}function f_(t,e){let n=t[JT]||null;if(!n&&e===!0)throw new Error(`Type ${je(t)} does not have '\u0275mod' property.`);return n}function h_(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Mi,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Xe,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:hy(t.inputs,e),outputs:hy(t.outputs),debugInfo:null}}function p_(t){t.features?.forEach(e=>e(t))}function py(t,e){if(!t)return null;let n=e?u_:bS;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(TS)}function SS(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function nt(t){return{\u0275providers:t}}function AS(...t){return{\u0275providers:m_(!0,t),\u0275fromNgModule:!0}}function m_(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Wf(e,s=>{let a=s;of(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&g_(i,o),n}function g_(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Gf(i,o=>{e(o,r)})}}function of(t,e,n,r){if(t=Ve(t),!t)return!1;let i=null,o=ay(t),s=!o&&Cr(t);if(!o&&!s){let c=t.ngModule;if(o=ay(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)of(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Wf(o.imports,u=>{of(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&g_(l,e)}if(!a){let l=Ni(i)||(()=>new i);e({provide:i,useFactory:l,deps:Xe},i),e({provide:o_,useValue:i,multi:!0},i),e({provide:wr,useValue:()=>R(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;Gf(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Gf(t,e){for(let n of t)Jy(n)&&(n=n.\u0275providers),Array.isArray(n)?Gf(n,e):e(n)}var NS=ne({provide:String,useValue:ne});function v_(t){return t!==null&&typeof t=="object"&&NS in t}function MS(t){return!!(t&&t.useExisting)}function RS(t){return!!(t&&t.useFactory)}function Ri(t){return typeof t=="function"}function xS(t){return!!t.useClass}var tl=new T(""),_c={},kS={},jd;function qf(){return jd===void 0&&(jd=new Sc),jd}var ht=class{},es=class extends ht{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,af(e,s=>this.processProvider(s)),this.records.set(i_,Di(void 0,this)),i.has("environment")&&this.records.set(ht,Di(void 0,this));let o=this.records.get(tl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(o_,Xe,j.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Y(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Y(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=jn(this),r=dt(void 0),i;try{return e()}finally{jn(n),dt(r)}}get(e,n=Jo,r=j.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(ly))return e[ly](this);r=el(r);let i,o=jn(this),s=dt(void 0);try{if(!(r&j.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=VS(e)&&Jc(e);l&&this.injectableDefInScope(l)?c=Di(sf(e),_c):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&j.Self?qf():this.parent;return n=r&j.Optional&&n===Jo?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[bc]=a[bc]||[]).unshift(je(e)),o)throw a;return cS(a,e,"R3InjectorError",this.source)}else throw a}finally{dt(s),jn(o)}}resolveInjectorInitializers(){let e=Y(null),n=jn(this),r=dt(void 0),i;try{let o=this.get(wr,Xe,j.Self);for(let s of o)s()}finally{jn(n),dt(r),Y(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(je(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new S(205,!1)}processProvider(e){e=Ve(e);let n=Ri(e)?e:Ve(e&&e.provide),r=PS(e);if(!Ri(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Di(void 0,_c,!0),i.factory=()=>nf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Y(null);try{return n.value===_c&&(n.value=kS,n.value=n.factory()),typeof n.value=="object"&&n.value&&LS(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Y(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ve(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function sf(t){let e=Jc(t),n=e!==null?e.factory:Ni(t);if(n!==null)return n;if(t instanceof T)throw new S(204,!1);if(t instanceof Function)return OS(t);throw new S(204,!1)}function OS(t){if(t.length>0)throw new S(204,!1);let n=qT(t);return n!==null?()=>n.factory(t):()=>new t}function PS(t){if(v_(t))return Di(void 0,t.useValue);{let e=y_(t);return Di(e,_c)}}function y_(t,e,n){let r;if(Ri(t)){let i=Ve(t);return Ni(i)||sf(i)}else if(v_(t))r=()=>Ve(t.useValue);else if(RS(t))r=()=>t.useFactory(...nf(t.deps||[]));else if(MS(t))r=()=>R(Ve(t.useExisting));else{let i=Ve(t&&(t.useClass||t.provide));if(FS(t))r=()=>new i(...nf(t.deps));else return Ni(i)||sf(i)}return r}function Di(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function FS(t){return!!t.deps}function LS(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function VS(t){return typeof t=="function"||typeof t=="object"&&t instanceof T}function af(t,e){for(let n of t)Array.isArray(n)?af(n,e):n&&Jy(n)?af(n.\u0275providers,e):e(n)}function Gt(t,e){t instanceof es&&t.assertNotDestroyed();let n,r=jn(t),i=dt(void 0);try{return e()}finally{jn(r),dt(i)}}function jS(){return Xy()!==void 0||oS()!=null}function US(t){return typeof t=="function"}var tt=0,U=1,k=2,ke=3,Nt=4,kt=5,Wt=6,Ac=7,Rt=8,xi=9,zt=10,me=11,ts=12,my=13,Bi=14,pt=15,ki=16,bi=17,Oi=18,nl=19,__=20,Un=21,Ud=22,ft=23,Ue=25,E_=1,ns=6,un=7,Nc=8,Mc=9,et=10,Rc=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Rc||{});function Mt(t){return Array.isArray(t)&&typeof t[E_]=="object"}function qt(t){return Array.isArray(t)&&t[E_]===!0}function Yf(t){return(t.flags&4)!==0}function cs(t){return t.componentOffset>-1}function rl(t){return(t.flags&1)===1}function $n(t){return!!t.template}function xc(t){return(t[k]&512)!==0}var cf=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function I_(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Yt(){return w_}function w_(t){return t.type.prototype.ngOnChanges&&(t.setInput=$S),BS}Yt.ngInherit=!0;function BS(){let t=D_(this),e=t?.current;if(e){let n=t.previous;if(n===Mi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function $S(t,e,n,r,i){let o=this.declaredInputs[r],s=D_(t)||HS(t,{previous:Mi,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new cf(l&&l.currentValue,n,c===Mi),I_(t,e,i,n)}var C_="__ngSimpleChanges__";function D_(t){return t[C_]||null}function HS(t,e){return t[C_]=e}var gy=null;var Bt=function(t,e,n){gy?.(t,e,n)},WS="svg",zS="math";function xt(t){for(;Array.isArray(t);)t=t[tt];return t}function b_(t,e){return xt(e[t])}function rt(t,e){return xt(e[t.index])}function T_(t,e){return t.data[e]}function qn(t,e){let n=e[t];return Mt(n)?n:n[tt]}function Kf(t){return(t[k]&128)===128}function GS(t){return qt(t[ke])}function Pi(t,e){return e==null?null:t[e]}function S_(t){t[bi]=0}function A_(t){t[k]&1024||(t[k]|=1024,Kf(t)&&ol(t))}function qS(t,e){for(;t>0;)e=e[Bi],t--;return e}function il(t){return!!(t[k]&9216||t[ft]?.dirty)}function lf(t){t[zt].changeDetectionScheduler?.notify(8),t[k]&64&&(t[k]|=1024),il(t)&&ol(t)}function ol(t){t[zt].changeDetectionScheduler?.notify(0);let e=Dr(t);for(;e!==null&&!(e[k]&8192||(e[k]|=8192,!Kf(e)));)e=Dr(e)}function N_(t,e){if((t[k]&256)===256)throw new S(911,!1);t[Un]===null&&(t[Un]=[]),t[Un].push(e)}function YS(t,e){if(t[Un]===null)return;let n=t[Un].indexOf(e);n!==-1&&t[Un].splice(n,1)}function Dr(t){let e=t[ke];return qt(e)?e[ke]:e}var B={lFrame:V_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var M_=!1;function KS(){return B.lFrame.elementDepthCount}function ZS(){B.lFrame.elementDepthCount++}function QS(){B.lFrame.elementDepthCount--}function R_(){return B.bindingsEnabled}function ls(){return B.skipHydrationRootTNode!==null}function JS(t){return B.skipHydrationRootTNode===t}function XS(t){B.skipHydrationRootTNode=t}function eA(){B.skipHydrationRootTNode=null}function re(){return B.lFrame.lView}function it(){return B.lFrame.tView}function $e(t){return B.lFrame.contextLView=t,t[Rt]}function He(t){return B.lFrame.contextLView=null,t}function We(){let t=x_();for(;t!==null&&t.type===64;)t=t.parent;return t}function x_(){return B.lFrame.currentTNode}function tA(){let t=B.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Nr(t,e){let n=B.lFrame;n.currentTNode=t,n.isParent=e}function Zf(){return B.lFrame.isParent}function k_(){B.lFrame.isParent=!1}function O_(){return M_}function vy(t){M_=t}function Qf(){let t=B.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function nA(t){return B.lFrame.bindingIndex=t}function Jf(){return B.lFrame.bindingIndex++}function rA(t){let e=B.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function iA(){return B.lFrame.inI18n}function oA(t,e){let n=B.lFrame;n.bindingIndex=n.bindingRootIndex=t,uf(e)}function sA(){return B.lFrame.currentDirectiveIndex}function uf(t){B.lFrame.currentDirectiveIndex=t}function aA(t){let e=B.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function P_(t){B.lFrame.currentQueryIndex=t}function cA(t){let e=t[U];return e.type===2?e.declTNode:e.type===1?t[kt]:null}function F_(t,e,n){if(n&j.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&j.Host);)if(i=cA(o),i===null||(o=o[Bi],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=B.lFrame=L_();return r.currentTNode=e,r.lView=t,!0}function Xf(t){let e=L_(),n=t[U];B.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function L_(){let t=B.lFrame,e=t===null?null:t.child;return e===null?V_(t):e}function V_(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function j_(){let t=B.lFrame;return B.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var U_=j_;function eh(){let t=j_();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function lA(t){return(B.lFrame.contextLView=qS(t,B.lFrame.contextLView))[Rt]}function $i(){return B.lFrame.selectedIndex}function br(t){B.lFrame.selectedIndex=t}function B_(){let t=B.lFrame;return T_(t.tView,t.selectedIndex)}function $_(){return B.lFrame.currentNamespace}var H_=!0;function sl(){return H_}function Yn(t){H_=t}function uA(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=w_(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function al(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function Ec(t,e,n){W_(t,e,3,n)}function Ic(t,e,n,r){(t[k]&3)===n&&W_(t,e,n,r)}function Bd(t,e){let n=t[k];(n&3)===e&&(n&=16383,n+=1,t[k]=n)}function W_(t,e,n,r){let i=r!==void 0?t[bi]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[bi]+=65536),(a<o||o==-1)&&(dA(t,n,e,c),t[bi]=(t[bi]&4294901760)+c+2),c++}function yy(t,e){Bt(4,t,e);let n=Y(null);try{e.call(t)}finally{Y(n),Bt(5,t,e)}}function dA(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[k]>>14<t[bi]>>16&&(t[k]&3)===e&&(t[k]+=16384,yy(a,o)):yy(a,o)}var Ai=-1,Tr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function fA(t){return t instanceof Tr}function hA(t){return(t.flags&8)!==0}function pA(t){return(t.flags&16)!==0}var $d={},df=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=el(r);let i=this.injector.get(e,$d,r);return i!==$d||n===$d?i:this.parentInjector.get(e,n,r)}};function z_(t){return t!==Ai}function kc(t){return t&32767}function mA(t){return t>>16}function Oc(t,e){let n=mA(t),r=e;for(;n>0;)r=r[Bi],n--;return r}var ff=!0;function _y(t){let e=ff;return ff=t,e}var gA=256,G_=gA-1,q_=5,vA=0,$t={};function yA(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Qo)&&(r=n[Qo]),r==null&&(r=n[Qo]=vA++);let i=r&G_,o=1<<i;e.data[t+(i>>q_)]|=o}function Pc(t,e){let n=Y_(t,e);if(n!==-1)return n;let r=e[U];r.firstCreatePass&&(t.injectorIndex=e.length,Hd(r.data,t),Hd(e,null),Hd(r.blueprint,null));let i=th(t,e),o=t.injectorIndex;if(z_(i)){let s=kc(i),a=Oc(i,e),c=a[U].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function Hd(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Y_(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function th(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=X_(i),r===null)return Ai;if(n++,i=i[Bi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ai}function hf(t,e,n){yA(t,e,n)}function _A(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(a_(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function K_(t,e,n){if(n&j.Optional||t!==void 0)return t;Hf(e,"NodeInjector")}function Z_(t,e,n,r){if(n&j.Optional&&r===void 0&&(r=null),!(n&(j.Self|j.Host))){let i=t[xi],o=dt(void 0);try{return i?i.get(e,r,n&j.Optional):e_(e,r,n&j.Optional)}finally{dt(o)}}return K_(r,e,n)}function Q_(t,e,n,r=j.Default,i){if(t!==null){if(e[k]&2048&&!(r&j.Self)){let s=DA(t,e,n,r,$t);if(s!==$t)return s}let o=J_(t,e,n,r,$t);if(o!==$t)return o}return Z_(e,n,r,i)}function J_(t,e,n,r,i){let o=wA(n);if(typeof o=="function"){if(!F_(e,t,r))return r&j.Host?K_(i,n,r):Z_(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&j.Optional))Hf(n);else return s}finally{U_()}}else if(typeof o=="number"){let s=null,a=Y_(t,e),c=Ai,l=r&j.Host?e[pt][kt]:null;for((a===-1||r&j.SkipSelf)&&(c=a===-1?th(t,e):e[a+8],c===Ai||!Iy(r,!1)?a=-1:(s=e[U],a=kc(c),e=Oc(c,e)));a!==-1;){let u=e[U];if(Ey(o,a,u.data)){let d=EA(a,e,n,s,r,l);if(d!==$t)return d}c=e[a+8],c!==Ai&&Iy(r,e[U].data[a+8]===l)&&Ey(o,a,e)?(s=u,a=kc(c),e=Oc(c,e)):a=-1}}return i}function EA(t,e,n,r,i,o){let s=e[U],a=s.data[t+8],c=r==null?cs(a)&&ff:r!=s&&(a.type&3)!==0,l=i&j.Host&&o===a,u=IA(a,s,n,c,l);return u!==null?Fi(e,s,u,a):$t}function IA(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,u=o>>20,d=r?a:a+u,f=i?a+u:l;for(let h=d;h<f;h++){let m=s[h];if(h<c&&n===m||h>=c&&m.type===n)return h}if(i){let h=s[c];if(h&&$n(h)&&h.type===n)return c}return null}function Fi(t,e,n,r){let i=t[n],o=e.data;if(fA(i)){let s=i;s.resolving&&eS(XT(o[n]));let a=_y(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?dt(s.injectImpl):null,u=F_(t,r,j.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&uA(n,o[n],e)}finally{l!==null&&dt(l),_y(a),s.resolving=!1,U_()}}return i}function wA(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Qo)?t[Qo]:void 0;return typeof e=="number"?e>=0?e&G_:CA:e}function Ey(t,e,n){let r=1<<t;return!!(n[e+(t>>q_)]&r)}function Iy(t,e){return!(t&j.Self)&&!(t&j.Host&&e)}var Ir=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Q_(this._tNode,this._lView,e,el(r),n)}};function CA(){return new Ir(We(),re())}function Mr(t){return ss(()=>{let e=t.prototype.constructor,n=e[Dc]||pf(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Dc]||pf(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function pf(t){return Yy(t)?()=>{let e=pf(Ve(t));return e&&e()}:Ni(t)}function DA(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[k]&2048&&!(s[k]&512);){let a=J_(o,s,n,r|j.Self,$t);if(a!==$t)return a;let c=o.parent;if(!c){let l=s[__];if(l){let u=l.get(n,$t,r);if(u!==$t)return u}c=X_(s),s=s[Bi]}o=c}return i}function X_(t){let e=t[U],n=e.type;return n===2?e.declTNode:n===1?t[kt]:null}function nh(t){return _A(We(),t)}function wy(t,e=null,n=null,r){let i=eE(t,e,n,r);return i.resolveInjectorInitializers(),i}function eE(t,e=null,n=null,r,i=new Set){let o=[n||Xe,AS(t)];return r=r||(typeof t=="object"?void 0:je(t)),new es(o,e||qf(),r||null,i)}var Oe=class t{static{this.THROW_IF_NOT_FOUND=Jo}static{this.NULL=new Sc}static create(e,n){if(Array.isArray(e))return wy({name:""},n,e,"");{let r=e.name??"";return wy({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=A({token:t,providedIn:"any",factory:()=>R(i_)})}static{this.__NG_ELEMENT_ID__=-1}};var bA=new T("");bA.__NG_ELEMENT_ID__=t=>{let e=We();if(e===null)throw new S(204,!1);if(e.type&2)return e.value;if(t&j.Optional)return null;throw new S(204,!1)};var TA="ngOriginalError";function Wd(t){return t[TA]}var tE=!0,nE=(()=>{class t{static{this.__NG_ELEMENT_ID__=SA}static{this.__NG_ENV_ID__=n=>n}}return t})(),mf=class extends nE{constructor(e){super(),this._lView=e}onDestroy(e){return N_(this._lView,e),()=>YS(this._lView,e)}};function SA(){return new mf(re())}var Rr=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new De(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=A({token:t,providedIn:"root",factory:()=>new t})}}return t})();var gf=class extends Se{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,jS()&&(this.destroyRef=y(nE,{optional:!0})??void 0,this.pendingTasks=y(Rr,{optional:!0})??void 0)}emit(e){let n=Y(null);try{super.next(e)}finally{Y(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof pe&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},se=gf;function Fc(...t){}function rE(t){let e,n;function r(){t=Fc;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Cy(t){return queueMicrotask(()=>t()),()=>{t=Fc}}var rh="isAngularZone",Lc=rh+"_ID",AA=0,J=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new se(!1),this.onMicrotaskEmpty=new se(!1),this.onStable=new se(!1),this.onError=new se(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=tE}=e;if(typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,RA(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(rh)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new S(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,NA,Fc,Fc);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},NA={};function ih(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function MA(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){rE(()=>{t.callbackScheduled=!1,vf(t),t.isCheckStableRunning=!0,ih(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),vf(t)}function RA(t){let e=()=>{MA(t)},n=AA++;t._inner=t._inner.fork({name:"angular",properties:{[rh]:!0,[Lc]:n,[Lc+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(xA(c))return r.invokeTask(o,s,a,c);try{return Dy(t),r.invokeTask(o,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),by(t)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return Dy(t),r.invoke(o,s,a,c,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!kA(c)&&e(),by(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,vf(t),ih(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function vf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Dy(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function by(t){t._nesting--,ih(t)}var yf=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new se,this.onMicrotaskEmpty=new se,this.onStable=new se,this.onError=new se}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function xA(t){return iE(t,"__ignore_ng_zone__")}function kA(t){return iE(t,"__scheduler_tick__")}function iE(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var dn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Wd(e);for(;n&&Wd(n);)n=Wd(n);return n||null}},OA=new T("",{providedIn:"root",factory:()=>{let t=y(J),e=y(dn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function PA(){return cl(We(),re())}function cl(t,e){return new Ot(rt(t,e))}var Ot=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=PA}}return t})();var FA="ngSkipHydration",LA="ngskiphydration";function oE(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===LA)return!0}return!1}function sE(t){return t.hasAttribute(FA)}function Vc(t){return(t.flags&128)===128}function VA(t){if(Vc(t))return!0;let e=t.parent;for(;e;){if(Vc(t)||oE(e))return!0;e=e.parent}return!1}var aE=new Map,jA=0;function UA(){return jA++}function BA(t){aE.set(t[nl],t)}function _f(t){aE.delete(t[nl])}var Ty="__ngContext__";function Hn(t,e){Mt(e)?(t[Ty]=e[nl],BA(e)):t[Ty]=e}function cE(t){return uE(t[ts])}function lE(t){return uE(t[Nt])}function uE(t){for(;t!==null&&!qt(t);)t=t[Nt];return t}var Ef;function dE(t){Ef=t}function ll(){if(Ef!==void 0)return Ef;if(typeof document<"u")return document;throw new S(210,!1)}var ul=new T("",{providedIn:"root",factory:()=>$A}),$A="ng",oh=new T(""),mt=new T("",{providedIn:"platform",factory:()=>"unknown"});var sh=new T("",{providedIn:"root",factory:()=>ll().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function HA(){let t=new Hi;return y(mt)==="browser"&&(t.store=WA(ll(),y(ul))),t}var Hi=(()=>{class t{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=A({token:t,providedIn:"root",factory:HA})}get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return t})();function WA(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var fE="h",hE="b",If=function(t){return t.FirstChild="f",t.NextSibling="n",t}(If||{}),zA="e",GA="t",ah="c",pE="x",jc="r",qA="i",YA="n",mE="d";var KA="__nghData__",gE=KA,zd="ngh",ZA="nghm",vE=()=>null;function QA(t,e,n=!1){let r=t.getAttribute(zd);if(r==null)return null;let[i,o]=r.split("|");if(r=n?o:i,!r)return null;let s=o?`|${o}`:"",a=n?i:s,c={};if(r!==""){let u=e.get(Hi,null,{optional:!0});u!==null&&(c=u.get(gE,[])[Number(r)])}let l={data:c,firstChild:t.firstChild??null};return n&&(l.firstChild=t,dl(l,0,t.nextSibling)),a?t.setAttribute(zd,a):t.removeAttribute(zd),l}function JA(){vE=QA}function ch(t,e,n=!1){return vE(t,e,n)}function XA(t){let e=t._lView;return e[U].type===2?null:(xc(e)&&(e=e[Ue]),e)}function eN(t){return t.textContent?.replace(/\s/gm,"")}function tN(t){let e=ll(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=eN(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(e.createTextNode("")):o.remove()}function dl(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function wf(t,e){return t.segmentHeads?.[e]??null}function nN(t,e){let n=t.data,r=n[zA]?.[e]??null;return r===null&&n[ah]?.[e]&&(r=lh(t,e)),r}function yE(t,e){return t.data[ah]?.[e]??null}function lh(t,e){let n=yE(t,e)??[],r=0;for(let i of n)r+=i[jc]*(i[pE]??1);return r}function rN(t){if(typeof t.disconnectedNodes>"u"){let e=t.data[mE];t.disconnectedNodes=e?new Set(e):null}return t.disconnectedNodes}function us(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[mE];t.disconnectedNodes=n?new Set(n):null}return!!rN(t)?.has(e)}var fc=new T(""),_E=!1,EE=new T("",{providedIn:"root",factory:()=>_E});var hc;function iN(){if(hc===void 0&&(hc=null,Xd.trustedTypes))try{hc=Xd.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return hc}function Sy(t){return iN()?.createScriptURL(t)||t}var Uc=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Gy})`}};function ds(t){return t instanceof Uc?t.changingThisBreaksApplicationSecurity:t}function uh(t,e){let n=oN(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Gy})`)}return n===e}function oN(t){return t instanceof Uc&&t.getTypeName()||null}var sN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function IE(t){return t=String(t),t.match(sN)?t:"unsafe:"+t}var fl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(fl||{});function aN(t){let e=CE();return e?e.sanitize(fl.URL,t)||"":uh(t,"URL")?ds(t):IE(Xc(t))}function cN(t){let e=CE();if(e)return Sy(e.sanitize(fl.RESOURCE_URL,t)||"");if(uh(t,"ResourceURL"))return Sy(ds(t));throw new S(904,!1)}function lN(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?cN:aN}function wE(t,e,n){return lN(e,n)(t)}function CE(){let t=re();return t&&t[zt].sanitizer}var uN=/^>|^->|<!--|-->|--!>|<!-$/g,dN=/(<|>)/g,fN="\u200B$1\u200B";function hN(t){return t.replace(uN,e=>e.replace(dN,fN))}function pN(t){return t.ownerDocument.body}function DE(t){return t instanceof Function?t():t}function pc(t){return(t??y(Oe)).get(mt)==="browser"}var fn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(fn||{}),mN;function dh(t,e){return mN(t,e)}function Ti(t,e,n,r,i){if(r!=null){let o,s=!1;qt(r)?o=r:Mt(r)&&(s=!0,r=r[tt]);let a=xt(r);t===0&&n!==null?i==null?ME(e,n,a):Bc(e,n,a,i||null,!0):t===1&&n!==null?Bc(e,n,a,i||null,!0):t===2?ph(e,a,s):t===3&&e.destroyNode(a),o!=null&&MN(e,t,o,n,i)}}function bE(t,e){return t.createText(e)}function gN(t,e,n){t.setValue(e,n)}function TE(t,e){return t.createComment(hN(e))}function fh(t,e,n){return t.createElement(e,n)}function vN(t,e){SE(t,e),e[tt]=null,e[kt]=null}function yN(t,e,n,r,i,o){r[tt]=i,r[kt]=e,pl(t,r,n,1,i,o)}function SE(t,e){e[zt].changeDetectionScheduler?.notify(9),pl(t,e,e[me],2,null,null)}function _N(t){let e=t[ts];if(!e)return Gd(t[U],t);for(;e;){let n=null;if(Mt(e))n=e[ts];else{let r=e[et];r&&(n=r)}if(!n){for(;e&&!e[Nt]&&e!==t;)Mt(e)&&Gd(e[U],e),e=e[ke];e===null&&(e=t),Mt(e)&&Gd(e[U],e),n=e&&e[Nt]}e=n}}function EN(t,e,n,r){let i=et+r,o=n.length;r>0&&(n[i-1][Nt]=e),r<o-et?(e[Nt]=n[i],r_(n,et+r,e)):(n.push(e),e[Nt]=null),e[ke]=n;let s=e[ki];s!==null&&n!==s&&AE(s,e);let a=e[Oi];a!==null&&a.insertView(t),lf(e),e[k]|=128}function AE(t,e){let n=t[Mc],r=e[ke];if(Mt(r))t[k]|=Rc.HasTransplantedViews;else{let i=r[ke][pt];e[pt]!==i&&(t[k]|=Rc.HasTransplantedViews)}n===null?t[Mc]=[e]:n.push(e)}function hh(t,e){let n=t[Mc],r=n.indexOf(e);n.splice(r,1)}function Cf(t,e){if(t.length<=et)return;let n=et+e,r=t[n];if(r){let i=r[ki];i!==null&&i!==t&&hh(i,r),e>0&&(t[n-1][Nt]=r[Nt]);let o=Tc(t,et+e);vN(r[U],r);let s=o[Oi];s!==null&&s.detachView(o[U]),r[ke]=null,r[Nt]=null,r[k]&=-129}return r}function NE(t,e){if(!(e[k]&256)){let n=e[me];n.destroyNode&&pl(t,e,n,3,null,null),_N(e)}}function Gd(t,e){if(e[k]&256)return;let n=Y(null);try{e[k]&=-129,e[k]|=256,e[ft]&&vd(e[ft]),wN(t,e),IN(t,e),e[U].type===1&&e[me].destroy();let r=e[ki];if(r!==null&&qt(e[ke])){r!==e[ke]&&hh(r,e);let i=e[Oi];i!==null&&i.detachView(t)}_f(e)}finally{Y(n)}}function IN(t,e){let n=t.cleanup,r=e[Ac];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Ac]=null);let i=e[Un];if(i!==null){e[Un]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function wN(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Tr)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Bt(4,a,c);try{c.call(a)}finally{Bt(5,a,c)}}else{Bt(4,i,o);try{o.call(i)}finally{Bt(5,i,o)}}}}}function CN(t,e,n){return DN(t,e.parent,n)}function DN(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[tt];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Ht.None||o===Ht.Emulated)return null}return rt(r,n)}}function Bc(t,e,n,r,i){t.insertBefore(e,n,r,i)}function ME(t,e,n){t.appendChild(e,n)}function Ay(t,e,n,r,i){r!==null?Bc(t,e,n,r,i):ME(t,e,n)}function RE(t,e){return t.parentNode(e)}function bN(t,e){return t.nextSibling(e)}function TN(t,e,n){return AN(t,e,n)}function SN(t,e,n){return t.type&40?rt(t,n):null}var AN=SN,Ny;function hl(t,e,n,r){let i=CN(t,r,e),o=e[me],s=r.parent||e[kt],a=TN(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Ay(o,i,n[c],a,!1);else Ay(o,i,n,a,!1);Ny!==void 0&&Ny(o,r,e,n,i)}function Ko(t,e){if(e!==null){let n=e.type;if(n&3)return rt(e,t);if(n&4)return Df(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ko(t,r);{let i=t[e.index];return qt(i)?Df(-1,i):xt(i)}}else{if(n&128)return Ko(t,e.next);if(n&32)return dh(e,t)()||xt(t[e.index]);{let r=xE(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Dr(t[pt]);return Ko(i,r)}else return Ko(t,e.next)}}}return null}function xE(t,e){if(e!==null){let r=t[pt][kt],i=e.projection;return r.projection[i]}return null}function Df(t,e){let n=et+t+1;if(n<e.length){let r=e[n],i=r[U].firstChild;if(i!==null)return Ko(r,i)}return e[un]}function ph(t,e,n){t.removeChild(null,e,n)}function kE(t){t.textContent=""}function mh(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&e===0&&(a&&Hn(xt(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)mh(t,e,n.child,r,i,o,!1),Ti(e,t,i,a,o);else if(c&32){let l=dh(n,r),u;for(;u=l();)Ti(e,t,i,u,o);Ti(e,t,i,a,o)}else c&16?NN(t,e,r,n,i,o):Ti(e,t,i,a,o);n=s?n.projectionNext:n.next}}function pl(t,e,n,r,i,o){mh(n,r,t.firstChild,e,i,o,!1)}function NN(t,e,n,r,i,o){let s=n[pt],c=s[kt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Ti(e,t,i,u,o)}else{let l=c,u=s[ke];Vc(r)&&(l.flags|=128),mh(t,e,l,u,i,o,!0)}}function MN(t,e,n,r,i){let o=n[un],s=xt(n);o!==s&&Ti(e,t,r,o,i);for(let a=et;a<n.length;a++){let c=n[a];pl(c[U],c,t,e,r,o)}}function RN(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:fn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=fn.Important),t.setStyle(n,r,i,o))}}function xN(t,e,n){t.setAttribute(e,"style",n)}function OE(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function PE(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&rf(t,e,r),i!==null&&OE(t,e,i),o!==null&&xN(t,e,o)}var xr={};function w(t=1){FE(it(),re(),$i()+t,!1)}function FE(t,e,n,r){if(!r)if((e[k]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Ec(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Ic(e,o,0,n)}br(n)}function D(t,e=j.Default){let n=re();if(n===null)return R(t,e);let r=We();return Q_(r,n,Ve(t),e)}function LE(t,e,n,r,i,o){let s=Y(null);try{let a=null;i&Bn.SignalBased&&(a=e[r][kn]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Bn.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):I_(e,a,r,o)}finally{Y(s)}}function kN(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)br(~i);else{let o=i,s=n[++r],a=n[++r];oA(s,o);let c=e[o];a(2,c)}}}finally{br(-1)}}function ml(t,e,n,r,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[tt]=i,d[k]=r|4|128|8|64,(l!==null||t&&t[k]&2048)&&(d[k]|=2048),S_(d),d[ke]=d[Bi]=t,d[Rt]=n,d[zt]=s||t&&t[zt],d[me]=a||t&&t[me],d[xi]=c||t&&t[xi]||null,d[kt]=o,d[nl]=UA(),d[Wt]=u,d[__]=l,d[pt]=e.type==2?t[pt]:d,d}function fs(t,e,n,r,i){let o=t.data[e];if(o===null)o=ON(t,e,n,r,i),iA()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=tA();o.injectorIndex=s===null?-1:s.injectorIndex}return Nr(o,!0),o}function ON(t,e,n,r,i){let o=x_(),s=Zf(),a=s?o:o&&o.parent,c=t.data[e]=UN(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function VE(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function jE(t,e,n,r,i){let o=$i(),s=r&2;try{br(-1),s&&e.length>Ue&&FE(t,e,Ue,!1),Bt(s?2:0,i),n(r,i)}finally{br(o),Bt(s?3:1,i)}}function gh(t,e,n){if(Yf(e)){let r=Y(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{Y(r)}}}function vh(t,e,n){R_()&&(qN(t,e,n,rt(n,e)),(n.flags&64)===64&&HE(t,e,n))}function yh(t,e,n=rt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function UE(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=_h(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function _h(t,e,n,r,i,o,s,a,c,l,u){let d=Ue+r,f=d+i,h=PN(d,f),m=typeof l=="function"?l():l;return h[U]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:m,incompleteFirstPass:!1,ssrId:u}}function PN(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:xr);return n}function FN(t,e,n,r){let o=r.get(EE,_E)||n===Ht.ShadowDom,s=t.selectRootElement(e,o);return LN(s),s}function LN(t){BE(t)}var BE=()=>null;function VN(t){sE(t)?kE(t):tN(t)}function jN(){BE=VN}function UN(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return ls()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function My(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=Bn.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?Ry(r,n,l,a,c):Ry(r,n,l,a)}return r}function Ry(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function BN(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=o[u],f=n?n.get(d):null,h=f?f.inputs:null,m=f?f.outputs:null;c=My(0,d.inputs,u,c,h),l=My(1,d.outputs,u,l,m);let b=c!==null&&s!==null&&!zf(e)?iM(c,u,s):null;a.push(b)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function $N(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function HN(t,e,n,r,i,o,s,a){let c=rt(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(Ih(t,n,u,r,i),cs(e)&&WN(n,e.index)):e.type&3?(r=$N(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function WN(t,e){let n=qn(e,t);n[k]&16||(n[k]|=64)}function Eh(t,e,n,r){if(R_()){let i=r===null?null:{"":-1},o=KN(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&$E(t,e,n,s,i,a),i&&ZN(n,r,i)}n.mergedAttrs=Xo(n.mergedAttrs,n.attrs)}function $E(t,e,n,r,i,o){for(let l=0;l<r.length;l++)hf(Pc(n,e),t,r[l].type);JN(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=VE(t,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=Xo(n.mergedAttrs,u.hostAttrs),XN(t,n,e,c,u),QN(c,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}BN(t,n,o)}function zN(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;GN(s)!=a&&s.push(a),s.push(n,r,o)}}function GN(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function qN(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;cs(n)&&eM(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Pc(n,e),Hn(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let c=t.data[a],l=Fi(e,t,a,n);if(Hn(l,e),s!==null&&rM(e,a-i,l,c,n,s),$n(c)){let u=qn(n.index,e);u[Rt]=Fi(e,t,a,n)}}}function HE(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=sA();try{br(o);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];uf(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&YN(c,l)}}finally{br(-1),uf(s)}}function YN(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function KN(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(_S(e,s.selectors,!1))if(r||(r=[]),$n(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;bf(t,e,c)}else r.unshift(s),bf(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function bf(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function ZN(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new S(-301,!1);r.push(e[i],o)}}}function QN(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;$n(e)&&(n[""]=t)}}function JN(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function XN(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Ni(i.type,!0)),s=new Tr(o,$n(i),D);t.blueprint[r]=s,n[r]=s,zN(t,e,r,VE(t,n,i.hostVars,xr),i)}function eM(t,e,n){let r=rt(e,t),i=UE(n),o=t[zt].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=gl(t,ml(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function tM(t,e,n,r,i,o){let s=rt(t,e);nM(e[me],s,o,t.value,n,r,i)}function nM(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Xc(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function rM(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];LE(r,n,c,l,u,d)}}function iM(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function WE(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function zE(t,e){let n=t.contentQueries;if(n!==null){let r=Y(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];P_(o),a.contentQueries(2,e[s],s)}}}finally{Y(r)}}}function gl(t,e){return t[ts]?t[my][Nt]=e:t[ts]=e,t[my]=e,e}function Tf(t,e,n){P_(0);let r=Y(null);try{e(t,n)}finally{Y(r)}}function oM(t){return t[Ac]??=[]}function sM(t){return t.cleanup??=[]}function GE(t,e){let n=t[xi],r=n?n.get(dn,null):null;r&&r.handleError(e)}function Ih(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],l=e[s],u=t.data[s];LE(u,l,r,a,c,i)}}function aM(t,e,n){let r=b_(e,t);gN(t[me],r,n)}function cM(t,e){let n=qn(e,t),r=n[U];lM(r,n);let i=n[tt];i!==null&&n[Wt]===null&&(n[Wt]=ch(i,n[xi])),wh(r,n,n[Rt])}function lM(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function wh(t,e,n){Xf(e);try{let r=t.viewQuery;r!==null&&Tf(1,r,n);let i=t.template;i!==null&&jE(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Oi]?.finishViewCreation(t),t.staticContentQueries&&zE(t,e),t.staticViewQueries&&Tf(2,t.viewQuery,n);let o=t.components;o!==null&&uM(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[k]&=-5,eh()}}function uM(t,e){for(let n=0;n<e.length;n++)cM(t,e[n])}function dM(t,e,n,r){let i=Y(null);try{let o=e.tView,a=t[k]&4096?4096:16,c=ml(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];c[ki]=l;let u=t[Oi];return u!==null&&(c[Oi]=u.createEmbeddedView(o)),wh(o,c,n),c}finally{Y(i)}}function xy(t,e){return!e||e.firstChild===null||Vc(t)}function fM(t,e,n,r=!0){let i=e[U];if(EN(i,e,t,n),r){let s=Df(n,t),a=e[me],c=RE(a,t[un]);c!==null&&yN(i,t[kt],a,e,c,s)}let o=e[Wt];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function $c(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(xt(o)),qt(o)&&hM(o,r);let s=n.type;if(s&8)$c(t,e,n.child,r);else if(s&32){let a=dh(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=xE(e,n);if(Array.isArray(a))r.push(...a);else{let c=Dr(e[pt]);$c(c[U],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function hM(t,e){for(let n=et;n<t.length;n++){let r=t[n],i=r[U].firstChild;i!==null&&$c(r[U],r,i,e)}t[un]!==t[tt]&&e.push(t[un])}var qE=[];function pM(t){return t[ft]??mM(t)}function mM(t){let e=qE.pop()??Object.create(vM);return e.lView=t,e}function gM(t){t.lView[ft]!==t&&(t.lView=null,qE.push(t))}var vM=V(_({},zo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ol(t.lView)},consumerOnSignalRead(){this.lView[ft]=this}});function yM(t){let e=t[ft]??Object.create(_M);return e.lView=t,e}var _M=V(_({},zo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Dr(t.lView);for(;e&&!YE(e[U]);)e=Dr(e);e&&A_(e)},consumerOnSignalRead(){this.lView[ft]=this}});function YE(t){return t.type!==2}var EM=100;function KE(t,e=!0,n=0){let r=t[zt],i=r.rendererFactory,o=!1;o||i.begin?.();try{IM(t,n)}catch(s){throw e&&GE(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function IM(t,e){let n=O_();try{vy(!0),Sf(t,e);let r=0;for(;il(t);){if(r===EM)throw new S(103,!1);r++,Sf(t,1)}}finally{vy(n)}}function wM(t,e,n,r){let i=e[k];if((i&256)===256)return;let o=!1,s=!1;!o&&e[zt].inlineEffectRunner?.flush(),Xf(e);let a=!0,c=null,l=null;o||(YE(t)?(l=pM(e),c=Fa(l)):Iv()===null?(a=!1,l=yM(e),c=Fa(l)):e[ft]&&(vd(e[ft]),e[ft]=null));try{S_(e),nA(t.bindingStartIndex),n!==null&&jE(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let h=t.preOrderCheckHooks;h!==null&&Ec(e,h,null)}else{let h=t.preOrderHooks;h!==null&&Ic(e,h,0,null),Bd(e,0)}if(s||CM(e),ZE(e,0),t.contentQueries!==null&&zE(t,e),!o)if(u){let h=t.contentCheckHooks;h!==null&&Ec(e,h)}else{let h=t.contentHooks;h!==null&&Ic(e,h,1),Bd(e,1)}kN(t,e);let d=t.components;d!==null&&JE(e,d,0);let f=t.viewQuery;if(f!==null&&Tf(2,f,r),!o)if(u){let h=t.viewCheckHooks;h!==null&&Ec(e,h)}else{let h=t.viewHooks;h!==null&&Ic(e,h,2),Bd(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Ud]){for(let h of e[Ud])h();e[Ud]=null}o||(e[k]&=-73)}catch(u){throw o||ol(e),u}finally{l!==null&&(md(l,c),a&&gM(l)),eh()}}function ZE(t,e){for(let n=cE(t);n!==null;n=lE(n))for(let r=et;r<n.length;r++){let i=n[r];QE(i,e)}}function CM(t){for(let e=cE(t);e!==null;e=lE(e)){if(!(e[k]&Rc.HasTransplantedViews))continue;let n=e[Mc];for(let r=0;r<n.length;r++){let i=n[r];A_(i)}}}function DM(t,e,n){let r=qn(e,t);QE(r,n)}function QE(t,e){Kf(t)&&Sf(t,e)}function Sf(t,e){let r=t[U],i=t[k],o=t[ft],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&gd(o)),s||=!1,o&&(o.dirty=!1),t[k]&=-9217,s)wM(r,t,r.template,t[Rt]);else if(i&8192){ZE(t,1);let a=r.components;a!==null&&JE(t,a,1)}}function JE(t,e,n){for(let r=0;r<e.length;r++)DM(t,e[r],n)}function Ch(t,e){let n=O_()?64:1088;for(t[zt].changeDetectionScheduler?.notify(e);t;){t[k]|=n;let r=Dr(t);if(xc(t)&&!r)return t;t=r}return null}var Sr=class{get rootNodes(){let e=this._lView,n=e[U];return $c(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Rt]}set context(e){this._lView[Rt]=e}get destroyed(){return(this._lView[k]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ke];if(qt(e)){let n=e[Nc],r=n?n.indexOf(this):-1;r>-1&&(Cf(e,r),Tc(n,r))}this._attachedToViewContainer=!1}NE(this._lView[U],this._lView)}onDestroy(e){N_(this._lView,e)}markForCheck(){Ch(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[k]&=-129}reattach(){lf(this._lView),this._lView[k]|=128}detectChanges(){this._lView[k]|=1024,KE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=xc(this._lView),n=this._lView[ki];n!==null&&!e&&hh(n,this._lView),SE(this._lView[U],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=e;let n=xc(this._lView),r=this._lView[ki];r!==null&&!n&&AE(r,this._lView),lf(this._lView)}},hs=(()=>{class t{static{this.__NG_ELEMENT_ID__=SM}}return t})(),bM=hs,TM=class extends bM{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=dM(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Sr(i)}};function SM(){return AM(We(),re())}function AM(t,e){return t.type&4?new TM(e,t,cl(t,e)):null}var NM=new RegExp(`^(\\d+)*(${hE}|${fE})*(.*)`);function MM(t){let e=t.match(NM),[n,r,i,o]=e,s=r?parseInt(r,10):i,a=[];for(let[c,l,u]of o.matchAll(/(f|n)(\d*)/g)){let d=parseInt(u,10)||1;a.push(l,d)}return[s,...a]}function RM(t){return!t.prev&&t.parent?.type===8}function qd(t){return t.index-Ue}function xM(t,e){let n=t.i18nNodes;if(n)return n.get(e)}function vl(t,e,n,r){let i=qd(r),o=xM(t,i);if(o===void 0){let s=t.data[YA];if(s?.[i])o=OM(s[i],n);else if(e.firstChild===r)o=t.firstChild;else{let a=r.prev===null,c=r.prev??r.parent;if(RM(r)){let l=qd(r.parent);o=wf(t,l)}else{let l=rt(c,n);if(a)o=l.firstChild;else{let u=qd(c),d=wf(t,u);if(c.type===2&&d){let h=lh(t,u)+1;o=yl(h,d)}else o=l.nextSibling}}}}return o}function yl(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function kM(t,e){let n=t;for(let r=0;r<e.length;r+=2){let i=e[r],o=e[r+1];for(let s=0;s<o;s++)switch(i){case If.FirstChild:n=n.firstChild;break;case If.NextSibling:n=n.nextSibling;break}}return n}function OM(t,e){let[n,...r]=MM(t),i;if(n===fE)i=e[pt][tt];else if(n===hE)i=pN(e[pt][tt]);else{let o=Number(n);i=xt(e[o+Ue])}return kM(i,r)}var PM=!1;function FM(t){PM=t}function LM(t){let e=t[Wt];if(e){let{i18nNodes:n,dehydratedIcuData:r}=e;if(n&&r){let i=t[me];for(let o of r.values())VM(i,n,o)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}function VM(t,e,n){for(let r of n.node.cases[n.case]){let i=e.get(r.index-Ue);i&&ph(t,i,!1)}}function XE(t){let e=t[ns]??[],r=t[ke][me];for(let i of e)jM(i,r);t[ns]=Xe}function jM(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[jc];for(;n<i;){let o=r.nextSibling;ph(e,r,!1),r=o,n++}}}function eI(t){XE(t);let e=t[tt];Mt(e)&&Hc(e);for(let n=et;n<t.length;n++)Hc(t[n])}function Hc(t){LM(t);let e=t[U];for(let n=Ue;n<e.bindingStartIndex;n++)if(qt(t[n])){let r=t[n];eI(r)}else Mt(t[n])&&Hc(t[n])}function UM(t){let e=t._views;for(let n of e){let r=XA(n);r!==null&&r[tt]!==null&&(Mt(r)?Hc(r):eI(r))}}function BM(t,e){let n=[];for(let r of e)for(let i=0;i<(r[pE]??1);i++){let o={data:r,firstChild:null};r[jc]>0&&(o.firstChild=t,t=yl(r[jc],t)),n.push(o)}return[t,n]}var tI=()=>null;function $M(t,e){let n=t[ns];return!e||n===null||n.length===0?null:n[0].data[qA]===e?n.shift():(XE(t),null)}function HM(){tI=$M}function ky(t,e){return tI(t,e)}var Li=class{},_l=new T("",{providedIn:"root",factory:()=>!1});var nI=new T(""),rI=new T(""),Af=class{},Wc=class{};function WM(t){let e=Error(`No component factory found for ${je(t)}.`);return e[zM]=t,e}var zM="ngComponent";var Nf=class{resolveComponentFactory(e){throw WM(e)}},Vi=class{static{this.NULL=new Nf}},ji=class{},Kt=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>GM()}}return t})();function GM(){let t=re(),e=We(),n=qn(e.index,t);return(Mt(n)?n:t)[me]}var qM=(()=>{class t{static{this.\u0275prov=A({token:t,providedIn:"root",factory:()=>null})}}return t})();function zc(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=oy(i,a);else if(o==2){let c=a,l=e[++s];r=oy(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Gc=class extends Vi{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Cr(e);return new rs(n,this.ngModule)}};function Oy(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:Bn.None;e?n.push({propName:s,templateName:r,isSignal:(a&Bn.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function YM(t){let e=t.toLowerCase();return e==="svg"?WS:e==="math"?zS:null}var rs=class extends Wc{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Oy(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Oy(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=CS(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=Y(null);try{i=i||this.ngModule;let s=i instanceof ht?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new df(e,s):e,c=a.get(ji,null);if(c===null)throw new S(407,!1);let l=a.get(qM,null),u=a.get(Li,null),d={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:u},f=c.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",m=r?FN(f,r,this.componentDef.encapsulation,a):fh(f,h,YM(h)),b=512;this.componentDef.signals?b|=4096:this.componentDef.onPush||(b|=16);let N=null;m!==null&&(N=ch(m,a,!0));let L=_h(0,null,null,1,0,null,null,null,null,null,null),ce=ml(null,L,null,b,null,null,d,f,a,null,N);Xf(ce);let le,_e,Dt=null;try{let Ne=this.componentDef,cn,$o=null;Ne.findHostDirectiveDefs?(cn=[],$o=new Map,Ne.findHostDirectiveDefs(Ne,cn,$o),cn.push(Ne)):cn=[Ne];let Ho=KM(ce,m);Dt=ZM(Ho,m,Ne,cn,ce,d,f),_e=T_(L,Ue),m&&XM(f,Ne,m,r),n!==void 0&&eR(_e,this.ngContentSelectors,n),le=JM(Dt,Ne,cn,$o,ce,[tR]),wh(L,ce,null)}catch(Ne){throw Dt!==null&&_f(Dt),_f(ce),Ne}finally{eh()}return new Mf(this.componentType,le,cl(_e,ce),ce,_e)}finally{Y(o)}}},Mf=class extends Af{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Sr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Ih(o[U],o,i,e,n),this.previousInputValues.set(e,n);let s=qn(this._tNode.index,o);Ch(s,1)}}get injector(){return new Ir(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function KM(t,e){let n=t[U],r=Ue;return t[r]=e,fs(n,r,2,"#host",null)}function ZM(t,e,n,r,i,o,s){let a=i[U];QM(r,t,e,s);let c=null;e!==null&&(c=ch(e,i[xi]));let l=o.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=ml(i,UE(n),null,u,i[t.index],t,o,l,null,null,c);return a.firstCreatePass&&bf(a,t,r.length-1),gl(i,d),i[t.index]=d}function QM(t,e,n,r){for(let i of t)e.mergedAttrs=Xo(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(zc(e,e.mergedAttrs,!0),n!==null&&PE(r,n,e))}function JM(t,e,n,r,i,o){let s=We(),a=i[U],c=rt(s,i);$E(a,i,s,n,null,r);for(let u=0;u<n.length;u++){let d=s.directiveStart+u,f=Fi(i,a,d,s);Hn(f,i)}HE(a,i,s),c&&Hn(c,i);let l=Fi(i,a,s.directiveStart+s.componentOffset,s);if(t[Rt]=i[Rt]=l,o!==null)for(let u of o)u(l,e);return gh(a,s,i),l}function XM(t,e,n,r){if(r)rf(t,n,["ng-version","18.2.10"]);else{let{attrs:i,classes:o}=DS(e.selectors[0]);i&&rf(t,n,i),o&&o.length>0&&OE(t,n,o.join(" "))}}function eR(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function tR(){let t=We();al(re()[U],t)}var kr=(()=>{class t{static{this.__NG_ELEMENT_ID__=nR}}return t})();function nR(){let t=We();return iR(t,re())}var rR=kr,iI=class extends rR{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return cl(this._hostTNode,this._hostLView)}get injector(){return new Ir(this._hostTNode,this._hostLView)}get parentInjector(){let e=th(this._hostTNode,this._hostLView);if(z_(e)){let n=Oc(e,this._hostLView),r=kc(e),i=n[U].data[r+8];return new Ir(i,n)}else return new Ir(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Py(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-et}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=ky(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,xy(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!US(e),a;if(s)a=n;else{let m=n||{};a=m.index,r=m.injector,i=m.projectableNodes,o=m.environmentInjector||m.ngModuleRef}let c=s?e:new rs(Cr(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let b=(s?l:this.parentInjector).get(ht,null);b&&(o=b)}let u=Cr(c.componentType??{}),d=ky(this._lContainer,u?.id??null),f=d?.firstChild??null,h=c.create(l,i,f,o);return this.insertImpl(h.hostView,a,xy(this._hostTNode,d)),h}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(GS(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[ke],l=new iI(c,c[kt],c[ke]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return fM(s,i,o,r),e.attachToViewContainerRef(),r_(Yd(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Py(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Cf(this._lContainer,n);r&&(Tc(Yd(this._lContainer),n),NE(r[U],r))}detach(e){let n=this._adjustIndex(e,-1),r=Cf(this._lContainer,n);return r&&Tc(Yd(this._lContainer),n)!=null?new Sr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Py(t){return t[Nc]}function Yd(t){return t[Nc]||(t[Nc]=[])}function iR(t,e){let n,r=e[t.index];return qt(r)?n=r:(n=WE(r,e,null,t),e[t.index]=n,gl(e,n)),oI(n,e,t,r),new iI(n,t,e)}function oR(t,e){let n=t[me],r=n.createComment(""),i=rt(e,t),o=RE(n,i);return Bc(n,o,r,bN(n,i),!1),r}var oI=sI,Dh=()=>!1;function sR(t,e,n){return Dh(t,e,n)}function sI(t,e,n,r){if(t[un])return;let i;n.type&8?i=xt(r):i=oR(e,n),t[un]=i}function aR(t,e,n){if(t[un]&&t[ns])return!0;let r=n[Wt],i=e.index-Ue;if(!r||VA(e)||us(r,i))return!1;let s=wf(r,i),a=r.data[ah]?.[i],[c,l]=BM(s,a);return t[un]=c,t[ns]=l,!0}function cR(t,e,n,r){Dh(t,n,e)||sI(t,e,n,r)}function lR(){oI=cR,Dh=aR}var Fy=new Set;function Kn(t){Fy.has(t)||(Fy.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function ps(t,e){Kn("NgSignals");let n=xv(t),r=n[kn];return e?.equal&&(r.equal=e.equal),n.set=i=>yd(r,i),n.update=i=>kv(r,i),n.asReadonly=uR.bind(n),n}function uR(){let t=this[kn];if(t.readonlyFn===void 0){let e=()=>this();e[kn]=t,t.readonlyFn=e}return t.readonlyFn}function dR(t){return Object.getPrototypeOf(t.prototype).constructor}function Zt(t){let e=dR(t.type),n=!0,r=[t];for(;e;){let i;if($n(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new S(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=mc(t.inputs),s.inputTransforms=mc(t.inputTransforms),s.declaredInputs=mc(t.declaredInputs),s.outputs=mc(t.outputs);let a=i.hostBindings;a&&gR(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&pR(t,c),l&&mR(t,l),fR(t,i),zT(t.outputs,i.outputs),$n(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Zt&&(n=!1)}}e=Object.getPrototypeOf(e)}hR(r)}function fR(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function hR(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Xo(i.hostAttrs,n=Xo(n,i.hostAttrs))}}function mc(t){return t===Mi?{}:t===Xe?[]:t}function pR(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function mR(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function gR(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function bh(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Wn=class{},is=class{};var Rf=class extends Wn{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Gc(this);let o=f_(e);this._bootstrapComponents=DE(o.bootstrap),this._r3Injector=eE(e,n,[{provide:Wn,useValue:this},{provide:Vi,useValue:this.componentFactoryResolver},...r],je(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},xf=class extends is{constructor(e){super(),this.moduleType=e}create(e){return new Rf(this.moduleType,e,[])}};var qc=class extends Wn{constructor(e){super(),this.componentFactoryResolver=new Gc(this),this.instance=null;let n=new es([...e.providers,{provide:Wn,useValue:this},{provide:Vi,useValue:this.componentFactoryResolver}],e.parent||qf(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Th(t,e,n=null){return new qc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function aI(t){return yR(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function vR(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function yR(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Sh(t,e,n){return t[e]=n}function zn(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function cI(t,e,n,r){let i=zn(t,e,n);return zn(t,e+1,r)||i}function _R(t,e,n,r,i){let o=cI(t,e,n,r);return zn(t,e+2,i)||o}function ms(t){return(t.flags&32)===32}function ER(t,e,n,r,i,o,s,a,c){let l=e.consts,u=fs(e,t,4,s||null,a||null);Eh(e,n,u,Pi(l,c)),al(e,u);let d=u.tView=_h(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function IR(t,e,n,r,i,o,s,a,c,l){let u=n+Ue,d=e.firstCreatePass?ER(u,e,t,r,i,o,s,a,c):e.data[u];Nr(d,!1);let f=lI(e,t,d,n);sl()&&hl(e,t,f,d),Hn(f,t);let h=WE(f,t,f,d);return t[u]=h,gl(t,h),sR(h,d,t),rl(d)&&vh(e,t,d),c!=null&&yh(t,d,l),d}function K(t,e,n,r,i,o,s,a){let c=re(),l=it(),u=Pi(l.consts,o);return IR(c,l,t,e,n,r,i,u,s,a),K}var lI=uI;function uI(t,e,n,r){return Yn(!0),e[me].createComment("")}function wR(t,e,n,r){let i=e[Wt],o=!i||ls()||ms(n)||us(i,r);if(Yn(o),o)return uI(t,e,n,r);let s=i.data[GA]?.[r]??null;s!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=s);let a=vl(i,t,e,n);dl(i,r,a);let c=lh(i,r);return yl(c,a)}function CR(){lI=wR}var Zo=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Zo||{}),DR=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=A({token:t,providedIn:"root",factory:()=>new t})}}return t})(),Ly=class t{constructor(){this.ngZone=y(J),this.scheduler=y(Li),this.errorHandler=y(dn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Zo.EarlyRead,Zo.Write,Zo.MixedReadWrite,Zo.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=A({token:t,providedIn:"root",factory:()=>new t})}};function Or(t,e,n,r){let i=re(),o=Jf();if(zn(i,o,e)){let s=it(),a=B_();tM(a,i,t,e,n,r)}return Or}function bR(t,e,n,r){return zn(t,Jf(),n)?e+Xc(n)+r:xr}function gc(t,e){return t<<17|e<<2}function Ar(t){return t>>17&32767}function TR(t){return(t&2)==2}function SR(t,e){return t&131071|e<<17}function kf(t){return t|2}function Ui(t){return(t&131068)>>2}function Kd(t,e){return t&-131069|e<<2}function AR(t){return(t&1)===1}function Of(t){return t|1}function NR(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Ar(s),c=Ui(s);t[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||as(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let f=Ar(t[a+1]);t[r+1]=gc(f,a),f!==0&&(t[f+1]=Kd(t[f+1],r)),t[a+1]=SR(t[a+1],r)}else t[r+1]=gc(a,0),a!==0&&(t[a+1]=Kd(t[a+1],r)),a=r;else t[r+1]=gc(c,0),a===0?a=r:t[c+1]=Kd(t[c+1],r),c=r;l&&(t[r+1]=kf(t[r+1])),Vy(t,u,r,!0),Vy(t,u,r,!1),MR(e,u,t,r,o),s=gc(a,c),o?e.classBindings=s:e.styleBindings=s}function MR(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&as(o,e)>=0&&(n[r+1]=Of(n[r+1]))}function Vy(t,e,n,r){let i=t[n+1],o=e===null,s=r?Ar(i):Ui(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];RR(c,e)&&(a=!0,t[s+1]=r?Of(l):kf(l)),s=r?Ar(l):Ui(l)}a&&(t[n+1]=r?kf(i):Of(i))}function RR(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?as(t,e)>=0:!1}function C(t,e,n){let r=re(),i=Jf();if(zn(r,i,e)){let o=it(),s=B_();HN(o,s,r,t,e,r[me],n,!1)}return C}function jy(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Ih(t,n,o[s],s,r)}function El(t,e){return xR(t,e,null,!0),El}function xR(t,e,n,r){let i=re(),o=it(),s=rA(2);if(o.firstUpdatePass&&OR(o,t,s,r),e!==xr&&zn(i,s,e)){let a=o.data[$i()];jR(o,a,i,i[me],t,i[s+1]=UR(e,n),r,s)}}function kR(t,e){return e>=t.expandoStartIndex}function OR(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[$i()],s=kR(t,n);BR(o,r)&&e===null&&!s&&(e=!1),e=PR(i,o,e,r),NR(i,o,e,n,s,r)}}function PR(t,e,n,r){let i=aA(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Zd(null,t,e,n,r),n=os(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Zd(i,t,e,n,r),o===null){let c=FR(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Zd(null,t,e,c[1],r),c=os(c,e.attrs,r),LR(t,e,r,c))}else o=VR(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function FR(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ui(r)!==0)return t[Ar(r)]}function LR(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Ar(i)]=r}function VR(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=os(r,s,n)}return os(r,e.attrs,n)}function Zd(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=os(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function os(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),dS(t,s,n?!0:e[++o]))}return t===void 0?null:t}function jR(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=AR(l)?Uy(c,e,n,i,Ui(l),s):void 0;if(!Yc(u)){Yc(o)||TR(l)&&(o=Uy(c,null,n,i,a,s));let d=b_($i(),n);RN(r,s,d,i,o)}}function Uy(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,f=n[i+1];f===xr&&(f=d?Xe:void 0);let h=d?Vd(f,r):u===r?f:void 0;if(l&&!Yc(h)&&(h=Vd(c,r)),Yc(h)&&(a=h,s))return a;let m=t[i+1];i=s?Ar(m):Ui(m)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Vd(c,r))}return a}function Yc(t){return t!==void 0}function UR(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=je(ds(t)))),t}function BR(t,e){return(t.flags&(e?8:16))!==0}function $R(t,e,n,r,i,o){let s=e.consts,a=Pi(s,i),c=fs(e,t,2,r,a);return Eh(e,n,c,Pi(s,o)),c.attrs!==null&&zc(c,c.attrs,!1),c.mergedAttrs!==null&&zc(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function v(t,e,n,r){let i=re(),o=it(),s=Ue+t,a=i[me],c=o.firstCreatePass?$R(s,o,i,e,n,r):o.data[s],l=dI(o,i,c,a,e,t);i[s]=l;let u=rl(c);return Nr(c,!0),PE(a,l,c),!ms(c)&&sl()&&hl(o,i,l,c),KS()===0&&Hn(l,i),ZS(),u&&(vh(o,i,c),gh(o,c,i)),r!==null&&yh(i,c),v}function g(){let t=We();Zf()?k_():(t=t.parent,Nr(t,!1));let e=t;JS(e)&&eA(),QS();let n=it();return n.firstCreatePass&&(al(n,t),Yf(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&hA(e)&&jy(n,e,re(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&pA(e)&&jy(n,e,re(),e.stylesWithoutHost,!1),g}function X(t,e,n,r){return v(t,e,n,r),g(),X}var dI=(t,e,n,r,i,o)=>(Yn(!0),fh(r,i,$_()));function HR(t,e,n,r,i,o){let s=e[Wt],a=!s||ls()||ms(n)||us(s,o);if(Yn(a),a)return fh(r,i,$_());let c=vl(s,t,e,n);return yE(s,o)&&dl(s,o,c.nextSibling),s&&(oE(n)||sE(c))&&cs(n)&&(XS(n),kE(c)),c}function WR(){dI=HR}function zR(t,e,n,r,i){let o=e.consts,s=Pi(o,r),a=fs(e,t,8,"ng-container",s);s!==null&&zc(a,s,!0);let c=Pi(o,i);return Eh(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function Pr(t,e,n){let r=re(),i=it(),o=t+Ue,s=i.firstCreatePass?zR(o,i,r,e,n):i.data[o];Nr(s,!0);let a=fI(i,r,s,t);return r[o]=a,sl()&&hl(i,r,a,s),Hn(a,r),rl(s)&&(vh(i,r,s),gh(i,s,r)),n!=null&&yh(r,s),Pr}function Fr(){let t=We(),e=it();return Zf()?k_():(t=t.parent,Nr(t,!1)),e.firstCreatePass&&(al(e,t),Yf(t)&&e.queries.elementEnd(t)),Fr}var fI=(t,e,n,r)=>(Yn(!0),TE(e[me],""));function GR(t,e,n,r){let i,o=e[Wt],s=!o||ls()||us(o,r)||ms(n);if(Yn(s),s)return TE(e[me],"");let a=vl(o,t,e,n),c=nN(o,r);return dl(o,r,a),i=yl(c,a),i}function qR(){fI=GR}function gt(){return re()}var Kc="en-US";var YR=Kc;function KR(t){typeof t=="string"&&(YR=t.toLowerCase().replace(/_/g,"-"))}var ZR=(t,e,n)=>{};function Z(t,e,n,r){let i=re(),o=it(),s=We();return JR(o,i,i[me],s,t,e,r),Z}function QR(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Ac],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function JR(t,e,n,r,i,o,s){let a=rl(r),l=t.firstCreatePass&&sM(t),u=e[Rt],d=oM(e),f=!0;if(r.type&3||s){let b=rt(r,e),N=s?s(b):b,L=d.length,ce=s?_e=>s(xt(_e[r.index])):r.index,le=null;if(!s&&a&&(le=QR(t,e,i,r.index)),le!==null){let _e=le.__ngLastListenerFn__||le;_e.__ngNextListenerFn__=o,le.__ngLastListenerFn__=o,f=!1}else{o=$y(r,e,u,o),ZR(b,i,o);let _e=n.listen(N,i,o);d.push(o,_e),l&&l.push(i,ce,L,L+1)}}else o=$y(r,e,u,o);let h=r.outputs,m;if(f&&h!==null&&(m=h[i])){let b=m.length;if(b)for(let N=0;N<b;N+=2){let L=m[N],ce=m[N+1],Dt=e[L][ce].subscribe(o),Ne=d.length;d.push(o,Dt),l&&l.push(i,r.index,Ne,-(Ne+1))}}}function By(t,e,n,r){let i=Y(null);try{return Bt(6,e,n),n(r)!==!1}catch(o){return GE(t,o),!1}finally{Bt(7,e,n),Y(i)}}function $y(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?qn(t.index,e):e;Ch(s,5);let a=By(e,n,r,o),c=i.__ngNextListenerFn__;for(;c;)a=By(e,n,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function ie(t=1){return lA(t)}function E(t,e=""){let n=re(),r=it(),i=t+Ue,o=r.firstCreatePass?fs(r,i,1,e,null):r.data[i],s=hI(r,n,o,e,t);n[i]=s,sl()&&hl(r,n,s,o),Nr(o,!1)}var hI=(t,e,n,r,i)=>(Yn(!0),bE(e[me],r));function XR(t,e,n,r,i){let o=e[Wt],s=!o||ls()||ms(n)||us(o,i);return Yn(s),s?bE(e[me],r):vl(o,t,e,n)}function ex(){hI=XR}function gs(t,e,n){let r=re(),i=bR(r,t,e,n);return i!==xr&&aM(r,$i(),i),gs}function tx(t,e,n){let r=it();if(r.firstCreatePass){let i=$n(t);Pf(n,r.data,r.blueprint,i,!0),Pf(e,r.data,r.blueprint,i,!1)}}function Pf(t,e,n,r,i){if(t=Ve(t),Array.isArray(t))for(let o=0;o<t.length;o++)Pf(t[o],e,n,r,i);else{let o=it(),s=re(),a=We(),c=Ri(t)?t:Ve(t.provide),l=y_(t),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(Ri(t)||!t.multi){let h=new Tr(l,i,D),m=Jd(c,e,i?u:u+f,d);m===-1?(hf(Pc(a,s),o,c),Qd(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[m]=h,s[m]=h)}else{let h=Jd(c,e,u+f,d),m=Jd(c,e,u,u+f),b=h>=0&&n[h],N=m>=0&&n[m];if(i&&!N||!i&&!b){hf(Pc(a,s),o,c);let L=ix(i?rx:nx,n.length,i,r,l);!i&&N&&(n[m].providerFactory=L),Qd(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(L),s.push(L)}else{let L=pI(n[i?m:h],l,!i&&r);Qd(o,t,h>-1?h:m,L)}!i&&r&&N&&n[m].componentProviders++}}}function Qd(t,e,n,r){let i=Ri(e),o=xS(e);if(i||o){let c=(o?Ve(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function pI(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Jd(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function nx(t,e,n,r){return Ff(this.multi,[])}function rx(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Fi(n,n[U],this.providerFactory.index,r);o=a.slice(0,s),Ff(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Ff(i,o);return o}function Ff(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function ix(t,e,n,r,i){let o=new Tr(t,n,D);return o.multi=[],o.index=e,o.componentProviders=0,pI(o,i,r&&!n),o}function Wi(t,e=[]){return n=>{n.providersResolver=(r,i)=>tx(r,i?i(t):t,e)}}var ox=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=m_(!1,n.type),i=r.length>0?Th([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=A({token:t,providedIn:"environment",factory:()=>new t(R(ht))})}}return t})();function de(t){Kn("NgStandalone"),t.getStandaloneInjector=e=>e.get(ox).getOrCreateStandaloneInjector(t)}function Zn(t,e,n,r){return sx(re(),Qf(),t,e,n,r)}function vs(t,e,n,r,i){return ax(re(),Qf(),t,e,n,r,i)}function mI(t,e,n,r,i,o){return cx(re(),Qf(),t,e,n,r,i,o)}function Ah(t,e){let n=t[e];return n===xr?void 0:n}function sx(t,e,n,r,i,o){let s=e+n;return zn(t,s,i)?Sh(t,s+1,o?r.call(o,i):r(i)):Ah(t,s+1)}function ax(t,e,n,r,i,o,s){let a=e+n;return cI(t,a,i,o)?Sh(t,a+2,s?r.call(s,i,o):r(i,o)):Ah(t,a+2)}function cx(t,e,n,r,i,o,s,a){let c=e+n;return _R(t,c,i,o,s)?Sh(t,c+3,a?r.call(a,i,o,s):r(i,o,s)):Ah(t,c+3)}var hn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},gI=new hn("18.2.10");var Il=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var vI=new T("");function Lr(t){return!!t&&typeof t.then=="function"}function yI(t){return!!t&&typeof t.subscribe=="function"}var _I=new T(""),EI=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=y(_I,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=i();if(Lr(o))n.push(o);else if(yI(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),zi=new T("");function lx(){Rv(()=>{throw new S(600,!1)})}function ux(t){return t.isBoundToModule}var dx=10;function fx(t,e,n){try{let r=n();return Lr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Qt=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=y(OA),this.afterRenderManager=y(DR),this.zonelessEnabled=y(_l),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Se,this.afterTick=new Se,this.componentTypes=[],this.components=[],this.isStable=y(Rr).hasPendingTasks.pipe(P(n=>!n)),this._injector=y(ht)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof Wc;if(!this._injector.get(EI).done){let f=!i&&d_(n),h=!1;throw new S(405,h)}let s;i?s=n:s=this._injector.get(Vi).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=ux(s)?void 0:this._injector.get(Wn),c=r||s.selector,l=s.create(Oe.NULL,[],c,a),u=l.location.nativeElement,d=l.injector.get(vI,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),wc(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new S(101,!1);let n=Y(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Y(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(ji,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<dx;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)hx(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>il(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;wc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(zi,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>wc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new S(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function wc(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var vc;function wl(t){vc??=new WeakMap;let e=vc.get(t);if(e)return e;let n=t.isStable.pipe(St(r=>r)).toPromise().then(()=>{});return vc.set(t,n),t.onDestroy(()=>vc?.delete(t)),n}function hx(t,e,n,r){if(!n&&!il(t))return;KE(t,e,n&&!r?0:1)}var Lf=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Nh=(()=>{class t{compileModuleSync(n){return new xf(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=f_(n),o=DE(i.declarations).reduce((s,a)=>{let c=Cr(a);return c&&s.push(new rs(c)),s},[]);return new Lf(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var px=(()=>{class t{constructor(){this.zone=y(J),this.changeDetectionScheduler=y(Li),this.applicationRef=y(Qt)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),mx=new T("",{factory:()=>!1});function II({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new J(V(_({},CI()),{scheduleInRootZone:n})),[{provide:J,useFactory:t},{provide:wr,multi:!0,useFactory:()=>{let r=y(px,{optional:!0});return()=>r.initialize()}},{provide:wr,multi:!0,useFactory:()=>{let r=y(gx);return()=>{r.initialize()}}},e===!0?{provide:nI,useValue:!0}:[],{provide:rI,useValue:n??tE}]}function wI(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=II({ngZoneFactory:()=>{let i=CI(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Kn("NgZone_CoalesceEvent"),new J(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return nt([{provide:mx,useValue:!0},{provide:_l,useValue:!1},r])}function CI(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var gx=(()=>{class t{constructor(){this.subscription=new pe,this.initialized=!1,this.zone=y(J),this.pendingTasks=y(Rr)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{J.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{J.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var vx=(()=>{class t{constructor(){this.appRef=y(Qt),this.taskService=y(Rr),this.ngZone=y(J),this.zonelessEnabled=y(_l),this.disableScheduling=y(nI,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new pe,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Lc):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(y(rI,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof yf||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?Cy:rE;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Lc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Cy(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function yx(){return typeof $localize<"u"&&$localize.locale||Kc}var Mh=new T("",{providedIn:"root",factory:()=>y(Mh,j.Optional|j.SkipSelf)||yx()});var Vf=new T("");function yc(t){return!t.moduleRef}function _x(t){let e=yc(t)?t.r3Injector:t.moduleRef.injector,n=e.get(J);return n.run(()=>{yc(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(dn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),yc(t)){let o=()=>e.destroy(),s=t.platformInjector.get(Vf);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Vf);s.add(o),t.moduleRef.onDestroy(()=>{wc(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return fx(r,n,()=>{let o=e.get(EI);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Mh,Kc);if(KR(s||Kc),yc(t)){let a=e.get(Qt);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return Ex(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function Ex(t,e){let n=t.injector.get(Qt);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new S(-403,!1);e.push(t)}var Cc=null;function Ix(t=[],e){return Oe.create({name:e,providers:[{provide:tl,useValue:"platform"},{provide:Vf,useValue:new Set([()=>Cc=null])},...t]})}function wx(t=[]){if(Cc)return Cc;let e=Ix(t);return Cc=e,lx(),Cx(e),e}function Cx(t){t.get(oh,null)?.forEach(n=>n())}var Gi=(()=>{class t{static{this.__NG_ELEMENT_ID__=Dx}}return t})();function Dx(t){return bx(We(),re(),(t&16)===16)}function bx(t,e,n){if(cs(t)&&!n){let r=qn(t.index,e);return new Sr(r,r)}else if(t.type&175){let r=e[pt];return new Sr(r,e)}return null}var jf=class{constructor(){}supports(e){return aI(e)}create(e){return new Uf(e)}},Tx=(t,e)=>e,Uf=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Tx}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<Hy(r,i,o)?n:r,a=Hy(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let f=0;f<l;f++){let h=f<o.length?o[f]:o[f]=0,m=h+f;u<=m&&m<l&&(o[f]=h+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!aI(e))throw new S(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,vR(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Bf(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Zc),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Zc),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Bf=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},$f=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Zc=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new $f,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Hy(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function Wy(){return new Rh([new jf])}var Rh=(()=>{class t{static{this.\u0275prov=A({token:t,providedIn:"root",factory:Wy})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||Wy()),deps:[[t,new n_,new Be]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new S(901,!1)}}return t})();function DI(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=wx(r),o=[II({}),{provide:Li,useExisting:vx},...n||[]],s=new qc({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return _x({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var zy=!1;function Sx(){zy||(zy=!0,JA(),WR(),ex(),qR(),CR(),lR(),HM(),jN())}function Ax(t,e){return wl(t)}function bI(){return nt([{provide:fc,useFactory:()=>{let t=!0;return pc()&&(t=!!y(Hi,{optional:!0})?.get(gE,null)),t&&Kn("NgHydration"),t}},{provide:wr,useValue:()=>{FM(!1),pc()&&y(fc)&&(Nx(),Sx())},multi:!0},{provide:EE,useFactory:()=>pc()&&y(fc)},{provide:zi,useFactory:()=>{if(pc()&&y(fc)){let t=y(Qt),e=y(Oe);return()=>{Ax(t,e).then(()=>{UM(t)})}}return()=>{}},multi:!0}])}function Nx(){let t=ll(),e;for(let n of t.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===ZA){e=n;break}if(!e)throw new S(-507,!1)}function qi(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function ys(t,e){Kn("NgSignals");let n=Av(t);return e?.equal&&(n[kn].equal=e.equal),n}function gn(t){let e=Y(null);try{return t()}finally{Y(e)}}var RI=null;function vn(){return RI}function xI(t){RI??=t}var Cl=class{};var ot=new T(""),kI=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:()=>y(Mx),providedIn:"platform"})}}return t})();var Mx=(()=>{class t extends kI{constructor(){super(),this._doc=y(ot),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return vn().getBaseHref(this._doc)}onPopState(n){let r=vn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=vn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function OI(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function TI(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Vr(t){return t&&t[0]!=="?"?"?"+t:t}var Yi=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:()=>y(PI),providedIn:"root"})}}return t})(),Rx=new T(""),PI=(()=>{class t extends Yi{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??y(ot).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return OI(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Vr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Vr(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Vr(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(R(kI),R(Rx,8))}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var _s=(()=>{class t{constructor(n){this._subject=new se,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=Ox(TI(SI(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Vr(r))}normalize(n){return t.stripTrailingSlash(kx(this._basePath,SI(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Vr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Vr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=Vr}static{this.joinWithSlash=OI}static{this.stripTrailingSlash=TI}static{this.\u0275fac=function(r){return new(r||t)(R(Yi))}}static{this.\u0275prov=A({token:t,factory:()=>xx(),providedIn:"root"})}}return t})();function xx(){return new _s(R(Yi))}function kx(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function SI(t){return t.replace(/\/index.html$/,"")}function Ox(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Fh(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var xh=/\s+/,AI=[],Qn=(()=>{class t{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=AI,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(xh):AI}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(xh):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(xh).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||t)(D(Ot),D(Kt))}}static{this.\u0275dir=ge({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();var kh=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},FI=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new kh(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),NI(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);NI(o,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(D(kr),D(hs),D(Rh))}}static{this.\u0275dir=ge({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function NI(t,e){t.context.$implicit=e.item}var Jt=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new Oh,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){MI("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){MI("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(D(kr),D(hs))}}static{this.\u0275dir=ge({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),Oh=class{constructor(){this.$implicit=null,this.ngIf=null}};function MI(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${je(e)}'.`)}var Ph=class{constructor(e,n){this._viewContainerRef=e,this._templateRef=n,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}},Lh=(()=>{class t{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(n){this._ngSwitch=n,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews.push(n)}_matchCase(n){let r=n===this._ngSwitch;return this._lastCasesMatched||=r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(n){if(this._defaultViews.length>0&&n!==this._defaultUsed){this._defaultUsed=n;for(let r of this._defaultViews)r.enforceState(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=ge({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return t})(),LI=(()=>{class t{constructor(n,r,i){this.ngSwitch=i,i._addCase(),this._view=new Ph(n,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(r){return new(r||t)(D(kr),D(hs),D(Lh,9))}}static{this.\u0275dir=ge({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return t})();var Me=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=mn({type:t})}static{this.\u0275inj=pn({})}}return t})(),VI="browser",Px="server";function Es(t){return t===Px}var Dl=class{};var Tl=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var GI=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(GI||{}),Vh=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new Tl,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}};var Sl=class t extends Vh{constructor(e={}){super(e),this.type=GI.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};var Fx=new T("");var Lx=new T(""),jI="b",UI="h",BI="s",$I="st",HI="u",WI="rt",bl=new T(""),Vx=["GET","HEAD"];function jx(t,e){let h=y(bl),{isCacheActive:n}=h,r=_v(h,["isCacheActive"]),{transferCache:i,method:o}=t;if(!n||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!Vx.includes(o)||!r.includeRequestsWithAuthHeaders&&Ux(t)||r.filter?.(t)===!1)return e(t);let s=y(Hi),a=y(Lx,{optional:!0}),c=Es(y(mt));if(a&&!c)throw new S(2803,!1);let l=c&&a?Wx(t.url,a):t.url,u=$x(t,l),d=s.get(u,null),f=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(f=i.includeHeaders),d){let{[jI]:m,[WI]:b,[UI]:N,[BI]:L,[$I]:ce,[HI]:le}=d,_e=m;switch(b){case"arraybuffer":_e=new TextEncoder().encode(m).buffer;break;case"blob":_e=new Blob([m]);break}let Dt=new Tl(N);return x(new Sl({body:_e,headers:Dt,status:L,statusText:ce,url:le}))}return e(t).pipe(ve(m=>{m instanceof Sl&&c&&s.set(u,{[jI]:m.body,[UI]:Bx(m.headers,f),[BI]:m.status,[$I]:m.statusText,[HI]:l,[WI]:t.responseType})}))}function Ux(t){return t.headers.has("authorization")||t.headers.has("proxy-authorization")}function Bx(t,e){if(!e)return{};let n={};for(let r of e){let i=t.getAll(r);i!==null&&(n[r]=i)}return n}function zI(t){return[...t.keys()].sort().map(e=>`${e}=${t.getAll(e)}`).join("&")}function $x(t,e){let{params:n,method:r,responseType:i}=t,o=zI(n),s=t.serializeBody();s instanceof URLSearchParams?s=zI(s):typeof s!="string"&&(s="");let a=[r,i,e,s,o].join("|"),c=Hx(a);return c}function Hx(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function qI(t){return[{provide:bl,useFactory:()=>(Kn("NgHttpTransferCache"),_({isCacheActive:!0},t))},{provide:Fx,useValue:jx,multi:!0,deps:[Hi,bl]},{provide:zi,multi:!0,useFactory:()=>{let e=y(Qt),n=y(bl);return()=>{wl(e).then(()=>{n.isCacheActive=!1})}}}]}function Wx(t,e){let n=new URL(t,"resolve://").origin,r=e[n];return r?t.replace(n,r):t}var Bh=class extends Cl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},$h=class t extends Bh{static makeCurrent(){xI(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=zx();return n==null?null:Gx(n)}resetBaseElement(){Is=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Fh(document.cookie,e)}},Is=null;function zx(){return Is=Is||document.querySelector("base"),Is?Is.getAttribute("href"):null}function Gx(t){return new URL(t,document.baseURI).pathname}var qx=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac})}}return t})(),Hh=new T(""),QI=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new S(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(R(Hh),R(J))}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac})}}return t})(),Al=class{constructor(e){this._doc=e}},jh="ng-app-id",JI=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Es(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${jh}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(jh),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(jh,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(R(ot),R(ul),R(sh,8),R(mt))}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac})}}return t})(),Uh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Gh=/%COMP%/g,XI="%COMP%",Yx=`_nghost-${XI}`,Kx=`_ngcontent-${XI}`,Zx=!0,Qx=new T("",{providedIn:"root",factory:()=>Zx});function Jx(t){return Kx.replace(Gh,t)}function Xx(t){return Yx.replace(Gh,t)}function ew(t,e){return e.map(n=>n.replace(Gh,t))}var YI=(()=>{class t{constructor(n,r,i,o,s,a,c,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Es(a),this.defaultRenderer=new ws(n,s,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ht.ShadowDom&&(r=V(_({},r),{encapsulation:Ht.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Nl?i.applyToHost(n):i instanceof Cs&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Ht.Emulated:o=new Nl(c,l,r,this.appId,u,s,a,d);break;case Ht.ShadowDom:return new Wh(c,l,n,r,s,a,this.nonce,d);default:o=new Cs(c,l,r,u,s,a,d);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(R(QI),R(JI),R(ul),R(Qx),R(ot),R(mt),R(J),R(sh))}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac})}}return t})(),ws=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Uh[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(KI(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(KI(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new S(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Uh[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Uh[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(fn.DashCase|fn.Important)?e.style.setProperty(n,r,i&fn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&fn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=vn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function KI(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Wh=class extends ws{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=ew(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Cs=class extends ws{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?ew(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Nl=class extends Cs{constructor(e,n,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,n,r,o,s,a,c,l),this.contentAttr=Jx(l),this.hostAttr=Xx(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},ek=(()=>{class t extends Al{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(R(ot))}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac})}}return t})(),ZI=["alt","control","meta","shift"],tk={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nk={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},rk=(()=>{class t extends Al{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>vn().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),ZI.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=tk[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),ZI.forEach(s=>{if(s!==i){let a=nk[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(R(ot))}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac})}}return t})();function tw(t,e){return DI(_({rootComponent:t},ik(e)))}function ik(t){return{appProviders:[...lk,...t?.providers??[]],platformProviders:ck}}function ok(){$h.makeCurrent()}function sk(){return new dn}function ak(){return dE(document),document}var ck=[{provide:mt,useValue:VI},{provide:oh,useValue:ok,multi:!0},{provide:ot,useFactory:ak,deps:[]}];var lk=[{provide:tl,useValue:"root"},{provide:dn,useFactory:sk,deps:[]},{provide:Hh,useClass:ek,multi:!0,deps:[ot,J,mt]},{provide:Hh,useClass:rk,multi:!0,deps:[ot]},YI,JI,QI,{provide:ji,useExisting:YI},{provide:Dl,useClass:qx,deps:[]},[]];var nw=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(R(ot))}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var zh=function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t[t.I18nSupport=2]="I18nSupport",t[t.EventReplay=3]="EventReplay",t}(zh||{});function rw(...t){let e=[],n=new Set,r=n.has(zh.HttpTransferCacheOptions);for(let{\u0275providers:i,\u0275kind:o}of t)n.add(o),i.length&&e.push(i);return nt([[],bI(),n.has(zh.NoHttpTransferCache)||r?[]:qI({}),e])}var F="primary",js=Symbol("RouteTitle"),Qh=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function eo(t){return new Qh(t)}function dk(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function fk(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Xt(t[n],e[n]))return!1;return!0}function Xt(t,e){let n=t?Jh(t):void 0,r=e?Jh(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!dw(t[i],e[i]))return!1;return!0}function Jh(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function dw(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function fw(t){return t.length>0?t[t.length-1]:null}function Xn(t){return Md(t)?t:Lr(t)?fe(Promise.resolve(t)):x(t)}var hk={exact:pw,subset:mw},hw={exact:pk,subset:mk,ignored:()=>!0};function iw(t,e,n){return hk[n.paths](t.root,e.root,n.matrixParams)&&hw[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function pk(t,e){return Xt(t,e)}function pw(t,e,n){if(!Br(t.segments,e.segments)||!xl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!pw(t.children[r],e.children[r],n))return!1;return!0}function mk(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>dw(t[n],e[n]))}function mw(t,e,n){return gw(t,e,e.segments,n)}function gw(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Br(i,n)||e.hasChildren()||!xl(i,n,r))}else if(t.segments.length===n.length){if(!Br(t.segments,n)||!xl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!mw(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Br(t.segments,i)||!xl(t.segments,i,r)||!t.children[F]?!1:gw(t.children[F],e,o,r)}}function xl(t,e,n){return e.every((r,i)=>hw[n](t[i].parameters,r.parameters))}var _n=class{constructor(e=new Q([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=eo(this.queryParams),this._queryParamMap}toString(){return yk.serialize(this)}},Q=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return kl(this)}},Ur=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=eo(this.parameters),this._parameterMap}toString(){return yw(this)}};function gk(t,e){return Br(t,e)&&t.every((n,r)=>Xt(n.parameters,e[r].parameters))}function Br(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function vk(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===F&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==F&&(n=n.concat(e(i,r)))}),n}var Dp=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:()=>new Ms,providedIn:"root"})}}return t})(),Ms=class{parse(e){let n=new ep(e);return new _n(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ds(e.root,!0)}`,r=Ik(e.queryParams),i=typeof e.fragment=="string"?`#${_k(e.fragment)}`:"";return`${n}${r}${i}`}},yk=new Ms;function kl(t){return t.segments.map(e=>yw(e)).join("/")}function Ds(t,e){if(!t.hasChildren())return kl(t);if(e){let n=t.children[F]?Ds(t.children[F],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==F&&r.push(`${i}:${Ds(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=vk(t,(r,i)=>i===F?[Ds(t.children[F],!1)]:[`${i}:${Ds(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[F]!=null?`${kl(t)}/${n[0]}`:`${kl(t)}/(${n.join("//")})`}}function vw(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ml(t){return vw(t).replace(/%3B/gi,";")}function _k(t){return encodeURI(t)}function Xh(t){return vw(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ol(t){return decodeURIComponent(t)}function ow(t){return Ol(t.replace(/\+/g,"%20"))}function yw(t){return`${Xh(t.path)}${Ek(t.parameters)}`}function Ek(t){return Object.entries(t).map(([e,n])=>`;${Xh(e)}=${Xh(n)}`).join("")}function Ik(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Ml(n)}=${Ml(i)}`).join("&"):`${Ml(n)}=${Ml(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var wk=/^[^\/()?;#]+/;function qh(t){let e=t.match(wk);return e?e[0]:""}var Ck=/^[^\/()?;=#]+/;function Dk(t){let e=t.match(Ck);return e?e[0]:""}var bk=/^[^=?&#]+/;function Tk(t){let e=t.match(bk);return e?e[0]:""}var Sk=/^[^&#]+/;function Ak(t){let e=t.match(Sk);return e?e[0]:""}var ep=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Q([],{}):new Q([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[F]=new Q(e,n)),r}parseSegment(){let e=qh(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new S(4009,!1);return this.capture(e),new Ur(Ol(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=Dk(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=qh(this.remaining);i&&(r=i,this.capture(r))}e[Ol(n)]=Ol(r)}parseQueryParam(e){let n=Tk(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=Ak(this.remaining);s&&(r=s,this.capture(r))}let i=ow(n),o=ow(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=qh(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new S(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=F);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[F]:new Q([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new S(4011,!1)}};function _w(t){return t.segments.length>0?new Q([],{[F]:t}):t}function Ew(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=Ew(i);if(r===F&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Q(t.segments,e);return Nk(n)}function Nk(t){if(t.numberOfChildren===1&&t.children[F]){let e=t.children[F];return new Q(t.segments.concat(e.segments),e.children)}return t}function $r(t){return t instanceof _n}function Mk(t,e,n=null,r=null){let i=Iw(t);return ww(i,e,n,r)}function Iw(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new Q(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=_w(r);return e??i}function ww(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Yh(i,i,i,n,r);let o=Rk(e);if(o.toRoot())return Yh(i,i,new Q([],{}),n,r);let s=xk(o,i,t),a=s.processChildren?Ss(s.segmentGroup,s.index,o.commands):Dw(s.segmentGroup,s.index,o.commands);return Yh(i,s.segmentGroup,a,n,r)}function Pl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Rs(t){return typeof t=="object"&&t!=null&&t.outlets}function Yh(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;t===e?s=n:s=Cw(t,e,n);let a=_w(Ew(s));return new _n(a,o,i)}function Cw(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=Cw(o,e,n)}),new Q(t.segments,r)}var Fl=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Pl(r[0]))throw new S(4003,!1);let i=r.find(Rs);if(i&&i!==fw(r))throw new S(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Rk(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Fl(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Fl(n,e,r)}var Qi=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function xk(t,e,n){if(t.isAbsolute)return new Qi(e,!0,0);if(!n)return new Qi(e,!1,NaN);if(n.parent===null)return new Qi(n,!0,0);let r=Pl(t.commands[0])?0:1,i=n.segments.length-1+r;return kk(n,i,t.numberOfDoubleDots)}function kk(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new S(4005,!1);i=r.segments.length}return new Qi(r,!1,i-o)}function Ok(t){return Rs(t[0])?t[0].outlets:{[F]:t}}function Dw(t,e,n){if(t??=new Q([],{}),t.segments.length===0&&t.hasChildren())return Ss(t,e,n);let r=Pk(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Q(t.segments.slice(0,r.pathIndex),{});return o.children[F]=new Q(t.segments.slice(r.pathIndex),t.children),Ss(o,0,i)}else return r.match&&i.length===0?new Q(t.segments,{}):r.match&&!t.hasChildren()?tp(t,e,n):r.match?Ss(t,0,i):tp(t,e,n)}function Ss(t,e,n){if(n.length===0)return new Q(t.segments,{});{let r=Ok(n),i={};if(Object.keys(r).some(o=>o!==F)&&t.children[F]&&t.numberOfChildren===1&&t.children[F].segments.length===0){let o=Ss(t.children[F],e,n);return new Q(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Dw(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Q(t.segments,i)}}function Pk(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Rs(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!aw(c,l,s))return o;r+=2}else{if(!aw(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function tp(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Rs(o)){let c=Fk(o.outlets);return new Q(r,c)}if(i===0&&Pl(n[0])){let c=t.segments[e];r.push(new Ur(c.path,sw(n[0]))),i++;continue}let s=Rs(o)?o.outlets[F]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Pl(a)?(r.push(new Ur(s,sw(a))),i+=2):(r.push(new Ur(s,{})),i++)}return new Q(r,{})}function Fk(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=tp(new Q([],{}),0,r))}),e}function sw(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function aw(t,e,n){return t==n.path&&Xt(e,n.parameters)}var As="imperative",Re=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Re||{}),vt=class{constructor(e,n){this.id=e,this.url=n}},xs=class extends vt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Re.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Jn=class extends vt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Re.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},at=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(at||{}),np=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(np||{}),yn=class extends vt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Re.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Hr=class extends vt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Re.NavigationSkipped}},ks=class extends vt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Re.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ll=class extends vt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Re.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rp=class extends vt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Re.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ip=class extends vt{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Re.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},op=class extends vt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Re.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sp=class extends vt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Re.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ap=class{constructor(e){this.route=e,this.type=Re.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},cp=class{constructor(e){this.route=e,this.type=Re.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},lp=class{constructor(e){this.snapshot=e,this.type=Re.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},up=class{constructor(e){this.snapshot=e,this.type=Re.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dp=class{constructor(e){this.snapshot=e,this.type=Re.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fp=class{constructor(e){this.snapshot=e,this.type=Re.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Os=class{},to=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function Lk(t,e){return t.providers&&!t._injector&&(t._injector=Th(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Pt(t){return t.outlet||F}function Vk(t,e){let n=t.filter(r=>Pt(r)===e);return n.push(...t.filter(r=>Pt(r)!==e)),n}function Us(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var hp=class{get injector(){return Us(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Wl(this.rootInjector),this.attachRef=null}},Wl=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new hp(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(R(ht))}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Vl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=pp(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=pp(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=mp(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return mp(e,this._root).map(n=>n.value)}};function pp(t,e){if(t===e.value)return e;for(let n of e.children){let r=pp(t,n);if(r)return r}return null}function mp(t,e){if(t===e.value)return[e];for(let n of e.children){let r=mp(t,n);if(r.length)return r.unshift(e),r}return[]}var st=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Zi(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var jl=class extends Vl{constructor(e,n){super(e),this.snapshot=n,bp(this,e)}toString(){return this.snapshot.toString()}};function bw(t){let e=jk(t),n=new De([new Ur("",{})]),r=new De({}),i=new De({}),o=new De({}),s=new De(""),a=new En(n,r,o,s,i,F,t,e.root);return a.snapshot=e.root,new jl(new st(a,[]),e)}function jk(t){let e={},n={},r={},i="",o=new Ji([],e,r,i,n,F,t,null,{});return new Bl("",new st(o,[]))}var En=class{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(P(l=>l[js]))??x(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(P(e=>eo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(P(e=>eo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ul(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:_(_({},e.params),t.params),data:_(_({},e.data),t.data),resolve:_(_(_(_({},t.data),e.data),i?.data),t._resolvedData)}:r={params:_({},t.params),data:_({},t.data),resolve:_(_({},t.data),t._resolvedData??{})},i&&Sw(i)&&(r.resolve[js]=i.title),r}var Ji=class{get title(){return this.data?.[js]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=eo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=eo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Bl=class extends Vl{constructor(e,n){super(n),this.url=e,bp(this,n)}toString(){return Tw(this._root)}};function bp(t,e){e.value._routerState=t,e.children.forEach(n=>bp(t,n))}function Tw(t){let e=t.children.length>0?` { ${t.children.map(Tw).join(", ")} } `:"";return`${t.value}${e}`}function Kh(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Xt(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Xt(e.params,n.params)||t.paramsSubject.next(n.params),fk(e.url,n.url)||t.urlSubject.next(n.url),Xt(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function gp(t,e){let n=Xt(t.params,e.params)&&gk(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||gp(t.parent,e.parent))}function Sw(t){return typeof t.title=="string"||t.title===null}var Tp=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=F,this.activateEvents=new se,this.deactivateEvents=new se,this.attachEvents=new se,this.detachEvents=new se,this.parentContexts=y(Wl),this.location=y(kr),this.changeDetector=y(Gi),this.inputBinder=y(Sp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new S(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new vp(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=ge({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Yt]})}}return t})(),vp=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===En?this.route:e===Wl?this.childContexts:this.parent.get(e,n)}},Sp=new T("");function Uk(t,e,n){let r=Ps(t,e._root,n?n._root:void 0);return new jl(r,e)}function Ps(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=Bk(t,e,n);return new st(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ps(t,a)),s}}let r=$k(e.value),i=e.children.map(o=>Ps(t,o));return new st(r,i)}}function Bk(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ps(t,r,i);return Ps(t,r)})}function $k(t){return new En(new De(t.url),new De(t.params),new De(t.queryParams),new De(t.fragment),new De(t.data),t.outlet,t.component,t)}var Fs=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},Aw="ngNavigationCancelingError";function $l(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=$r(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Nw(!1,at.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Nw(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Aw]=!0,n.cancellationCode=e,n}function Hk(t){return Mw(t)&&$r(t.url)}function Mw(t){return!!t&&t[Aw]}var Wk=(t,e,n,r)=>P(i=>(new yp(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),yp=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Kh(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Zi(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Zi(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Zi(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Zi(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new fp(o.value.snapshot))}),e.children.length&&this.forwardEvent(new up(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Kh(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Kh(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Hl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Xi=class{constructor(e,n){this.component=e,this.route=n}};function zk(t,e,n){let r=t._root,i=e?e._root:null;return bs(r,i,n,[r.value])}function Gk(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function ro(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Ky(t)?t:e.get(t):r}function bs(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Zi(e);return t.children.forEach(s=>{qk(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ns(a,n.getContext(s),i)),i}function qk(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=Yk(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Hl(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?bs(t,e,a?a.children:null,r,i):bs(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Xi(a.outlet.component,s))}else s&&Ns(e,a,i),i.canActivateChecks.push(new Hl(r)),o.component?bs(t,null,a?a.children:null,r,i):bs(t,null,n,r,i);return i}function Yk(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Br(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Br(t.url,e.url)||!Xt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!gp(t,e)||!Xt(t.queryParams,e.queryParams);case"paramsChange":default:return!gp(t,e)}}function Ns(t,e,n){let r=Zi(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ns(s,e.children.getContext(o),n):Ns(s,null,n):Ns(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Xi(e.outlet.component,i)):n.canDeactivateChecks.push(new Xi(null,i)):n.canDeactivateChecks.push(new Xi(null,i))}function Bs(t){return typeof t=="function"}function Kk(t){return typeof t=="boolean"}function Zk(t){return t&&Bs(t.canLoad)}function Qk(t){return t&&Bs(t.canActivate)}function Jk(t){return t&&Bs(t.canActivateChild)}function Xk(t){return t&&Bs(t.canDeactivate)}function eO(t){return t&&Bs(t.canMatch)}function Rw(t){return t instanceof ln||t?.name==="EmptyError"}var Rl=Symbol("INITIAL_VALUE");function no(){return Je(t=>cc(t.map(e=>e.pipe(Tt(1),Fd(Rl)))).pipe(P(e=>{for(let n of e)if(n!==!0){if(n===Rl)return Rl;if(n===!1||tO(n))return n}return!0}),ut(e=>e!==Rl),Tt(1)))}function tO(t){return $r(t)||t instanceof Fs}function nO(t,e){return be(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?x(V(_({},n),{guardsResult:!0})):rO(s,r,i,t).pipe(be(a=>a&&Kk(a)?iO(r,o,t,e):x(a)),P(a=>V(_({},n),{guardsResult:a})))})}function rO(t,e,n,r){return fe(t).pipe(be(i=>lO(i.component,i.route,n,e,r)),St(i=>i!==!0,!0))}function iO(t,e,n,r){return fe(e).pipe(Er(i=>Ii(sO(i.route.parent,r),oO(i.route,r),cO(t,i.path,n),aO(t,i.route,n))),St(i=>i!==!0,!0))}function oO(t,e){return t!==null&&e&&e(new dp(t)),x(!0)}function sO(t,e){return t!==null&&e&&e(new lp(t)),x(!0)}function aO(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return x(!0);let i=r.map(o=>lc(()=>{let s=Us(e)??n,a=ro(o,s),c=Qk(a)?a.canActivate(e,t):Gt(s,()=>a(e,t));return Xn(c).pipe(St())}));return x(i).pipe(no())}function cO(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>Gk(s)).filter(s=>s!==null).map(s=>lc(()=>{let a=s.guards.map(c=>{let l=Us(s.node)??n,u=ro(c,l),d=Jk(u)?u.canActivateChild(r,t):Gt(l,()=>u(r,t));return Xn(d).pipe(St())});return x(a).pipe(no())}));return x(o).pipe(no())}function lO(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return x(!0);let s=o.map(a=>{let c=Us(e)??i,l=ro(a,c),u=Xk(l)?l.canDeactivate(t,e,n,r):Gt(c,()=>l(t,e,n,r));return Xn(u).pipe(St())});return x(s).pipe(no())}function uO(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return x(!0);let o=i.map(s=>{let a=ro(s,t),c=Zk(a)?a.canLoad(e,n):Gt(t,()=>a(e,n));return Xn(c)});return x(o).pipe(no(),xw(r))}function xw(t){return qo(ve(e=>{if(typeof e!="boolean")throw $l(t,e)}),P(e=>e===!0))}function dO(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return x(!0);let o=i.map(s=>{let a=ro(s,t),c=eO(a)?a.canMatch(e,n):Gt(t,()=>a(e,n));return Xn(c)});return x(o).pipe(no(),xw(r))}var Ls=class{constructor(e){this.segmentGroup=e||null}},Vs=class extends Error{constructor(e){super(),this.urlTree=e}};function Ki(t){return Ei(new Ls(t))}function fO(t){return Ei(new S(4e3,!1))}function hO(t){return Ei(Nw(!1,at.GuardRejected))}var _p=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return x(r);if(i.numberOfChildren>1||!i.children[F])return fO(`${e.redirectTo}`);i=i.children[F]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:c,fragment:l,routeConfig:u,url:d,outlet:f,params:h,data:m,title:b}=i,N=Gt(o,()=>a({params:h,data:m,queryParams:c,fragment:l,routeConfig:u,url:d,outlet:f,title:b}));if(N instanceof _n)throw new Vs(N);n=N}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Vs(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new _n(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Q(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new S(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Ep={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function pO(t,e,n,r,i){let o=kw(t,e,n);return o.matched?(r=Lk(e,r),dO(r,e,n,i).pipe(P(s=>s===!0?o:_({},Ep)))):x(o)}function kw(t,e,n){if(e.path==="**")return mO(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?_({},Ep):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||dk)(n,t,e);if(!i)return _({},Ep);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?_(_({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function mO(t){return{matched:!0,parameters:t.length>0?fw(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function cw(t,e,n,r){return n.length>0&&yO(t,n,r)?{segmentGroup:new Q(e,vO(r,new Q(n,t.children))),slicedSegments:[]}:n.length===0&&_O(t,n,r)?{segmentGroup:new Q(t.segments,gO(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Q(t.segments,t.children),slicedSegments:n}}function gO(t,e,n,r){let i={};for(let o of n)if(zl(t,e,o)&&!r[Pt(o)]){let s=new Q([],{});i[Pt(o)]=s}return _(_({},r),i)}function vO(t,e){let n={};n[F]=e;for(let r of t)if(r.path===""&&Pt(r)!==F){let i=new Q([],{});n[Pt(r)]=i}return n}function yO(t,e,n){return n.some(r=>zl(t,e,r)&&Pt(r)!==F)}function _O(t,e,n){return n.some(r=>zl(t,e,r))}function zl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function EO(t,e,n){return e.length===0&&!t.children[n]}var Ip=class{};function IO(t,e,n,r,i,o,s="emptyOnly"){return new wp(t,e,n,r,i,s,o).recognize()}var wO=31,wp=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new _p(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new S(4002,`'${e.segmentGroup}'`)}recognize(){let e=cw(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(P(({children:n,rootSnapshot:r})=>{let i=new st(r,n),o=new Bl("",i),s=Mk(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Ji([],Object.freeze({}),Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),F,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,F,n).pipe(P(r=>({children:r,rootSnapshot:n})),Ln(r=>{if(r instanceof Vs)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ls?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(P(s=>s instanceof st?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return fe(o).pipe(Er(s=>{let a=r.children[s],c=Vk(n,s);return this.processSegmentGroup(e,c,a,s,i)}),Pd((s,a)=>(s.push(...a),s)),Vn(null),Od(),be(s=>{if(s===null)return Ki(r);let a=Ow(s);return CO(a),x(a)}))}processSegment(e,n,r,i,o,s,a){return fe(n).pipe(Er(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,o,s,a).pipe(Ln(l=>{if(l instanceof Ls)return x(null);throw l}))),St(c=>!!c),Ln(c=>{if(Rw(c))return EO(r,i,o)?x(new Ip):Ki(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,c){return Pt(r)!==s&&(s===F||!zl(i,o,r))?Ki(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,c):Ki(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=kw(n,i,o);if(!c)return Ki(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>wO&&(this.allowRedirects=!1));let h=new Ji(o,l,Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,lw(i),Pt(i),i.component??i._loadedComponent??null,i,uw(i)),m=Ul(h,a,this.paramsInheritanceStrategy);h.params=Object.freeze(m.params),h.data=Object.freeze(m.data);let b=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,h,e);return this.applyRedirects.lineralizeSegments(i,b).pipe(be(N=>this.processSegment(e,r,n,N.concat(f),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=pO(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Je(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Je(({routes:l})=>{let u=r._loadedInjector??e,{parameters:d,consumedSegments:f,remainingSegments:h}=c,m=new Ji(f,d,Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,lw(r),Pt(r),r.component??r._loadedComponent??null,r,uw(r)),b=Ul(m,s,this.paramsInheritanceStrategy);m.params=Object.freeze(b.params),m.data=Object.freeze(b.data);let{segmentGroup:N,slicedSegments:L}=cw(n,f,h,l);if(L.length===0&&N.hasChildren())return this.processChildren(u,l,N,m).pipe(P(le=>new st(m,le)));if(l.length===0&&L.length===0)return x(new st(m,[]));let ce=Pt(r)===o;return this.processSegment(u,l,N,L,ce?F:o,!0,m).pipe(P(le=>new st(m,le instanceof st?[le]:[])))}))):Ki(n)))}getChildConfig(e,n,r){return n.children?x({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?x({routes:n._loadedRoutes,injector:n._loadedInjector}):uO(e,n,r,this.urlSerializer).pipe(be(i=>i?this.configLoader.loadChildren(e,n).pipe(ve(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):hO(n))):x({routes:[],injector:e})}};function CO(t){t.sort((e,n)=>e.value.outlet===F?-1:n.value.outlet===F?1:e.value.outlet.localeCompare(n.value.outlet))}function DO(t){let e=t.value.routeConfig;return e&&e.path===""}function Ow(t){let e=[],n=new Set;for(let r of t){if(!DO(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=Ow(r.children);e.push(new st(r.value,i))}return e.filter(r=>!n.has(r))}function lw(t){return t.data||{}}function uw(t){return t.resolve||{}}function bO(t,e,n,r,i,o){return be(s=>IO(t,e,n,r,s.extractedUrl,i,o).pipe(P(({state:a,tree:c})=>V(_({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function TO(t,e){return be(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return x(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of Pw(c))s.add(l);let a=0;return fe(s).pipe(Er(c=>o.has(c)?SO(c,r,t,e):(c.data=Ul(c,c.parent,t).resolve,x(void 0))),ve(()=>a++),Ci(1),be(c=>a===s.size?x(n):Qe))})}function Pw(t){let e=t.children.map(n=>Pw(n)).flat();return[t,...e]}function SO(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!Sw(i)&&(o[js]=i.title),AO(o,t,e,r).pipe(P(s=>(t._resolvedData=s,t.data=Ul(t,t.parent,n).resolve,null)))}function AO(t,e,n,r){let i=Jh(t);if(i.length===0)return x({});let o={};return fe(i).pipe(be(s=>NO(t[s],e,n,r).pipe(St(),ve(a=>{if(a instanceof Fs)throw $l(new Ms,a);o[s]=a}))),Ci(1),kd(o),Ln(s=>Rw(s)?Qe:Ei(s)))}function NO(t,e,n,r){let i=Us(e)??r,o=ro(t,i),s=o.resolve?o.resolve(e,n):Gt(i,()=>o(e,n));return Xn(s)}function Zh(t){return Je(e=>{let n=t(e);return n?fe(n).pipe(P(()=>e)):x(e)})}var Fw=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===F);return r}getResolvedTitleForRoute(n){return n.data[js]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:()=>y(MO),providedIn:"root"})}}return t})(),MO=(()=>{class t extends Fw{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(R(nw))}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ap=new T("",{providedIn:"root",factory:()=>({})}),RO=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=ue({type:t,selectors:[["ng-component"]],standalone:!0,features:[de],decls:1,vars:0,template:function(r,i){r&1&&X(0,"router-outlet")},dependencies:[Tp],encapsulation:2})}}return t})();function Np(t){let e=t.children&&t.children.map(Np),n=e?V(_({},t),{children:e}):_({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==F&&(n.component=RO),n}var Mp=new T(""),xO=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=y(Nh)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return x(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Xn(n.loadComponent()).pipe(P(Lw),ve(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),wi(()=>{this.componentLoaders.delete(n)})),i=new gi(r,()=>new Se).pipe(mi());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return x({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=kO(r,this.compiler,n,this.onLoadEndListener).pipe(wi(()=>{this.childrenLoaders.delete(r)})),s=new gi(o,()=>new Se).pipe(mi());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function kO(t,e,n,r){return Xn(t.loadChildren()).pipe(P(Lw),be(i=>i instanceof is||Array.isArray(i)?x(i):fe(e.compileModuleAsync(i))),P(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Mp,[],{optional:!0,self:!0}).flat()),{routes:s.map(Np),injector:o}}))}function OO(t){return t&&typeof t=="object"&&"default"in t}function Lw(t){return OO(t)?t.default:t}var Rp=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:()=>y(PO),providedIn:"root"})}}return t})(),PO=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),FO=new T("");var LO=new T(""),VO=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Se,this.transitionAbortSubject=new Se,this.configLoader=y(xO),this.environmentInjector=y(ht),this.urlSerializer=y(Dp),this.rootContexts=y(Wl),this.location=y(_s),this.inputBindingEnabled=y(Sp,{optional:!0})!==null,this.titleStrategy=y(Fw),this.options=y(Ap,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=y(Rp),this.createViewTransition=y(FO,{optional:!0}),this.navigationErrorHandler=y(LO,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>x(void 0),this.rootComponentType=null;let n=i=>this.events.next(new ap(i)),r=i=>this.events.next(new cp(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(V(_(_({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new De({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:As,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ut(o=>o.id!==0),P(o=>V(_({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Je(o=>{let s=!1,a=!1;return x(o).pipe(Je(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",at.SupersededByNewNavigation),Qe;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?V(_({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&u!=="reload"){let d="";return this.events.next(new Hr(c.id,this.urlSerializer.serialize(c.rawUrl),d,np.IgnoredSameUrlNavigation)),c.resolve(!1),Qe}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return x(c).pipe(Je(d=>{let f=this.transitions?.getValue();return this.events.next(new xs(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),f!==this.transitions?.getValue()?Qe:Promise.resolve(d)}),bO(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),ve(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=V(_({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let f=new Ll(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:d,extractedUrl:f,source:h,restoredState:m,extras:b}=c,N=new xs(d,this.urlSerializer.serialize(f),h,m);this.events.next(N);let L=bw(this.rootComponentType).snapshot;return this.currentTransition=o=V(_({},c),{targetSnapshot:L,urlAfterRedirects:f,extras:V(_({},b),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,x(o)}else{let d="";return this.events.next(new Hr(c.id,this.urlSerializer.serialize(c.extractedUrl),d,np.IgnoredByUrlHandlingStrategy)),c.resolve(!1),Qe}}),ve(c=>{let l=new rp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),P(c=>(this.currentTransition=o=V(_({},c),{guards:zk(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),nO(this.environmentInjector,c=>this.events.next(c)),ve(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw $l(this.urlSerializer,c.guardsResult);let l=new ip(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),ut(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",at.GuardRejected),!1)),Zh(c=>{if(c.guards.canActivateChecks.length)return x(c).pipe(ve(l=>{let u=new op(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Je(l=>{let u=!1;return x(l).pipe(TO(this.paramsInheritanceStrategy,this.environmentInjector),ve({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",at.NoDataFromResolver)}}))}),ve(l=>{let u=new sp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),Zh(c=>{let l=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(ve(f=>{u.component=f}),P(()=>{})));for(let f of u.children)d.push(...l(f));return d};return cc(l(c.targetSnapshot.root)).pipe(Vn(null),Tt(1))}),Zh(()=>this.afterPreactivation()),Je(()=>{let{currentSnapshot:c,targetSnapshot:l}=o,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?fe(u).pipe(P(()=>o)):x(o)}),P(c=>{let l=Uk(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=V(_({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),ve(()=>{this.events.next(new Os)}),Wk(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Tt(1),ve({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Jn(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),Ld(this.transitionAbortSubject.pipe(ve(c=>{throw c}))),wi(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",at.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ln(c=>{if(a=!0,Mw(c))this.events.next(new yn(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),Hk(c)?this.events.next(new to(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let l=new ks(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let u=Gt(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(u instanceof Fs){let{message:d,cancellationCode:f}=$l(this.urlSerializer,u);this.events.next(new yn(o.id,this.urlSerializer.serialize(o.extractedUrl),d,f)),this.events.next(new to(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(l);let d=n.errorHandler(c);o.resolve(!!d)}}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return Qe}))}))}cancelNavigationTransition(n,r,i){let o=new yn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function jO(t){return t!==As}var UO=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:()=>y(BO),providedIn:"root"})}}return t})(),Cp=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},BO=(()=>{class t extends Cp{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Mr(t)))(i||t)}})()}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Vw=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:()=>y($O),providedIn:"root"})}}return t})(),$O=(()=>{class t extends Vw{constructor(){super(...arguments),this.location=y(_s),this.urlSerializer=y(Dp),this.options=y(Ap,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=y(Rp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new _n,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=bw(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof xs)this.stateMemento=this.createStateMemento();else if(n instanceof Hr)this.rawUrlTree=r.initialUrl;else if(n instanceof Ll){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof Os?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof yn&&(n.code===at.GuardRejected||n.code===at.NoDataFromResolver)?this.restoreHistory(r):n instanceof ks?this.restoreHistory(r,!0):n instanceof Jn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof _n?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=_(_({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=_(_({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Mr(t)))(i||t)}})()}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ts=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ts||{});function HO(t,e){t.events.pipe(ut(n=>n instanceof Jn||n instanceof yn||n instanceof ks||n instanceof Hr),P(n=>n instanceof Jn||n instanceof Hr?Ts.COMPLETE:(n instanceof yn?n.code===at.Redirect||n.code===at.SupersededByNewNavigation:!1)?Ts.REDIRECTING:Ts.FAILED),ut(n=>n!==Ts.REDIRECTING),Tt(1)).subscribe(()=>{e()})}function WO(t){throw t}var zO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},GO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ze=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=y(Il),this.stateManager=y(Vw),this.options=y(Ap,{optional:!0})||{},this.pendingTasks=y(Rr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=y(VO),this.urlSerializer=y(Dp),this.location=y(_s),this.urlHandlingStrategy=y(Rp),this._events=new Se,this.errorHandler=this.options.errorHandler||WO,this.navigated=!1,this.routeReuseStrategy=y(UO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=y(Mp,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!y(Sp,{optional:!0}),this.eventsSubscription=new pe,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof yn&&r.code!==at.Redirect&&r.code!==at.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Jn)this.navigated=!0;else if(r instanceof to){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=_({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||jO(i.source)},s);this.scheduleNavigation(a,As,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}YO(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),As,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=_({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Np),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=_(_({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let f=i?i.snapshot:this.routerState.snapshot.root;d=Iw(f)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return ww(d,n,u,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=$r(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,As,null,r)}navigate(n,r={skipLocationChange:!1}){return qO(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=_({},zO):r===!1?i=_({},GO):i=r,$r(n))return iw(this.currentUrlTree,n,i);let o=this.parseUrl(n);return iw(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,f)=>{a=d,c=f});let u=this.pendingTasks.add();return HO(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function qO(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new S(4008,!1)}function YO(t){return!(t instanceof Os)&&!(t instanceof to)}var Gl=(()=>{class t{constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new Se,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof Jn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):($r(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:wE(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:$r(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||t)(D(ze),D(En),nh("tabindex"),D(Kt),D(Ot),D(Yi))}}static{this.\u0275dir=ge({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&Z("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Or("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",qi],skipLocationChange:[2,"skipLocationChange","skipLocationChange",qi],replaceUrl:[2,"replaceUrl","replaceUrl",qi],routerLink:"routerLink"},standalone:!0,features:[bh,Yt]})}}return t})();var KO=new T("");function jw(t,...e){return nt([{provide:Mp,multi:!0,useValue:t},[],{provide:En,useFactory:ZO,deps:[ze]},{provide:zi,multi:!0,useFactory:QO},e.map(n=>n.\u0275providers)])}function ZO(t){return t.routerState.root}function QO(){let t=y(Oe);return e=>{let n=t.get(Qt);if(e!==n.components[0])return;let r=t.get(ze),i=t.get(JO);t.get(XO)===1&&r.initialNavigation(),t.get(eP,null,j.Optional)?.setUpPreloading(),t.get(KO,null,j.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var JO=new T("",{factory:()=>new Se}),XO=new T("",{providedIn:"root",factory:()=>1});var eP=new T("");var Kw=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(D(Kt),D(Ot))}}static{this.\u0275dir=ge({type:t})}}return t})(),Lp=(()=>{class t extends Kw{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Mr(t)))(i||t)}})()}static{this.\u0275dir=ge({type:t,features:[Zt]})}}return t})(),nu=new T("");var tP={provide:nu,useExisting:Gn(()=>nr),multi:!0};function nP(){let t=vn()?vn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var rP=new T(""),nr=(()=>{class t extends Kw{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!nP())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(D(Kt),D(Ot),D(rP,8))}}static{this.\u0275dir=ge({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Z("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Wi([tP]),Zt]})}}return t})();function er(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function Zw(t){return t!=null&&typeof t.length=="number"}var Qw=new T(""),Jw=new T(""),iP=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ye=class{static min(e){return oP(e)}static max(e){return sP(e)}static required(e){return aP(e)}static requiredTrue(e){return cP(e)}static email(e){return lP(e)}static minLength(e){return uP(e)}static maxLength(e){return dP(e)}static pattern(e){return fP(e)}static nullValidator(e){return Xw(e)}static compose(e){return oC(e)}static composeAsync(e){return aC(e)}};function oP(t){return e=>{if(er(e.value)||er(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function sP(t){return e=>{if(er(e.value)||er(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function aP(t){return er(t.value)?{required:!0}:null}function cP(t){return t.value===!0?null:{required:!0}}function lP(t){return er(t.value)||iP.test(t.value)?null:{email:!0}}function uP(t){return e=>er(e.value)||!Zw(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function dP(t){return e=>Zw(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function fP(t){if(!t)return Xw;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(er(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function Xw(t){return null}function eC(t){return t!=null}function tC(t){return Lr(t)?fe(t):t}function nC(t){let e={};return t.forEach(n=>{e=n!=null?_(_({},e),n):e}),Object.keys(e).length===0?null:e}function rC(t,e){return e.map(n=>n(t))}function hP(t){return!t.validate}function iC(t){return t.map(e=>hP(e)?e:n=>e.validate(n))}function oC(t){if(!t)return null;let e=t.filter(eC);return e.length==0?null:function(n){return nC(rC(n,e))}}function sC(t){return t!=null?oC(iC(t)):null}function aC(t){if(!t)return null;let e=t.filter(eC);return e.length==0?null:function(n){let r=rC(n,e).map(tC);return xd(r).pipe(P(nC))}}function cC(t){return t!=null?aC(iC(t)):null}function Uw(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function lC(t){return t._rawValidators}function uC(t){return t._rawAsyncValidators}function xp(t){return t?Array.isArray(t)?t:[t]:[]}function Kl(t,e){return Array.isArray(t)?t.includes(e):t===e}function Bw(t,e){let n=xp(e);return xp(t).forEach(i=>{Kl(n,i)||n.push(i)}),n}function $w(t,e){return xp(e).filter(n=>!Kl(t,n))}var Zl=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=sC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=cC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},so=class extends Zl{get formDirective(){return null}get path(){return null}},Gs=class extends Zl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Ql=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},pP={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},s8=V(_({},pP),{"[class.ng-submitted]":"isSubmitted"}),co=(()=>{class t extends Ql{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(D(Gs,2))}}static{this.\u0275dir=ge({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&El("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Zt]})}}return t})(),lo=(()=>{class t extends Ql{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(D(so,10))}}static{this.\u0275dir=ge({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&El("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Zt]})}}return t})();var $s="VALID",ql="INVALID",io="PENDING",Hs="DISABLED",tr=class{},Jl=class extends tr{constructor(e,n){super(),this.value=e,this.source=n}},Ws=class extends tr{constructor(e,n){super(),this.pristine=e,this.source=n}},zs=class extends tr{constructor(e,n){super(),this.touched=e,this.source=n}},oo=class extends tr{constructor(e,n){super(),this.status=e,this.source=n}},kp=class extends tr{constructor(e){super(),this.source=e}},Op=class extends tr{constructor(e){super(),this.source=e}};function Vp(t){return(ru(t)?t.validators:t)||null}function mP(t){return Array.isArray(t)?sC(t):t||null}function jp(t,e){return(ru(e)?e.asyncValidators:t)||null}function gP(t){return Array.isArray(t)?cC(t):t||null}function ru(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function dC(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new S(1e3,"");if(!r[n])throw new S(1001,"")}function fC(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new S(1002,"")})}var ao=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=ys(()=>this.statusReactive()),this.statusReactive=ps(void 0),this._pristine=ys(()=>this.pristineReactive()),this.pristineReactive=ps(!0),this._touched=ys(()=>this.touchedReactive()),this.touchedReactive=ps(!1),this._events=new Se,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return gn(this.statusReactive)}set status(e){gn(()=>this.statusReactive.set(e))}get valid(){return this.status===$s}get invalid(){return this.status===ql}get pending(){return this.status==io}get disabled(){return this.status===Hs}get enabled(){return this.status!==Hs}get pristine(){return gn(this.pristineReactive)}set pristine(e){gn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return gn(this.touchedReactive)}set touched(e){gn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Bw(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Bw(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators($w(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators($w(e,this._rawAsyncValidators))}hasValidator(e){return Kl(this._rawValidators,e)}hasAsyncValidator(e){return Kl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(V(_({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new zs(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new zs(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(V(_({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ws(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ws(!0,r))}markAsPending(e={}){this.status=io;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new oo(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(V(_({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Hs,this.errors=null,this._forEachChild(i=>{i.disable(V(_({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Jl(this.value,r)),this._events.next(new oo(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(V(_({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=$s,this._forEachChild(r=>{r.enable(V(_({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(V(_({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===$s||this.status===io)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Jl(this.value,n)),this._events.next(new oo(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(V(_({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Hs:$s}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=io,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=tC(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new oo(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new se,this.statusChanges=new se}_calculateStatus(){return this._allControlsDisabled()?Hs:this.errors?ql:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(io)?io:this._anyControlsHaveStatus(ql)?ql:$s}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Ws(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new zs(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ru(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=mP(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=gP(this._rawAsyncValidators)}},Xl=class extends ao{constructor(e,n,r){super(Vp(n),jp(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){fC(this,!0,e),Object.keys(e).forEach(r=>{dC(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Pp=class extends Xl{};var Up=new T("CallSetDisabledState",{providedIn:"root",factory:()=>iu}),iu="always";function vP(t,e){return[...e.path,t]}function Hw(t,e,n=iu){Bp(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),_P(t,e),IP(t,e),EP(t,e),yP(t,e)}function Ww(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),tu(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function eu(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function yP(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Bp(t,e){let n=lC(t);e.validator!==null?t.setValidators(Uw(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=uC(t);e.asyncValidator!==null?t.setAsyncValidators(Uw(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();eu(e._rawValidators,i),eu(e._rawAsyncValidators,i)}function tu(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=lC(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=uC(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return eu(e._rawValidators,r),eu(e._rawAsyncValidators,r),n}function _P(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&hC(t,e)})}function EP(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&hC(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function hC(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function IP(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function wP(t,e){t==null,Bp(t,e)}function CP(t,e){return tu(t,e)}function DP(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function bP(t){return Object.getPrototypeOf(t.constructor)===Lp}function TP(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function SP(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===nr?n=o:bP(o)?r=o:i=o}),i||r||n||null}function AP(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function zw(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Gw(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Yl=class extends ao{constructor(e=null,n,r){super(Vp(n),jp(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ru(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Gw(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){zw(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){zw(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Gw(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var NP=t=>t instanceof Yl;var uo=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=ge({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})();var pC=new T("");var MP={provide:so,useExisting:Gn(()=>zr)},zr=(()=>{class t extends so{get submitted(){return gn(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=ys(()=>this._submittedReactive()),this._submittedReactive=ps(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new se,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(tu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return Hw(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){Ww(n.control||null,n,!1),AP(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),TP(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new kp(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new Op(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(Ww(r||null,n),NP(i)&&(Hw(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);wP(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&CP(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Bp(this.form,this),this._oldForm&&tu(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||t)(D(Qw,10),D(Jw,10),D(Up,8))}}static{this.\u0275dir=ge({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Z("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Wi([MP]),Zt,Yt]})}}return t})();var RP={provide:Gs,useExisting:Gn(()=>Gr)},Gr=(()=>{class t extends Gs{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new se,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=SP(this,o)}ngOnChanges(n){this._added||this._setUpControl(),DP(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return vP(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||t)(D(so,13),D(Qw,10),D(Jw,10),D(nu,10),D(pC,8))}}static{this.\u0275dir=ge({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Wi([RP]),Zt,Yt]})}}return t})(),xP={provide:nu,useExisting:Gn(()=>ou),multi:!0};function mC(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function kP(t){return t.split(":")[0]}var ou=(()=>{class t extends Lp{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r=this._getOptionId(n),i=mC(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=kP(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Mr(t)))(i||t)}})()}static{this.\u0275dir=ge({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Z("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Wi([xP]),Zt]})}}return t})(),gC=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(mC(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(D(Ot),D(Kt),D(ou,9))}}static{this.\u0275dir=ge({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})(),OP={provide:nu,useExisting:Gn(()=>vC),multi:!0};function qw(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function PP(t){return t.split(":")[0]}var vC=(()=>{class t extends Lp{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=PP(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Mr(t)))(i||t)}})()}static{this.\u0275dir=ge({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Z("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Wi([OP]),Zt]})}}return t})(),yC=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(qw(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(qw(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(D(Ot),D(Kt),D(vC,9))}}static{this.\u0275dir=ge({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();var _C=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=mn({type:t})}static{this.\u0275inj=pn({})}}return t})(),Fp=class extends ao{constructor(e,n,r){super(Vp(n),jp(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){fC(this,!1,e),e.forEach((r,i)=>{dC(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function Yw(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var fo=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),o={};return Yw(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Xl(i,o)}record(n,r=null){let i=this._reduceControls(n);return new Pp(i,r)}control(n,r,i){let o={};return this.useNonNullable?(Yw(r)?o=r:(o.validators=r,o.asyncValidators=i),new Yl(n,V(_({},o),{nonNullable:!0}))):new Yl(n,r,i)}array(n,r,i){let o=n.map(s=>this._createControl(s));return new Fp(o,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof Yl)return n;if(n instanceof ao)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,i,o)}else return this.control(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var EC=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Up,useValue:n.callSetDisabledState??iu}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=mn({type:t})}static{this.\u0275inj=pn({imports:[_C]})}}return t})(),ho=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:pC,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Up,useValue:n.callSetDisabledState??iu}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=mn({type:t})}static{this.\u0275inj=pn({imports:[_C]})}}return t})();var Wp={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var I=function(t,e){if(!t)throw qr(e)},qr=function(t){return new Error("Firebase Database ("+Wp.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var wC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},FP=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},au={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,f=(a&15)<<2|l>>6,h=l&63;c||(h=64,s||(f=64)),r.push(n[u],n[d],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(wC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):FP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw new zp;let f=o<<2|a>>4;if(r.push(f),l!==64){let h=a<<4&240|l>>2;if(r.push(h),d!==64){let m=l<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},zp=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},qp=function(t){let e=wC(t);return au.encodeByteArray(e,!0)},qs=function(t){return qp(t).replace(/\./g,"")},Ys=function(t){try{return au.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function CC(t){return DC(void 0,t)}function DC(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!LP(n)||(t[n]=DC(t[n],e[n]));return t}function LP(t){return t!=="__proto__"}function VP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var jP=()=>VP().__FIREBASE_DEFAULTS__,UP=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},BP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Ys(t[1]);return e&&JSON.parse(e)},Yp=()=>{try{return jP()||UP()||BP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Kp=t=>{var e,n;return(n=(e=Yp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},bC=t=>{let e=Kp(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Zp=()=>{var t;return(t=Yp())===null||t===void 0?void 0:t.config},Qp=t=>{var e;return(e=Yp())===null||e===void 0?void 0:e[`_${t}`]};var rr=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function TC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[qs(JSON.stringify(n)),qs(JSON.stringify(s)),""].join(".")}function Pe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ks(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pe())}function SC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function AC(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function cu(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NC(){let t=Pe();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function en(){return Wp.NODE_CLIENT===!0||Wp.NODE_ADMIN===!0}function MC(){try{return typeof indexedDB=="object"}catch{return!1}}function RC(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var $P="FirebaseError",Ft=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=$P,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,In.prototype.create)}},In=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?HP(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Ft(i,a,r)}};function HP(t,e){return t.replace(WP,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var WP=/\{\$([^}]+)}/g;function po(t){return JSON.parse(t)}function Ae(t){return JSON.stringify(t)}var xC=function(t){let e={},n={},r={},i="";try{let o=t.split(".");e=po(Ys(o[0])||""),n=po(Ys(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var kC=function(t){let e=xC(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},OC=function(t){let e=xC(t).claims;return typeof e=="object"&&e.admin===!0};function tn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Yr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Zs(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Qs(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function mo(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(IC(o)&&IC(s)){if(!mo(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function IC(t){return t!==null&&typeof t=="object"}function ir(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function go(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function vo(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}var su=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){let f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4],l,u;for(let d=0;d<80;d++){d<40?d<20?(l=a^o&(s^a),u=1518500249):(l=o^s^a,u=1859775393):d<60?(l=o&s|a&(o|s),u=2400959708):(l=o^s^a,u=3395469782);let f=(i<<5|i>>>27)+l+c+u+r[d]&4294967295;c=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,o=this.buf_,s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}};function PC(t,e){let n=new Gp(t,e);return n.subscribe.bind(n)}var Gp=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");zP(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Hp),i.error===void 0&&(i.error=Hp),i.complete===void 0&&(i.complete=Hp);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function zP(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Hp(){}function lu(t,e){return`${t} failed: ${e} argument `}var FC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let o=i-55296;r++,I(r<t.length,"Surrogate pair missing trail surrogate.");let s=t.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Js=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var l8=4*60*60*1e3;function Ge(t){return t&&t._delegate?t._delegate:t}var yt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Kr="[DEFAULT]";var uu=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new rr;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qP(e))try{this.getOrInitializeService({instanceIdentifier:Kr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Kr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return p(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Kr){return this.instances.has(e)}getOptions(e=Kr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:GP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Kr){return this.component?this.component.multipleInstances?e:Kr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function GP(t){return t===Kr?void 0:t}function qP(t){return t.instantiationMode==="EAGER"}var Xs=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new uu(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var YP=[],ee=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ee||{}),KP={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},ZP=ee.INFO,QP={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},JP=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=QP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},or=class{constructor(e){this.name=e,this._logLevel=ZP,this._logHandler=JP,this._userLogHandler=null,YP.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...e),this._logHandler(this,ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...e),this._logHandler(this,ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...e),this._logHandler(this,ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...e),this._logHandler(this,ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...e),this._logHandler(this,ee.ERROR,...e)}};var XP=(t,e)=>e.some(n=>t instanceof n),LC,VC;function e1(){return LC||(LC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function t1(){return VC||(VC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var jC=new WeakMap,Xp=new WeakMap,UC=new WeakMap,Jp=new WeakMap,tm=new WeakMap;function n1(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(nn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&jC.set(n,t)}).catch(()=>{}),tm.set(e,t),e}function r1(t){if(Xp.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Xp.set(t,e)}var em={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Xp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||UC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return nn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function BC(t){em=t(em)}function i1(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(du(this),e,...n);return UC.set(r,e.sort?e.sort():[e]),nn(r)}:t1().includes(t)?function(...e){return t.apply(du(this),e),nn(jC.get(this))}:function(...e){return nn(t.apply(du(this),e))}}function o1(t){return typeof t=="function"?i1(t):(t instanceof IDBTransaction&&r1(t),XP(t,e1())?new Proxy(t,em):t)}function nn(t){if(t instanceof IDBRequest)return n1(t);if(Jp.has(t))return Jp.get(t);let e=o1(t);return e!==t&&(Jp.set(t,e),tm.set(e,t)),e}var du=t=>tm.get(t);function HC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=nn(s);return r&&s.addEventListener("upgradeneeded",c=>{r(nn(s.result),c.oldVersion,c.newVersion,nn(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var s1=["get","getKey","getAll","getAllKeys","count"],a1=["put","add","delete","clear"],nm=new Map;function $C(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(nm.get(e))return nm.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=a1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||s1.includes(n)))return;let o=function(s,...a){return p(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return nm.set(e,o),o}BC(t=>V(_({},t),{get:(e,n,r)=>$C(e,n)||t.get(e,n,r),has:(e,n)=>!!$C(e,n)||t.has(e,n)}));var im=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(c1(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function c1(t){let e=t.getComponent();return e?.type==="VERSION"}var om="@firebase/app",WC="0.10.13";var wn=new or("@firebase/app"),l1="@firebase/app-compat",u1="@firebase/analytics-compat",d1="@firebase/analytics",f1="@firebase/app-check-compat",h1="@firebase/app-check",p1="@firebase/auth",m1="@firebase/auth-compat",g1="@firebase/database",v1="@firebase/data-connect",y1="@firebase/database-compat",_1="@firebase/functions",E1="@firebase/functions-compat",I1="@firebase/installations",w1="@firebase/installations-compat",C1="@firebase/messaging",D1="@firebase/messaging-compat",b1="@firebase/performance",T1="@firebase/performance-compat",S1="@firebase/remote-config",A1="@firebase/remote-config-compat",N1="@firebase/storage",M1="@firebase/storage-compat",R1="@firebase/firestore",x1="@firebase/vertexai-preview",k1="@firebase/firestore-compat",O1="firebase",P1="10.14.1";var sm="[DEFAULT]",F1={[om]:"fire-core",[l1]:"fire-core-compat",[d1]:"fire-analytics",[u1]:"fire-analytics-compat",[h1]:"fire-app-check",[f1]:"fire-app-check-compat",[p1]:"fire-auth",[m1]:"fire-auth-compat",[g1]:"fire-rtdb",[v1]:"fire-data-connect",[y1]:"fire-rtdb-compat",[_1]:"fire-fn",[E1]:"fire-fn-compat",[I1]:"fire-iid",[w1]:"fire-iid-compat",[C1]:"fire-fcm",[D1]:"fire-fcm-compat",[b1]:"fire-perf",[T1]:"fire-perf-compat",[S1]:"fire-rc",[A1]:"fire-rc-compat",[N1]:"fire-gcs",[M1]:"fire-gcs-compat",[R1]:"fire-fst",[k1]:"fire-fst-compat",[x1]:"fire-vertex","fire-js":"fire-js",[O1]:"fire-js-all"};var ea=new Map,L1=new Map,am=new Map;function zC(t,e){try{t.container.addComponent(e)}catch(n){wn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ar(t){let e=t.name;if(am.has(e))return wn.debug(`There were multiple attempts to register component ${e}.`),!1;am.set(e,t);for(let n of ea.values())zC(n,t);for(let n of L1.values())zC(n,t);return!0}function na(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function _t(t){return t.settings!==void 0}var V1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},sr=new In("app","Firebase",V1);var cm=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new yt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw sr.create("app-deleted",{appName:this._name})}};var cr=P1;function dm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:sm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw sr.create("bad-app-name",{appName:String(i)});if(n||(n=Zp()),!n)throw sr.create("no-options");let o=ea.get(i);if(o){if(mo(n,o.options)&&mo(r,o.config))return o;throw sr.create("duplicate-app",{appName:i})}let s=new Xs(i);for(let c of am.values())s.addComponent(c);let a=new cm(n,r,s);return ea.set(i,a),a}function yo(t=sm){let e=ea.get(t);if(!e&&t===sm&&Zp())return dm();if(!e)throw sr.create("no-app",{appName:t});return e}function fu(){return Array.from(ea.values())}function we(t,e,n){var r;let i=(r=F1[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wn.warn(a.join(" "));return}ar(new yt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var j1="firebase-heartbeat-database",U1=1,ta="firebase-heartbeat-store",rm=null;function KC(){return rm||(rm=HC(j1,U1,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ta)}catch(n){console.warn(n)}}}}).catch(t=>{throw sr.create("idb-open",{originalErrorMessage:t.message})})),rm}function B1(t){return p(this,null,function*(){try{let n=(yield KC()).transaction(ta),r=yield n.objectStore(ta).get(ZC(t));return yield n.done,r}catch(e){if(e instanceof Ft)wn.warn(e.message);else{let n=sr.create("idb-get",{originalErrorMessage:e?.message});wn.warn(n.message)}}})}function GC(t,e){return p(this,null,function*(){try{let r=(yield KC()).transaction(ta,"readwrite");yield r.objectStore(ta).put(e,ZC(t)),yield r.done}catch(n){if(n instanceof Ft)wn.warn(n.message);else{let r=sr.create("idb-set",{originalErrorMessage:n?.message});wn.warn(r.message)}}})}function ZC(t){return`${t.name}!${t.options.appId}`}var $1=1024,H1=30*24*60*60*1e3,lm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new um(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return p(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=qC();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=H1}),this._storage.overwrite(this._heartbeatsCache))}catch(r){wn.warn(r)}})}getHeartbeatsHeader(){return p(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=qC(),{heartbeatsToSend:r,unsentEntries:i}=W1(this._heartbeatsCache.heartbeats),o=qs(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return wn.warn(n),""}})}};function qC(){return new Date().toISOString().substring(0,10)}function W1(t,e=$1){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),YC(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),YC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var um=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return p(this,null,function*(){return MC()?RC().then(()=>!0).catch(()=>!1):!1})}read(){return p(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield B1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return GC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return GC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function YC(t){return qs(JSON.stringify({version:2,heartbeats:t})).length}function z1(t){ar(new yt("platform-logger",e=>new im(e),"PRIVATE")),ar(new yt("heartbeat",e=>new lm(e),"PRIVATE")),we(om,WC,t),we(om,WC,"esm2017"),we("fire-js","")}z1("");var G1="firebase",q1="10.14.1";we(G1,q1,"app");var Qr=new hn("ANGULARFIRE2_VERSION");function pu(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var ra=(t,e)=>{let n=e?[e]:fu(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Eo=class{constructor(){return ra(Y1)}},Y1="app-check";function _o(){}var hu=class{zone;delegate;constructor(e,n=Nd){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},fm=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_o,{},_o,_o)),n.pipe(ve({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Io=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new hu(Zone.current)),this.insideAngular=n.run(()=>new hu(Zone.current,Ad)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(R(J))};static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function mu(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function K1(t){return mu().ngZone.runOutsideAngular(()=>t())}function Zr(t){return mu().ngZone.run(()=>t())}function Z1(t){return Q1(mu())(t)}function Q1(t){return function(n){return n=n.lift(new fm(t.ngZone)),n.pipe(Fn(t.outsideAngular),Pn(t.insideAngular))}}var J1=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Zr(()=>t.apply(void 0,r))},ct=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=Zr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_o,{},_o,_o))),r[o]=J1(r[o],n));let i=K1(()=>t.apply(this,r));if(!e)if(i instanceof $){let o=mu();return i.pipe(Fn(o.outsideAngular),Pn(o.insideAngular))}else return Zr(()=>i);return i instanceof $?i.pipe(Z1):i instanceof Promise?Zr(()=>new Promise((o,s)=>i.then(a=>Zr(()=>o(a)),a=>Zr(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Zr(()=>i)};var Cn=class{constructor(e){return e}},Jr=class{constructor(){return fu()}};function X1(t){return t&&t.length===1?t[0]:new Cn(yo())}var hm=new T("angularfire2._apps"),eF={provide:Cn,useFactory:X1,deps:[[new Be,hm]]},tF={provide:Jr,deps:[[new Be,hm]]};function nF(t){return(e,n)=>{let r=n.get(mt);we("angularfire",Qr.full,"core"),we("angularfire",Qr.full,"app"),we("angular",gI.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Cn(i)}}function QC(t,...e){return nt([eF,tF,{provide:hm,useFactory:nF(t),multi:!0,deps:[J,Oe,Io,...e]}])}var JC=ct(dm,!0);function mD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var gD=mD,vD=new In("auth","Firebase",mD());var Iu=new or("@firebase/auth");function rF(t,...e){Iu.logLevel<=ee.WARN&&Iu.warn(`Auth (${cr}): ${t}`,...e)}function vu(t,...e){Iu.logLevel<=ee.ERROR&&Iu.error(`Auth (${cr}): ${t}`,...e)}function Et(t,...e){throw Om(t,...e)}function Lt(t,...e){return Om(t,...e)}function km(t,e,n){let r=Object.assign(Object.assign({},gD()),{[e]:n});return new In("auth","Firebase",r).create(e,{appName:t.name})}function Tn(t){return km(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function iF(t,e,n){let r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Et(t,"argument-error"),km(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Om(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return vD.create(t,...e)}function M(t,e,...n){if(!t)throw Om(e,...n)}function Dn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw vu(e),new Error(e)}function Sn(t,e){t||Dn(e)}function gm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function oF(){return XC()==="http:"||XC()==="https:"}function XC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function sF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(oF()||AC()||"connection"in navigator)?navigator.onLine:!0}function aF(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Xr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Sn(n>e,"Short delay should be less than long delay!"),this.isMobile=Ks()||cu()}get(){return sF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Pm(t,e){Sn(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var wu=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Dn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Dn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Dn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var cF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var lF=new Xr(3e4,6e4);function ur(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function dr(o,s,a,c){return p(this,arguments,function*(t,e,n,r,i={}){return yD(t,i,()=>p(this,null,function*(){let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});let d=ir(Object.assign({key:t.config.apiKey},u)).slice(1),f=yield t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);let h=Object.assign({method:e,headers:f},l);return SC()||(h.referrerPolicy="no-referrer"),wu.fetch()(_D(t,t.config.apiHost,n,d),h)}))})}function yD(t,e,n){return p(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},cF),e);try{let i=new vm(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw gu(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw gu(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw gu(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw gu(t,"user-disabled",s);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw km(t,u,l);Et(t,u)}}catch(i){if(i instanceof Ft)throw i;Et(t,"network-request-failed",{message:String(i)})}})}function da(o,s,a,c){return p(this,arguments,function*(t,e,n,r,i={}){let l=yield dr(t,e,n,r,i);return"mfaPendingCredential"in l&&Et(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function _D(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Pm(t.config,i):`${t.config.apiScheme}://${i}`}function uF(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var vm=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Lt(this.auth,"network-request-failed")),lF.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function gu(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Lt(t,e,r);return i.customData._tokenResponse=n,i}function eD(t){return t!==void 0&&t.enterprise!==void 0}var ym=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return uF(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function dF(t,e){return p(this,null,function*(){return dr(t,"GET","/v2/recaptchaConfig",ur(t,e))})}function fF(t,e){return p(this,null,function*(){return dr(t,"POST","/v1/accounts:delete",e)})}function ED(t,e){return p(this,null,function*(){return dr(t,"POST","/v1/accounts:lookup",e)})}function ia(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Fm(t,e=!1){return p(this,null,function*(){let n=Ge(t),r=yield n.getIdToken(e),i=Lm(r);M(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:ia(pm(i.auth_time)),issuedAtTime:ia(pm(i.iat)),expirationTime:ia(pm(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function pm(t){return Number(t)*1e3}function Lm(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return vu("JWT malformed, contained fewer than 3 sections"),null;try{let i=Ys(n);return i?JSON.parse(i):(vu("Failed to decode base64 JWT payload"),null)}catch(i){return vu("Caught error parsing JWT payload as JSON",i?.toString()),null}}function tD(t){let e=Lm(t);return M(e,"internal-error"),M(typeof e.exp<"u","internal-error"),M(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function sa(t,e,n=!1){return p(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Ft&&hF(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function hF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var _m=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>p(this,null,function*(){yield this.iteration()}),n)}iteration(){return p(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var aa=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ia(this.lastLoginAt),this.creationTime=ia(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Cu(t){return p(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield sa(t,ED(n,{idToken:r}));M(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?ID(o.providerUserInfo):[],a=pF(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,u=c?l:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new aa(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,d)})}function Vm(t){return p(this,null,function*(){let e=Ge(t);yield Cu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function pF(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ID(t){return t.map(e=>{var{providerId:n}=e,r=Ya(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function mF(t,e){return p(this,null,function*(){let n=yield yD(t,{},()=>p(this,null,function*(){let r=ir({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=_D(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",wu.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function gF(t,e){return p(this,null,function*(){return dr(t,"POST","/v2/accounts:revokeToken",ur(t,e))})}var oa=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){M(e.idToken,"internal-error"),M(typeof e.idToken<"u","internal-error"),M(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tD(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){M(e.length!==0,"internal-error");let n=tD(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return p(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(M(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return p(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield mF(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(M(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(M(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(M(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Dn("not implemented")}};function lr(t,e){M(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Co=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Ya(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _m(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new aa(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return p(this,null,function*(){let n=yield sa(this,this.stsTokenManager.getToken(this.auth,e));return M(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Fm(this,e)}reload(){return Vm(this)}_assign(e){this!==e&&(M(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){M(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return p(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Cu(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return p(this,null,function*(){if(_t(this.auth.app))return Promise.reject(Tn(this.auth));let e=yield this.getIdToken();return yield sa(this,fF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,l,u;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,m=(s=n.photoURL)!==null&&s!==void 0?s:void 0,b=(a=n.tenantId)!==null&&a!==void 0?a:void 0,N=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,L=(l=n.createdAt)!==null&&l!==void 0?l:void 0,ce=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:le,emailVerified:_e,isAnonymous:Dt,providerData:Ne,stsTokenManager:cn}=n;M(le&&cn,e,"internal-error");let $o=oa.fromJSON(this.name,cn);M(typeof le=="string",e,"internal-error"),lr(d,e.name),lr(f,e.name),M(typeof _e=="boolean",e,"internal-error"),M(typeof Dt=="boolean",e,"internal-error"),lr(h,e.name),lr(m,e.name),lr(b,e.name),lr(N,e.name),lr(L,e.name),lr(ce,e.name);let Ho=new t({uid:le,auth:e,email:f,emailVerified:_e,displayName:d,isAnonymous:Dt,photoURL:m,phoneNumber:h,tenantId:b,stsTokenManager:$o,createdAt:L,lastLoginAt:ce});return Ne&&Array.isArray(Ne)&&(Ho.providerData=Ne.map(dT=>Object.assign({},dT))),N&&(Ho._redirectEventId=N),Ho}static _fromIdTokenResponse(e,n,r=!1){return p(this,null,function*(){let i=new oa;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Cu(o),o})}static _fromGetAccountInfoResponse(e,n,r){return p(this,null,function*(){let i=n.users[0];M(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?ID(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new oa;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new aa(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var nD=new Map;function bn(t){Sn(t instanceof Function,"Expected a class definition");let e=nD.get(t);return e?(Sn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,nD.set(t,e),e)}var vF=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return p(this,null,function*(){return!0})}_set(n,r){return p(this,null,function*(){this.storage[n]=r})}_get(n){return p(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return p(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Em=vF;function yu(t,e,n){return`firebase:${t}:${e}:${n}`}var Du=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=yu(this.userKey,i.apiKey,o),this.fullPersistenceKey=yu("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return p(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Co._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return p(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return p(this,null,function*(){if(!n.length)return new t(bn(Em),e,r);let i=(yield Promise.all(n.map(l=>p(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||bn(Em),s=yu(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let u=yield l._get(s);if(u){let d=Co._fromJSON(e,u);l!==o&&(a=d),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new t(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>p(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function rD(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(SD(e))return"Blackberry";if(AD(e))return"Webos";if(CD(e))return"Safari";if((e.includes("chrome/")||DD(e))&&!e.includes("edge/"))return"Chrome";if(TD(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function wD(t=Pe()){return/firefox\//i.test(t)}function CD(t=Pe()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function DD(t=Pe()){return/crios\//i.test(t)}function bD(t=Pe()){return/iemobile/i.test(t)}function TD(t=Pe()){return/android/i.test(t)}function SD(t=Pe()){return/blackberry/i.test(t)}function AD(t=Pe()){return/webos/i.test(t)}function jm(t=Pe()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function yF(t=Pe()){var e;return jm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _F(){return NC()&&document.documentMode===10}function ND(t=Pe()){return jm(t)||TD(t)||AD(t)||SD(t)||/windows phone/i.test(t)||bD(t)}function MD(t,e=[]){let n;switch(t){case"Browser":n=rD(Pe());break;case"Worker":n=`${rD(Pe())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${cr}/${r}`}var Im=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return p(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function EF(n){return p(this,arguments,function*(t,e={}){return dr(t,"GET","/v2/passwordPolicy",ur(t,e))})}var IF=6,wm=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:IF,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Cm=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bu(this),this.idTokenSubscription=new bu(this),this.beforeStateQueue=new Im(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=bn(n)),this._initializationPromise=this.queue(()=>p(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Du.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return p(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return p(this,null,function*(){try{let n=yield ED(this,{idToken:e}),r=yield Co._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return p(this,null,function*(){var n;if(_t(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return M(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return p(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return p(this,null,function*(){try{yield Cu(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=aF()}_delete(){return p(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return p(this,null,function*(){if(_t(this.app))return Promise.reject(Tn(this));let n=e?Ge(e):null;return n&&M(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return p(this,null,function*(){if(!this._deleted)return e&&M(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>p(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return p(this,null,function*(){return _t(this.app)?Promise.reject(Tn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return _t(this.app)?Promise.reject(Tn(this)):this.queue(()=>p(this,null,function*(){yield this.assertedPersistence.setPersistence(bn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return p(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return p(this,null,function*(){let e=yield EF(this),n=new wm(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new In("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return p(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield gF(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return p(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return p(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&bn(e)||this._popupRedirectResolver;M(n,this,"argument-error"),this.redirectPersistenceManager=yield Du.create(this,[bn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return p(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>p(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return p(this,null,function*(){if(e===this.currentUser)return this.queue(()=>p(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(M(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return p(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return M(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=MD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return p(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return p(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&rF(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function fr(t){return Ge(t)}var bu=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=PC(n=>this.observer=n)}get next(){return M(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Ou={loadJS(){return p(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wF(t){Ou=t}function RD(t){return Ou.loadJS(t)}function CF(){return Ou.recaptchaEnterpriseScript}function DF(){return Ou.gapiScript}function xD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var bF="recaptcha-enterprise",TF="NO_RECAPTCHA",Dm=class{constructor(e){this.type=bF,this.auth=fr(e)}verify(e="verify",n=!1){return p(this,null,function*(){function r(o){return p(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>p(this,null,function*(){dF(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new ym(c);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(c=>{a(c)})}))})}function i(o,s,a){let c=window.grecaptcha;eD(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(TF)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&eD(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=CF();c.length!==0&&(c+=a),RD(c).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function iD(t,e,n,r=!1){return p(this,null,function*(){let i=new Dm(t),o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function bm(t,e,n,r){return p(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield iD(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(o=>p(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield iD(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)}))})}function Um(t,e){let n=na(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(mo(o,e??{}))return i;Et(i,"already-initialized")}return n.initialize({options:e})}function SF(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(bn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Bm(t,e,n){let r=fr(t);M(r._canInitEmulator,r,"emulator-config-failed"),M(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=kD(e),{host:s,port:a}=AF(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||NF()}function kD(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function AF(t){let e=kD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:oD(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:oD(s)}}}function oD(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function NF(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Do=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Dn("not implemented")}_getIdTokenResponse(e){return Dn("not implemented")}_linkToIdToken(e,n){return Dn("not implemented")}_getReauthenticationResolver(e){return Dn("not implemented")}};function MF(t,e){return p(this,null,function*(){return dr(t,"POST","/v1/accounts:signUp",e)})}function RF(t,e){return p(this,null,function*(){return da(t,"POST","/v1/accounts:signInWithPassword",ur(t,e))})}function xF(t,e){return p(this,null,function*(){return da(t,"POST","/v1/accounts:signInWithEmailLink",ur(t,e))})}function kF(t,e){return p(this,null,function*(){return da(t,"POST","/v1/accounts:signInWithEmailLink",ur(t,e))})}var ca=class t extends Do{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return p(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bm(e,n,"signInWithPassword",RF);case"emailLink":return xF(e,{email:this._email,oobCode:this._password});default:Et(e,"internal-error")}})}_linkToIdToken(e,n){return p(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bm(e,r,"signUpPassword",MF);case"emailLink":return kF(e,{idToken:n,email:this._email,oobCode:this._password});default:Et(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function wo(t,e){return p(this,null,function*(){return da(t,"POST","/v1/accounts:signInWithIdp",ur(t,e))})}var OF="http://localhost",Tu=class t extends Do{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Et("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Ya(n,["providerId","signInMethod"]);if(!r||!i)return null;let s=new t(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let n=this.buildRequest();return wo(e,n)}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,wo(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,wo(e,n)}buildRequest(){let e={requestUri:OF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ir(n)}return e}};function PF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function FF(t){let e=go(vo(t)).link,n=e?go(vo(e)).deep_link_id:null,r=go(vo(t)).deep_link_id;return(r?go(vo(r)).link:null)||r||n||e||t}var Su=class t{constructor(e){var n,r,i,o,s,a;let c=go(vo(e)),l=(n=c.apiKey)!==null&&n!==void 0?n:null,u=(r=c.oobCode)!==null&&r!==void 0?r:null,d=PF((i=c.mode)!==null&&i!==void 0?i:null);M(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=FF(e);try{return new t(n)}catch{return null}}};var OD=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return ca._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Su.parseLink(r);return M(i,"argument-error"),ca._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),la=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Au=class extends la{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var $m=(()=>{class t extends Au{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Tu._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})();function LF(t,e){return p(this,null,function*(){return da(t,"POST","/v1/accounts:signUp",ur(t,e))})}var bo=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return p(this,null,function*(){let o=yield Co._fromIdTokenResponse(e,r,i),s=sD(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return p(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=sD(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function sD(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Tm=class t extends Ft{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function PD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Tm._fromErrorAndOperation(t,o,e,r):o})}function VF(t,e,n=!1){return p(this,null,function*(){let r=yield sa(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return bo._forOperation(t,"link",r)})}function jF(t,e,n=!1){return p(this,null,function*(){let{auth:r}=t;if(_t(r.app))return Promise.reject(Tn(r));let i="reauthenticate";try{let o=yield sa(t,PD(r,i,e,t),n);M(o.idToken,r,"internal-error");let s=Lm(o.idToken);M(s,r,"internal-error");let{sub:a}=s;return M(t.uid===a,r,"user-mismatch"),bo._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Et(r,"user-mismatch"),o}})}function FD(t,e,n=!1){return p(this,null,function*(){if(_t(t.app))return Promise.reject(Tn(t));let r="signIn",i=yield PD(t,r,e),o=yield bo._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function Hm(t,e){return p(this,null,function*(){return FD(fr(t),e)})}function LD(t){return p(this,null,function*(){let e=fr(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Wm(t,e,n){return p(this,null,function*(){if(_t(t.app))return Promise.reject(Tn(t));let r=fr(t),s=yield bm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",LF).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&LD(t),c}),a=yield bo._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function zm(t,e,n){return _t(t.app)?Promise.reject(Tn(t)):Hm(Ge(t),OD.credential(e,n)).catch(r=>p(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&LD(t),r}))}function fa(t,e,n,r){return Ge(t).onIdTokenChanged(e,n,r)}function Gm(t,e,n){return Ge(t).beforeAuthStateChanged(e,n)}function qm(t){return Ge(t).signOut()}var Nu="__sak";var Mu=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nu,"1"),this.storage.removeItem(Nu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var UF=1e3,BF=10,$F=(()=>{class t extends Mu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ND(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);_F()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,BF):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},UF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return p(this,null,function*(){yield mr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return p(this,null,function*(){let r=yield mr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return p(this,null,function*(){yield mr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),VD=$F;var HF=(()=>{class t extends Mu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Ym=HF;function WF(t){return Promise.all(t.map(e=>p(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var zF=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return p(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(u=>p(this,null,function*(){return u(r.origin,s)})),l=yield WF(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function Km(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Sm=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return p(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let l=Km("",20);i.port1.start();let u=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){let f=d;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(f.data.response);break;default:clearTimeout(u),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function rn(){return window}function GF(t){rn().location.href=t}function jD(){return typeof rn().WorkerGlobalScope<"u"&&typeof rn().importScripts=="function"}function qF(){return p(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function YF(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function KF(){return jD()?self:null}var UD="firebaseLocalStorageDb",ZF=1,Ru="firebaseLocalStorage",BD="fbase_key",ei=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Pu(t,e){return t.transaction([Ru],e?"readwrite":"readonly").objectStore(Ru)}function QF(){let t=indexedDB.deleteDatabase(UD);return new ei(t).toPromise()}function Am(){let t=indexedDB.open(UD,ZF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Ru,{keyPath:BD})}catch(i){n(i)}}),t.addEventListener("success",()=>p(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Ru)?e(r):(r.close(),yield QF(),e(yield Am()))}))})}function aD(t,e,n){return p(this,null,function*(){let r=Pu(t,!0).put({[BD]:e,value:n});return new ei(r).toPromise()})}function JF(t,e){return p(this,null,function*(){let n=Pu(t,!1).get(e),r=yield new ei(n).toPromise();return r===void 0?null:r.value})}function cD(t,e){let n=Pu(t,!0).delete(e);return new ei(n).toPromise()}var XF=800,eL=3,tL=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return p(this,null,function*(){return this.db?this.db:(this.db=yield Am(),this.db)})}_withRetries(n){return p(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>eL)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return p(this,null,function*(){return jD()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return p(this,null,function*(){this.receiver=zF._getInstance(KF()),this.receiver._subscribe("keyChanged",(n,r)=>p(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>p(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return p(this,null,function*(){var n,r;if(this.activeServiceWorker=yield qF(),!this.activeServiceWorker)return;this.sender=new Sm(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return p(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||YF()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return p(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Am();return yield aD(n,Nu,"1"),yield cD(n,Nu),!0}catch{}return!1})}_withPendingWrite(n){return p(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(i=>aD(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return p(this,null,function*(){let r=yield this._withRetries(i=>JF(i,n));return this.localCache[n]=r,r})}_remove(n){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(r=>cD(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return p(this,null,function*(){let n=yield this._withRetries(o=>{let s=Pu(o,!1).getAll();return new ei(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>p(this,null,function*(){return this._poll()}),XF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),$D=tL;var n4=xD("rcb"),r4=new Xr(3e4,6e4);function HD(t,e){return e?bn(e):(M(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var ua=class extends Do{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wo(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function nL(t){return FD(t.auth,new ua(t),t.bypassAuthState)}function rL(t){let{auth:e,user:n}=t;return M(n,e,"internal-error"),jF(n,new ua(t),t.bypassAuthState)}function iL(t){return p(this,null,function*(){let{auth:e,user:n}=t;return M(n,e,"internal-error"),VF(n,new ua(t),t.bypassAuthState)})}var xu=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>p(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return p(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nL;case"linkViaPopup":case"linkViaRedirect":return iL;case"reauthViaPopup":case"reauthViaRedirect":return rL;default:Et(this.auth,"internal-error")}}resolve(e){Sn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Sn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var oL=new Xr(2e3,1e4);function Zm(t,e,n){return p(this,null,function*(){if(_t(t.app))return Promise.reject(Lt(t,"operation-not-supported-in-this-environment"));let r=fr(t);iF(t,e,la);let i=HD(r,n);return new sL(r,"signInViaPopup",e,i).executeNotNull()})}var sL=(()=>{class t extends xu{constructor(n,r,i,o,s){super(n,r,o,s),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){return p(this,null,function*(){let n=yield this.execute();return M(n,this.auth,"internal-error"),n})}onExecution(){return p(this,null,function*(){Sn(this.filter.length===1,"Popup operations only handle one event");let n=Km();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Lt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(Lt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Lt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,oL.get())};n()}}t.currentPopupAction=null;return t})(),aL="pendingRedirect",_u=new Map,Nm=class t extends xu{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return p(this,null,function*(){let e=_u.get(this.auth._key());if(!e){try{let r=(yield cL(this.resolver,this.auth))?yield mr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}_u.set(this.auth._key(),e)}return this.bypassAuthState||_u.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return p(this,null,function*(){if(e.type==="signInViaRedirect")return mr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,mr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return p(this,null,function*(){})}cleanUp(){}};function cL(t,e){return p(this,null,function*(){let n=dL(e),r=uL(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function lL(t,e){_u.set(t._key(),e)}function uL(t){return bn(t._redirectPersistence)}function dL(t){return yu(aL,t.config.apiKey,t.name)}function fL(t,e,n=!1){return p(this,null,function*(){if(_t(t.app))return Promise.reject(Tn(t));let r=fr(t),i=HD(r,e),s=yield new Nm(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var hL=10*60*1e3,Mm=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!WD(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Lt(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hL&&this.cachedEventUids.clear(),this.cachedEventUids.has(lD(e))}saveEventToCache(e){this.cachedEventUids.add(lD(e)),this.lastProcessedEventTime=Date.now()}};function lD(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function WD({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function pL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WD(t);default:return!1}}function mL(n){return p(this,arguments,function*(t,e={}){return dr(t,"GET","/v1/projects",e)})}var gL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vL=/^https?/;function yL(t){return p(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield mL(t);for(let n of e)try{if(_L(n))return}catch{}Et(t,"unauthorized-domain")})}function _L(t){let e=gm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!vL.test(n))return!1;if(gL.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var EL=new Xr(3e4,6e4);function uD(){let t=rn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function IL(t){return new Promise((e,n)=>{var r,i,o;function s(){uD(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uD(),n(Lt(t,"network-request-failed"))},timeout:EL.get()})}if(!((i=(r=rn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=rn().gapi)===null||o===void 0)&&o.load)s();else{let a=xD("iframefcb");return rn()[a]=()=>{gapi.load?s():n(Lt(t,"network-request-failed"))},RD(`${DF()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Eu=null,e})}var Eu=null;function wL(t){return Eu=Eu||IL(t),Eu}var CL=new Xr(5e3,15e3),DL="__/auth/iframe",bL="emulator/auth/iframe",TL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AL(t){let e=t.config;M(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Pm(e,bL):`https://${t.config.authDomain}/${DL}`,r={apiKey:e.apiKey,appName:t.name,v:cr},i=SL.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${ir(r).slice(1)}`}function NL(t){return p(this,null,function*(){let e=yield wL(t),n=rn().gapi;return M(n,t,"internal-error"),e.open({where:document.body,url:AL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TL,dontclear:!0},r=>new Promise((i,o)=>p(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Lt(t,"network-request-failed"),a=rn().setTimeout(()=>{o(s)},CL.get());function c(){rn().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var ML={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RL=500,xL=600,kL="_blank",OL="http://localhost",ku=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function PL(t,e,n,r=RL,i=xL){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},ML),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Pe().toLowerCase();n&&(a=DD(l)?kL:n),wD(l)&&(e=e||OL,c.scrollbars="yes");let u=Object.entries(c).reduce((f,[h,m])=>`${f}${h}=${m},`,"");if(yF(l)&&a!=="_self")return FL(e||"",a),new ku(null);let d=window.open(e||"",a,u);M(d,t,"popup-blocked");try{d.focus()}catch{}return new ku(d)}function FL(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var LL="__/auth/handler",VL="emulator/auth/handler",jL=encodeURIComponent("fac");function dD(t,e,n,r,i,o){return p(this,null,function*(){M(t.config.authDomain,t,"auth-domain-config-required"),M(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:cr,eventId:i};if(e instanceof la){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",Zs(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,d]of Object.entries(o||{}))s[u]=d}if(e instanceof Au){let u=e.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let c=yield t._getAppCheckToken(),l=c?`#${jL}=${encodeURIComponent(c)}`:"";return`${UL(t)}?${ir(a).slice(1)}${l}`})}function UL({config:t}){return t.emulator?Pm(t,VL):`https://${t.authDomain}/${LL}`}var mm="webStorageSupport",Rm=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ym,this._completeRedirectFn=fL,this._overrideRedirectResult=lL}_openPopup(e,n,r,i){return p(this,null,function*(){var o;Sn((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield dD(e,n,r,gm(),i);return PL(e,s,Km())})}_openRedirect(e,n,r,i){return p(this,null,function*(){yield this._originValidation(e);let o=yield dD(e,n,r,gm(),i);return GF(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Sn(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return p(this,null,function*(){let n=yield NL(e),r=new Mm(e);return n.register("authEvent",i=>(M(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(mm,{type:mm},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[mm];s!==void 0&&n(!!s),Et(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=yL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ND()||CD()||jm()}},zD=Rm;var fD="@firebase/auth",hD="1.7.9";var xm=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return p(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){M(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function BL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $L(t){ar(new yt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;M(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MD(t)},l=new Cm(r,i,o,c);return SF(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ar(new yt("auth-internal",e=>{let n=fr(e.getProvider("auth").getImmediate());return(r=>new xm(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),we(fD,hD,BL(t)),we(fD,hD,"esm2017")}var HL=5*60,WL=Qp("authIdTokenMaxAge")||HL,pD=null,zL=t=>e=>p(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>WL)return;let i=n?.token;pD!==i&&(pD=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Qm(t=yo()){let e=na(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Um(t,{popupRedirectResolver:zD,persistence:[$D,VD,Ym]}),r=Qp("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=zL(o.toString());Gm(n,s,()=>s(n.currentUser)),fa(n,a=>s(a))}}let i=Kp("auth");return i&&Bm(n,`http://${i}`),n}function GL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}wF({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Lt("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",GL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$L("Browser");function YD(t){return new $(function(e){var n=fa(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var KD="auth",An=class{constructor(e){return e}},ha=class{constructor(){return ra(KD)}};var Jm=new T("angularfire2.auth-instances");function kV(t,e){let n=pu(KD,t,e);return n&&new An(n)}function OV(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new An(r)}}var PV={provide:ha,deps:[[new Be,Jm]]},FV={provide:An,useFactory:kV,deps:[[new Be,Jm],Cn]};function ZD(t,...e){return we("angularfire",Qr.full,"auth"),nt([FV,PV,{provide:Jm,useFactory:OV(t),multi:!0,deps:[J,Oe,Io,Jr,[new Be,Eo],...e]}])}var QD=ct(YD,!0);var JD=ct(Wm,!0);var XD=ct(Qm,!0);var eb=ct(zm,!0);var tb=ct(Zm,!0);var nb=ct(qm,!0);var on=class t{constructor(e,n){this.auth=e;this.router=n;this.auth.onAuthStateChanged(r=>{this.currentUserSubject.next(r)}),this.user$=this.currentUserSubject.asObservable()}currentUserSubject=new De(null);user$;register({email:e,password:n}){return JD(this.auth,e,n)}login({email:e,password:n}){return eb(this.auth,e,n)}loginWithGoogle(){return tb(this.auth,new $m)}logout(){return nb(this.auth).then(()=>{this.router.navigate(["/login"])})}static \u0275fac=function(n){return new(n||t)(R(An),R(ze))};static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})};function LV(t,e){t&1&&(v(0,"li")(1,"a",14),E(2,"Sign In"),g()())}function VV(t,e){t&1&&(v(0,"li")(1,"a",15),E(2,"Login"),g()())}function jV(t,e){if(t&1){let n=gt();v(0,"li")(1,"button",16),Z("click",function(){$e(n);let i=ie();return He(i.onClick())}),E(2,"Cerrar Sesi\xF3n"),g()()}}var sn=class t{constructor(e,n){this.router=e;this.auth=n;this.auth.user$.subscribe(r=>{this.isAuthenticated=!!r,console.log("Usuario autenticado:",r)})}isAuthenticated=!1;onClick(){this.auth.logout().then(()=>this.router.navigate(["/login"])).catch(e=>console.log(e))}static \u0275fac=function(n){return new(n||t)(D(ze),D(on))};static \u0275cmp=ue({type:t,selectors:[["app-nav-bar"]],standalone:!0,features:[de],decls:21,vars:3,consts:[[1,"navbar","navbar-expand-lg","bg-body-tertiary"],[1,"container-fluid"],["routerLink","/home",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item"],["routerLink","/home","routerLinkActive","active",1,"nav-link"],["routerLink","/tasks","routerLinkActive","active",1,"nav-link"],[1,"nav-item","dropdown"],["id","navbarDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","navbarDropdown",1,"dropdown-menu"],[4,"ngIf"],["routerLink","/sigin","routerLinkActive","active",1,"dropdown-item"],["routerLink","/login","routerLinkActive","active",1,"dropdown-item"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(n,r){n&1&&(v(0,"nav",0)(1,"div",1)(2,"a",2),E(3,"TaskManager"),g(),v(4,"button",3),X(5,"span",4),g(),v(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),E(10,"Inicio"),g()(),v(11,"li",7)(12,"a",9),E(13,"Tareas"),g()(),v(14,"li",10)(15,"a",11),E(16," Inicio de sesion Crear Usuario y Cerrar Sesion "),g(),v(17,"ul",12),K(18,LV,3,0,"li",13)(19,VV,3,0,"li",13)(20,jV,3,0,"li",13),g()()()()()()),n&2&&(w(18),C("ngIf",!r.isAuthenticated),w(),C("ngIf",!r.isAuthenticated),w(),C("ngIf",r.isAuthenticated))},dependencies:[Gl,Me,Jt]})};var ib=t=>({"is-invalid":t});function UV(t,e){t&1&&(v(0,"small"),E(1,"El correo es obligatorio."),g())}function BV(t,e){t&1&&(v(0,"small"),E(1,"El formato del correo no es v\xE1lido."),g())}function $V(t,e){if(t&1&&(v(0,"div",12),K(1,UV,2,0,"small",13)(2,BV,2,0,"small",13),g()),t&2){let n,r,i=ie();w(),C("ngIf",(n=i.loginForm.get("email"))==null||n.errors==null?null:n.errors.required),w(),C("ngIf",(r=i.loginForm.get("email"))==null||r.errors==null?null:r.errors.email)}}function HV(t,e){t&1&&(v(0,"small"),E(1,"La contrase\xF1a es obligatoria."),g())}function WV(t,e){t&1&&(v(0,"small"),E(1," La contrase\xF1a debe tener al menos 6 caracteres. "),g())}function zV(t,e){if(t&1&&(v(0,"div",12),K(1,HV,2,0,"small",13)(2,WV,2,0,"small",13),g()),t&2){let n,r,i=ie();w(),C("ngIf",(n=i.loginForm.get("password"))==null||n.errors==null?null:n.errors.required),w(),C("ngIf",(r=i.loginForm.get("password"))==null||r.errors==null?null:r.errors.minlength)}}var pa=class t{constructor(e,n,r){this.fb=e;this.auth=n;this.router=r;this.loginForm=this.fb.group({email:["",[ye.required,ye.email]],password:["",[ye.required,ye.minLength(6)]]})}loginForm;onSubmit(){this.auth.login(this.loginForm.value).then().catch(e=>console.log(e))}onClick(){this.auth.loginWithGoogle().then(()=>this.router.navigate(["/home"])).catch(e=>console.log(e))}static \u0275fac=function(n){return new(n||t)(D(fo),D(on),D(ze))};static \u0275cmp=ue({type:t,selectors:[["app-login"]],standalone:!0,features:[de],decls:20,vars:10,consts:[[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password",1,"form-control",3,"ngClass"],[1,"mb-3","form-check"],["type","checkbox","id","exampleCheck1",1,"form-check-input"],["for","exampleCheck1",1,"form-check-label"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"btn","btn-info",3,"click"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(n,r){if(n&1&&(X(0,"app-nav-bar"),v(1,"form",0),Z("ngSubmit",function(){return r.onSubmit()}),v(2,"div",1)(3,"label",2),E(4,"Email address"),g(),X(5,"input",3),K(6,$V,3,2,"div",4),g(),v(7,"div",1)(8,"label",5),E(9,"Password"),g(),X(10,"input",6),K(11,zV,3,2,"div",4),g(),v(12,"div",7),X(13,"input",8),v(14,"label",9),E(15,"Check me out"),g()(),v(16,"button",10),E(17,"Submit"),g()(),v(18,"button",11),Z("click",function(){return r.onClick()}),E(19,"Log in with Google"),g()),n&2){let i,o,s,a;w(),C("formGroup",r.loginForm),w(4),C("ngClass",Zn(6,ib,((i=r.loginForm.get("email"))==null?null:i.invalid)&&((i=r.loginForm.get("email"))==null?null:i.touched))),w(),C("ngIf",((o=r.loginForm.get("email"))==null?null:o.invalid)&&((o=r.loginForm.get("email"))==null?null:o.touched)),w(4),C("ngClass",Zn(8,ib,((s=r.loginForm.get("password"))==null?null:s.invalid)&&((s=r.loginForm.get("password"))==null?null:s.touched))),w(),C("ngIf",((a=r.loginForm.get("password"))==null?null:a.invalid)&&((a=r.loginForm.get("password"))==null?null:a.touched)),w(5),C("disabled",r.loginForm.invalid)}},dependencies:[Me,Qn,Jt,ho,uo,nr,co,lo,zr,Gr,sn]})};var ob="@firebase/database",sb="1.0.8";var Zg="";function GV(t){Zg=t}var sg=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ae(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:po(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var ag=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return tn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var Vb=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new sg(e)}}catch{}return new ag},ni=Vb("localStorage"),cg=Vb("sessionStorage");var Ao=new or("@firebase/database"),qV=function(){let t=1;return function(){return t++}}(),jb=function(t){let e=FC(t),n=new su;n.update(e);let r=n.digest();return au.encodeByteArray(r)},Sa=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Sa.apply(null,r):typeof r=="object"?e+=Ae(r):e+=r,e+=" "}return e},ii=null,ab=!0,YV=function(t,e){I(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Ao.logLevel=ee.VERBOSE,ii=Ao.log.bind(Ao),e&&cg.set("logging_enabled",!0)):typeof t=="function"?ii=t:(ii=null,cg.remove("logging_enabled"))},Fe=function(...t){if(ab===!0&&(ab=!1,ii===null&&cg.get("logging_enabled")===!0&&YV(!0)),ii){let e=Sa.apply(null,t);ii(e)}},Aa=function(t){return function(...e){Fe(t,...e)}},lg=function(...t){let e="FIREBASE INTERNAL ERROR: "+Sa(...t);Ao.error(e)},Mn=function(...t){let e=`FIREBASE FATAL ERROR: ${Sa(...t)}`;throw Ao.error(e),new Error(e)},Ye=function(...t){let e="FIREBASE WARNING: "+Sa(...t);Ao.warn(e)},KV=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ye("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Ub=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},ZV=function(t){if(en()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Mo="[MIN_NAME]",oi="[MAX_NAME]",Fo=function(t,e){if(t===e)return 0;if(t===Mo||e===oi)return-1;if(e===Mo||t===oi)return 1;{let n=cb(t),r=cb(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},QV=function(t,e){return t===e?0:t<e?-1:1},ma=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ae(e))},Qg=function(t){if(typeof t!="object"||t===null)return Ae(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Ae(e[r]),n+=":",n+=Qg(t[e[r]]);return n+="}",n},Bb=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Ct(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var $b=function(t){I(!Ub(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,o,s,a,c;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));let l=[];for(c=n;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=e;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(i?1:0),l.reverse();let u=l.join(""),d="";for(c=0;c<64;c+=8){let f=parseInt(u.substr(c,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},JV=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},XV=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};var ej=new RegExp("^-?(0*)\\d{1,10}$"),tj=-2147483648,nj=2147483647,cb=function(t){if(ej.test(t)){let e=Number(t);if(e>=tj&&e<=nj)return e}return null},Lo=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw Ye("Exception was thrown by user callback.",n),e},Math.floor(0))}},rj=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ea=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var ug=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ye(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var dg=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Fe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ye(e)}},Ia=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),Vu="5",Hb="v",Wb="s",zb="r",Gb="f",qb=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Yb="ls",Kb="p",fg="ac",Zb="websocket",Qb="long_polling";var ju=class{constructor(e,n,r,i,o=!1,s="",a=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ni.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ni.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function ij(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Jb(t,e,n){I(typeof e=="string","typeof type must == string"),I(typeof n=="object","typeof params must == object");let r;if(e===Zb)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Qb)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);ij(t)&&(n.ns=t.namespace);let i=[];return Ct(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var hg=class{constructor(){this.counters_={}}incrementCounter(e,n=1){tn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return CC(this.counters_)}};var Xm={},eg={};function Jg(t){let e=t.toString();return Xm[e]||(Xm[e]=new hg),Xm[e]}function oj(t,e){let n=t.toString();return eg[n]||(eg[n]=e()),eg[n]}var pg=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Lo(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var lb="start",sj="close",aj="pLPCommand",cj="pRTLPCB",Xb="id",e0="pw",t0="ser",lj="cb",uj="seg",dj="ts",fj="d",hj="dframe",n0=1870,r0=30,pj=n0-r0,mj=25e3,gj=3e4,mg=class t{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Aa(e),this.stats_=Jg(n),this.urlFn=c=>(this.appCheckToken&&(c[fg]=this.appCheckToken),Jb(n,Qb,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new pg(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(gj)),ZV(()=>{if(this.isClosed_)return;this.scriptTagHolder=new gg((...o)=>{let[s,a,c,l,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===lb)this.id=a,this.password=c;else if(s===sj)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[lb]="t",r[t0]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[lj]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Hb]=Vu,this.transportSessionId&&(r[Wb]=this.transportSessionId),this.lastSessionId&&(r[Yb]=this.lastSessionId),this.applicationId&&(r[Kb]=this.applicationId),this.appCheckToken&&(r[fg]=this.appCheckToken),typeof location<"u"&&location.hostname&&qb.test(location.hostname)&&(r[zb]=Gb);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return en()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!JV()&&!XV()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=Ae(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=qp(n),i=Bb(r,pj);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(en())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[hj]="t",r[Xb]=e,r[e0]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=Ae(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},gg=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,en())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=qV(),window[aj+this.uniqueCallbackIdentifier]=e,window[cj+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Fe("frame writing exception"),a.stack&&Fe(a.stack),Fe(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Fe("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[Xb]=this.myID,e[e0]=this.myPW,e[t0]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+r0+r.length<=n0;){let s=this.pendingSegs.shift();r=r+"&"+uj+i+"="+s.seg+"&"+dj+i+"="+s.ts+"&"+fj+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(mj)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){en()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Fe("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var vj=16384,yj=45e3,Uu=null;typeof MozWebSocket<"u"?Uu=MozWebSocket:typeof WebSocket<"u"&&(Uu=WebSocket);var ga=(()=>{class t{constructor(n,r,i,o,s,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Aa(this.connId),this.stats_=Jg(r),this.connURL=t.connectionURL_(r,a,c,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){let a={};return a[Hb]=Vu,!en()&&typeof location<"u"&&location.hostname&&qb.test(location.hostname)&&(a[zb]=Gb),r&&(a[Wb]=r),i&&(a[Yb]=i),o&&(a[fg]=o),s&&(a[Kb]=s),Jb(n,Zb,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ni.set("previous_websocket_failure",!0);try{let i;if(en()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${Vu}/${Zg}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new Uu(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&Uu!==null&&!t.forceDisallow_}static previouslyFailed(){return ni.isInMemoryStorage||ni.get("previous_websocket_failure")===!0}markConnectionHealthy(){ni.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=po(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(I(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=Ae(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=Bb(r,vj);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(yj))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),_j=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[mg,ga]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let r=ga&&ga.isAvailable(),i=r&&!ga.previouslyFailed();if(n.webSocketOnly&&(r||Ye("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[ga];else{let o=this.transports_=[];for(let s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),Ej=6e4,Ij=5e3,wj=10*1024,Cj=100*1024,tg="t",ub="d",Dj="s",db="r",bj="e",fb="o",hb="a",pb="n",mb="p",Tj="h",vg=class{constructor(e,n,r,i,o,s,a,c,l,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Aa("c:"+this.id+":"),this.transportManager_=new _j(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ea(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Cj?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>wj?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(tg in e){let n=e[tg];n===hb?this.upgradeIfSecondaryHealthy_():n===db?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===fb&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=ma("t",e),r=ma("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:mb,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:hb,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:pb,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=ma("t",e),r=ma("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=ma(tg,e);if(ub in e){let r=e[ub];if(n===Tj){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===pb){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Dj?this.onConnectionShutdown_(r):n===db?this.onReset_(r):n===bj?lg("Server Error: "+r):n===fb?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):lg("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Vu!==r&&Ye("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ea(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Ej))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ea(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Ij))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:mb,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ni.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Bu=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var $u=class{constructor(e){this.allowedEvents_=e,this.listeners_={},I(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){I(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var Hu=class t extends $u{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Ks()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return I(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var gb=32,vb=768,oe=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function te(){return new oe("")}function W(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function pr(t){return t.pieces_.length-t.pieceNum_}function ae(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new oe(t.pieces_,e)}function i0(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Sj(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function o0(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function s0(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new oe(e,0)}function Te(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof oe)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new oe(n,0)}function z(t){return t.pieceNum_>=t.pieces_.length}function It(t,e){let n=W(t),r=W(e);if(n===null)return e;if(n===r)return It(ae(t),ae(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function a0(t,e){if(pr(t)!==pr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function jt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(pr(t)>pr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var yg=class{constructor(e,n){this.errorPrefix_=n,this.parts_=o0(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Js(this.parts_[r]);c0(this)}};function Aj(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Js(e),c0(t)}function Nj(t){let e=t.parts_.pop();t.byteLength_-=Js(e),t.parts_.length>0&&(t.byteLength_-=1)}function c0(t){if(t.byteLength_>vb)throw new Error(t.errorPrefix_+"has a key path longer than "+vb+" bytes ("+t.byteLength_+").");if(t.parts_.length>gb)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+gb+") or object contains a cycle "+ti(t))}function ti(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var _g=class t extends $u{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new t}getInitialEvent(e){return I(e==="visible","Unknown event type: "+e),[this.visible_]}};var va=1e3,Mj=60*5*1e3,yb=30*1e3,Rj=1.3,xj=3e4,kj="server_kill",_b=3,Xg=(()=>{class t extends Bu{constructor(n,r,i,o,s,a,c,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=t.nextPersistentConnectionId_++,this.log_=Aa("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=va,this.maxReconnectDelay_=Mj,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!en())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");_g.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Hu.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(Ae(s)),I(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();let r=new rr,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?r.resolve(c):r.reject(c)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(n,r,i,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),I(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),I(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,c=>{let l=c.d,u=c.s;t.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",c),u!=="ok"&&this.removeListen_(i,o),n.onComplete&&n.onComplete(u,l))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&tn(n,"w")){let i=Yr(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();Ye(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||OC(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=yb)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=kC(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),I(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);let s={p:n},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Ae(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):lg("Unrecognized action received from server: "+Ae(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){I(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=va,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=va,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>xj&&(this.reconnectDelay_=va),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Rj)}this.onConnectStatus_(!1)}establishConnection_(){return p(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,a=!1,c=null,l=function(){c?c.close():(a=!0,i())},u=function(f){I(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)};this.realtime_={close:l,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,h]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Fe("getToken() completed but was canceled"):(Fe("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,c=new vg(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,m=>{Ye(m+" ("+this.repoInfo_.toString()+")"),this.interrupt(kj)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&Ye(f),l())}}})}interrupt(n){Fe("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Fe("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Zs(this.interruptReasons_)&&(this.reconnectDelay_=va,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(s=>Qg(s)).join("$"):i="default";let o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){let i=new oe(n).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){Fe("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=_b&&(this.reconnectDelay_=yb,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Fe("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=_b&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";en()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+Zg.replace(/\./g,"-")]=1,Ks()?n["framework.cordova"]=1:cu()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=Hu.getInstance().currentlyOnline();return Zs(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),q=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var Ro=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new q(Mo,e),i=new q(Mo,n);return this.compare(r,i)!==0}minPost(){return q.MIN}};var Lu,Wu=class extends Ro{static get __EMPTY_NODE(){return Lu}static set __EMPTY_NODE(e){Lu=e}compare(e,n){return Fo(e.name,n.name)}isDefinedOn(e){throw qr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return q.MIN}maxPost(){return new q(oi,Lu)}makePost(e,n){return I(typeof e=="string","KeyIndex indexValue must always be a string."),new q(e,Lu)}toString(){return".key"}},No=new Wu;var So=class{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Vt=(()=>{class t{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??t.RED,this.left=o??wt.EMPTY_NODE,this.right=s??wt.EMPTY_NODE}copy(n,r,i,o,s){return new t(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this,s=i(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return wt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return wt.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),Eg=class{copy(e,n,r,i,o){return this}insert(e,n,r){return new Vt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},wt=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Vt.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Vt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new So(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new So(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new So(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new So(this.root_,null,this.comparator_,!0,e)}};wt.EMPTY_NODE=new Eg;function Oj(t,e){return Fo(t.name,e.name)}function ev(t,e){return Fo(t,e)}var Ig;function Pj(t){Ig=t}var l0=function(t){return typeof t=="number"?"number:"+$b(t):"string:"+t},u0=function(t){if(t.isLeafNode()){let e=t.val();I(typeof e=="string"||typeof e=="number"||typeof e=="object"&&tn(e,".sv"),"Priority must be a string or number.")}else I(t===Ig||t.isEmpty(),"priority of unexpected type.");I(t===Ig||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var Eb,xo=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,I(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),u0(this.priorityNode_)}static set __childrenNodeConstructor(n){Eb=n}static get __childrenNodeConstructor(){return Eb}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return z(n)?this:W(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=W(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(I(i!==".priority"||pr(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(ae(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+l0(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=$b(this.value_):n+=this.value_,this.lazyHash_=jb(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(I(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(r),s=t.VALUE_TYPE_ORDER.indexOf(i);return I(o>=0,"Unknown leaf type: "+r),I(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),d0,f0;function Fj(t){d0=t}function Lj(t){f0=t}var wg=class extends Ro{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?Fo(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return q.MIN}maxPost(){return new q(oi,new xo("[PRIORITY-POST]",f0))}makePost(e,n){let r=d0(e);return new q(n,new xo("[PRIORITY-POST]",r))}toString(){return".priority"}},Le=new wg;var Vj=Math.log(2),Cg=class{constructor(e){let n=o=>parseInt(Math.log(o)/Vj,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},zu=function(t,e,n,r){t.sort(e);let i=function(c,l){let u=l-c,d,f;if(u===0)return null;if(u===1)return d=t[c],f=n?n(d):d,new Vt(f,d.node,Vt.BLACK,null,null);{let h=parseInt(u/2,10)+c,m=i(c,h),b=i(h+1,l);return d=t[h],f=n?n(d):d,new Vt(f,d.node,Vt.BLACK,m,b)}},o=function(c){let l=null,u=null,d=t.length,f=function(m,b){let N=d-m,L=d;d-=m;let ce=i(N+1,L),le=t[N],_e=n?n(le):le;h(new Vt(_e,le.node,b,null,ce))},h=function(m){l?(l.left=m,l=m):(u=m,l=m)};for(let m=0;m<c.count;++m){let b=c.nextBitIsOne(),N=Math.pow(2,c.count-(m+1));b?f(N,Vt.BLACK):(f(N,Vt.BLACK),f(N,Vt.RED))}return u},s=new Cg(t.length),a=o(s);return new wt(r||e,a)};var ng,To={},ko=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return I(To&&Le,"ChildrenNode.ts has not been loaded"),ng=ng||new t({".priority":To},{".priority":Le}),ng}get(e){let n=Yr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof wt?n:null}hasIndex(e){return tn(this.indexSet_,e.toString())}addIndex(e,n){I(e!==No,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=n.getIterator(q.Wrap),s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=zu(r,e.getCompare()):a=To;let c=e.toString(),l=Object.assign({},this.indexSet_);l[c]=e;let u=Object.assign({},this.indexes_);return u[c]=a,new t(u,l)}addToIndexes(e,n){let r=Qs(this.indexes_,(i,o)=>{let s=Yr(this.indexSet_,o);if(I(s,"Missing index implementation for "+o),i===To)if(s.isDefinedOn(e.node)){let a=[],c=n.getIterator(q.Wrap),l=c.getNext();for(;l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),zu(a,s.getCompare())}else return To;else{let a=n.get(e.name),c=i;return a&&(c=c.remove(new q(e.name,a))),c.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=Qs(this.indexes_,i=>{if(i===To)return i;{let o=n.get(e.name);return o?i.remove(new q(e.name,o)):i}});return new t(r,this.indexSet_)}};var ya,he=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&u0(this.priorityNode_),this.children_.isEmpty()&&I(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ya||(ya=new t(new wt(ev),null,ko.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ya}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?ya:r}}getChild(n){let r=W(n);return r===null?this:this.getImmediateChild(r).getChild(ae(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(I(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new q(n,r),o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?ya:this.priorityNode_;return new t(o,a,s)}}updateChild(n,r){let i=W(n);if(i===null)return r;{I(W(n)!==".priority"||pr(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild(ae(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(Le,(a,c)=>{r[a]=c.val(n),i++,s&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){let a=[];for(let c in r)a[c]=r[c];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+l0(this.getPriority().val())+":"),this.forEachChild(Le,(r,i)=>{let o=i.hash();o!==""&&(n+=":"+r+":"+o)}),this.lazyHash_=n===""?"":jb(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new q(n,r));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new q(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new q(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,q.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,q.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Na?-1:0}withIndex(n){if(n===No||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===No||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(Le),o=r.getIterator(Le),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===No?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),Dg=class extends he{constructor(){super(new wt(ev),he.EMPTY_NODE,ko.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return he.EMPTY_NODE}isEmpty(){return!1}},Na=new Dg;Object.defineProperties(q,{MIN:{value:new q(Mo,he.EMPTY_NODE)},MAX:{value:new q(oi,Na)}});Wu.__EMPTY_NODE=he.EMPTY_NODE;xo.__childrenNodeConstructor=he;Pj(Na);Lj(Na);var jj=!0;function xe(t,e=null){if(t===null)return he.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),I(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new xo(n,xe(e))}if(!(t instanceof Array)&&jj){let n=[],r=!1;if(Ct(t,(s,a)=>{if(s.substring(0,1)!=="."){let c=xe(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new q(s,c)))}}),n.length===0)return he.EMPTY_NODE;let o=zu(n,Oj,s=>s.name,ev);if(r){let s=zu(n,Le.getCompare());return new he(o,xe(e),new ko({".priority":s},{".priority":Le}))}else return new he(o,xe(e),ko.Default)}else{let n=he.EMPTY_NODE;return Ct(t,(r,i)=>{if(tn(t,r)&&r.substring(0,1)!=="."){let o=xe(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(xe(e))}}Fj(xe);var bg=class extends Ro{constructor(e){super(),this.indexPath_=e,I(!z(e)&&W(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?Fo(e.name,n.name):o}makePost(e,n){let r=xe(e),i=he.EMPTY_NODE.updateChild(this.indexPath_,r);return new q(n,i)}maxPost(){let e=he.EMPTY_NODE.updateChild(this.indexPath_,Na);return new q(oi,e)}toString(){return o0(this.indexPath_,0).join("/")}};var Tg=class extends Ro{compare(e,n){let r=e.node.compareTo(n.node);return r===0?Fo(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return q.MIN}maxPost(){return q.MAX}makePost(e,n){let r=xe(e);return new q(n,r)}toString(){return".value"}},Uj=new Tg;function Bj(t){return{type:"value",snapshotNode:t}}function $j(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Hj(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Ib(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Wj(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var Sg=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Le}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return I(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return I(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Mo}hasEnd(){return this.endSet_}getIndexEndValue(){return I(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return I(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:oi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return I(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Le}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function wb(t){let e={};if(t.isDefault())return e;let n;if(t.index_===Le?n="$priority":t.index_===Uj?n="$value":t.index_===No?n="$key":(I(t.index_ instanceof bg,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ae(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=Ae(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Ae(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Ae(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Ae(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Cb(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Le&&(e.i=t.index_.toString()),e}var Ag=class t extends Bu{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Aa("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(I(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){let o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);let s=t.getListenId_(e,r),a={};this.listens_[s]=a;let c=wb(e._queryParams);this.restRequest_(o+".json",c,(l,u)=>{let d=u;if(l===404&&(d=null,l=null),l===null&&this.onDataUpdate_(o,d,!1,r),Yr(this.listens_,s)===a){let f;l?l===401?f="permission_denied":f="rest_error:"+l:f="ok",i(f,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=wb(e._queryParams),r=e._path.toString(),i=new rr;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ir(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=po(a.responseText)}catch{Ye("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&Ye("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var Ng=class{constructor(){this.rootNode_=he.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function Gu(){return{value:null,children:new Map}}function h0(t,e,n){if(z(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=W(e);t.children.has(r)||t.children.set(r,Gu());let i=t.children.get(r);e=ae(e),h0(i,e,n)}}function Mg(t,e,n){t.value!==null?n(e,t.value):zj(t,(r,i)=>{let o=new oe(e.toString()+"/"+r);Mg(i,o,n)})}function zj(t,e){t.children.forEach((n,r)=>{e(r,n)})}var Rg=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ct(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var Db=10*1e3,Gj=30*1e3,qj=5*60*1e3,xg=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Rg(e);let r=Db+(Gj-Db)*Math.random();Ea(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;Ct(e,(i,o)=>{o>0&&tn(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),Ea(this.reportStats_.bind(this),Math.floor(Math.random()*2*qj))}};var Nn=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Nn||{});function p0(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function m0(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function g0(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var kg=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Nn.ACK_USER_WRITE,this.source=p0()}operationForChild(e){if(z(this.path)){if(this.affectedTree.value!=null)return I(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new oe(e));return new t(te(),n,this.revert)}}else return I(W(this.path)===e,"operationForChild called for unrelated child."),new t(ae(this.path),this.affectedTree,this.revert)}};var Oo=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Nn.OVERWRITE}operationForChild(e){return z(this.path)?new t(this.source,te(),this.snap.getImmediateChild(e)):new t(this.source,ae(this.path),this.snap)}};var qu=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Nn.MERGE}operationForChild(e){if(z(this.path)){let n=this.children.subtree(new oe(e));return n.isEmpty()?null:n.value?new Oo(this.source,te(),n.value):new t(this.source,te(),n)}else return I(W(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,ae(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Da=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(z(e))return this.isFullyInitialized()&&!this.filtered_;let n=W(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};function Yj(t,e,n,r){let i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(Wj(s.childName,s.snapshotNode))}),_a(t,i,"child_removed",e,r,n),_a(t,i,"child_added",e,r,n),_a(t,i,"child_moved",o,r,n),_a(t,i,"child_changed",e,r,n),_a(t,i,"value",e,r,n),i}function _a(t,e,n,r,i,o){let s=r.filter(a=>a.type===n);s.sort((a,c)=>Zj(t,a,c)),s.forEach(a=>{let c=Kj(t,a,o);i.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(c,t.query_))})})}function Kj(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Zj(t,e,n){if(e.childName==null||n.childName==null)throw qr("Should only compare child_ events.");let r=new q(e.childName,e.snapshotNode),i=new q(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function v0(t,e){return{eventCache:t,serverCache:e}}function wa(t,e,n,r){return v0(new Da(e,n,r),t.serverCache)}function y0(t,e,n,r){return v0(t.eventCache,new Da(e,n,r))}function Og(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function si(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var rg,Qj=()=>(rg||(rg=new wt(QV)),rg),Ke=class t{constructor(e,n=Qj()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return Ct(e,(r,i)=>{n=n.set(new oe(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:te(),value:this.value};if(z(e))return null;{let r=W(e),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue(ae(e),n);return o!=null?{path:Te(new oe(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(z(e))return this;{let n=W(e),r=this.children.get(n);return r!==null?r.subtree(ae(e)):new t(null)}}set(e,n){if(z(e))return new t(n,this.children);{let r=W(e),o=(this.children.get(r)||new t(null)).set(ae(e),n),s=this.children.insert(r,o);return new t(this.value,s)}}remove(e){if(z(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=W(e),r=this.children.get(n);if(r){let i=r.remove(ae(e)),o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new t(null):new t(this.value,o)}else return this}}get(e){if(z(e))return this.value;{let n=W(e),r=this.children.get(n);return r?r.get(ae(e)):null}}setTree(e,n){if(z(e))return n;{let r=W(e),o=(this.children.get(r)||new t(null)).setTree(ae(e),n),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new t(this.value,s)}}fold(e){return this.fold_(te(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Te(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,te(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(z(e))return null;{let o=W(e),s=this.children.get(o);return s?s.findOnPath_(ae(e),Te(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,te(),n)}foreachOnPath_(e,n,r){if(z(e))return this;{this.value&&r(n,this.value);let i=W(e),o=this.children.get(i);return o?o.foreachOnPath_(ae(e),Te(n,i),r):new t(null)}}foreach(e){this.foreach_(te(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Te(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var Ut=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new Ke(null))}};function Ca(t,e,n){if(z(e))return new Ut(new Ke(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,o=r.value,s=It(i,e);return o=o.updateChild(s,n),new Ut(t.writeTree_.set(i,o))}else{let i=new Ke(n),o=t.writeTree_.setTree(e,i);return new Ut(o)}}}function bb(t,e,n){let r=t;return Ct(n,(i,o)=>{r=Ca(r,Te(e,i),o)}),r}function Tb(t,e){if(z(e))return Ut.empty();{let n=t.writeTree_.setTree(e,new Ke(null));return new Ut(n)}}function Pg(t,e){return ci(t,e)!=null}function ci(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(It(n.path,e)):null}function Sb(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Le,(r,i)=>{e.push(new q(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new q(r,i.value))}),e}function hr(t,e){if(z(e))return t;{let n=ci(t,e);return n!=null?new Ut(new Ke(n)):new Ut(t.writeTree_.subtree(e))}}function Fg(t){return t.writeTree_.isEmpty()}function Po(t,e){return _0(te(),t.writeTree_,e)}function _0(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(I(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=_0(Te(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Te(t,".priority"),r)),n}}function E0(t,e){return b0(e,t)}function Jj(t,e,n,r,i){I(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Ca(t.visibleWrites,e,n)),t.lastWriteId=r}function Xj(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function eU(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);I(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){let a=t.allWrites[s];a.visible&&(s>=n&&tU(a,r.path)?i=!1:jt(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return nU(t),!0;if(r.snap)t.visibleWrites=Tb(t.visibleWrites,r.path);else{let a=r.children;Ct(a,c=>{t.visibleWrites=Tb(t.visibleWrites,Te(r.path,c))})}return!0}else return!1}function tU(t,e){if(t.snap)return jt(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&jt(Te(t.path,n),e))return!0;return!1}function nU(t){t.visibleWrites=I0(t.allWrites,rU,te()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function rU(t){return t.visible}function I0(t,e,n){let r=Ut.empty();for(let i=0;i<t.length;++i){let o=t[i];if(e(o)){let s=o.path,a;if(o.snap)jt(n,s)?(a=It(n,s),r=Ca(r,a,o.snap)):jt(s,n)&&(a=It(s,n),r=Ca(r,te(),o.snap.getChild(a)));else if(o.children){if(jt(n,s))a=It(n,s),r=bb(r,a,o.children);else if(jt(s,n))if(a=It(s,n),z(a))r=bb(r,te(),o.children);else{let c=Yr(o.children,W(a));if(c){let l=c.getChild(ae(a));r=Ca(r,te(),l)}}}else throw qr("WriteRecord should have .snap or .children")}}return r}function w0(t,e,n,r,i){if(!r&&!i){let o=ci(t.visibleWrites,e);if(o!=null)return o;{let s=hr(t.visibleWrites,e);if(Fg(s))return n;if(n==null&&!Pg(s,te()))return null;{let a=n||he.EMPTY_NODE;return Po(s,a)}}}else{let o=hr(t.visibleWrites,e);if(!i&&Fg(o))return n;if(!i&&n==null&&!Pg(o,te()))return null;{let s=function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(jt(l.path,e)||jt(e,l.path))},a=I0(t.allWrites,s,e),c=n||he.EMPTY_NODE;return Po(a,c)}}}function iU(t,e,n){let r=he.EMPTY_NODE,i=ci(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Le,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){let o=hr(t.visibleWrites,e);return n.forEachChild(Le,(s,a)=>{let c=Po(hr(o,new oe(s)),a);r=r.updateImmediateChild(s,c)}),Sb(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=hr(t.visibleWrites,e);return Sb(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function oU(t,e,n,r,i){I(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=Te(e,n);if(Pg(t.visibleWrites,o))return null;{let s=hr(t.visibleWrites,o);return Fg(s)?i.getChild(n):Po(s,i.getChild(n))}}function sU(t,e,n,r){let i=Te(e,n),o=ci(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){let s=hr(t.visibleWrites,i);return Po(s,r.getNode().getImmediateChild(n))}else return null}function aU(t,e){return ci(t.visibleWrites,e)}function cU(t,e,n,r,i,o,s){let a,c=hr(t.visibleWrites,e),l=ci(c,te());if(l!=null)a=l;else if(n!=null)a=Po(c,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),h=f.getNext();for(;h&&u.length<i;)d(h,r)!==0&&u.push(h),h=f.getNext();return u}else return[]}function lU(){return{visibleWrites:Ut.empty(),allWrites:[],lastWriteId:-1}}function Lg(t,e,n,r){return w0(t.writeTree,t.treePath,e,n,r)}function C0(t,e){return iU(t.writeTree,t.treePath,e)}function Ab(t,e,n,r){return oU(t.writeTree,t.treePath,e,n,r)}function Yu(t,e){return aU(t.writeTree,Te(t.treePath,e))}function uU(t,e,n,r,i,o){return cU(t.writeTree,t.treePath,e,n,r,i,o)}function tv(t,e,n){return sU(t.writeTree,t.treePath,e,n)}function D0(t,e){return b0(Te(t.treePath,e),t.writeTree)}function b0(t,e){return{treePath:t,writeTree:e}}var Vg=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;I(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),I(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,Ib(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,Hj(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,$j(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,Ib(r,e.snapshotNode,i.oldSnap));else throw qr("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var jg=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},T0=new jg,ba=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new Da(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return tv(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:si(this.viewCache_),o=uU(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}};function dU(t,e){I(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),I(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function fU(t,e,n,r,i){let o=new Vg,s,a;if(n.type===Nn.OVERWRITE){let l=n;l.source.fromUser?s=Ug(t,e,l.path,l.snap,r,i,o):(I(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!z(l.path),s=Ku(t,e,l.path,l.snap,r,i,a,o))}else if(n.type===Nn.MERGE){let l=n;l.source.fromUser?s=pU(t,e,l.path,l.children,r,i,o):(I(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),s=Bg(t,e,l.path,l.children,r,i,a,o))}else if(n.type===Nn.ACK_USER_WRITE){let l=n;l.revert?s=vU(t,e,l.path,r,i,o):s=mU(t,e,l.path,l.affectedTree,r,i,o)}else if(n.type===Nn.LISTEN_COMPLETE)s=gU(t,e,n.path,r,o);else throw qr("Unknown operation type: "+n.type);let c=o.getChanges();return hU(e,s,c),{viewCache:s,changes:c}}function hU(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Og(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(Bj(Og(e)))}}function S0(t,e,n,r,i,o){let s=e.eventCache;if(Yu(r,n)!=null)return e;{let a,c;if(z(n))if(I(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let l=si(e),u=l instanceof he?l:he.EMPTY_NODE,d=C0(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{let l=Lg(r,si(e));a=t.filter.updateFullNode(e.eventCache.getNode(),l,o)}else{let l=W(n);if(l===".priority"){I(pr(n)===1,"Can't have a priority with additional path components");let u=s.getNode();c=e.serverCache.getNode();let d=Ab(r,n,u,c);d!=null?a=t.filter.updatePriority(u,d):a=s.getNode()}else{let u=ae(n),d;if(s.isCompleteForChild(l)){c=e.serverCache.getNode();let f=Ab(r,n,s.getNode(),c);f!=null?d=s.getNode().getImmediateChild(l).updateChild(u,f):d=s.getNode().getImmediateChild(l)}else d=tv(r,l,e.serverCache);d!=null?a=t.filter.updateChild(s.getNode(),l,d,u,i,o):a=s.getNode()}}return wa(e,a,s.isFullyInitialized()||z(n),t.filter.filtersNodes())}}function Ku(t,e,n,r,i,o,s,a){let c=e.serverCache,l,u=s?t.filter:t.filter.getIndexedFilter();if(z(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){let h=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),h,null)}else{let h=W(n);if(!c.isCompleteForPath(n)&&pr(n)>1)return e;let m=ae(n),N=c.getNode().getImmediateChild(h).updateChild(m,r);h===".priority"?l=u.updatePriority(c.getNode(),N):l=u.updateChild(c.getNode(),h,N,m,T0,null)}let d=y0(e,l,c.isFullyInitialized()||z(n),u.filtersNodes()),f=new ba(i,d,o);return S0(t,d,n,i,f,a)}function Ug(t,e,n,r,i,o,s){let a=e.eventCache,c,l,u=new ba(i,e,o);if(z(n))l=t.filter.updateFullNode(e.eventCache.getNode(),r,s),c=wa(e,l,!0,t.filter.filtersNodes());else{let d=W(n);if(d===".priority")l=t.filter.updatePriority(e.eventCache.getNode(),r),c=wa(e,l,a.isFullyInitialized(),a.isFiltered());else{let f=ae(n),h=a.getNode().getImmediateChild(d),m;if(z(f))m=r;else{let b=u.getCompleteChild(d);b!=null?i0(f)===".priority"&&b.getChild(s0(f)).isEmpty()?m=b:m=b.updateChild(f,r):m=he.EMPTY_NODE}if(h.equals(m))c=e;else{let b=t.filter.updateChild(a.getNode(),d,m,f,u,s);c=wa(e,b,a.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function Nb(t,e){return t.eventCache.isCompleteForChild(e)}function pU(t,e,n,r,i,o,s){let a=e;return r.foreach((c,l)=>{let u=Te(n,c);Nb(e,W(u))&&(a=Ug(t,a,u,l,i,o,s))}),r.foreach((c,l)=>{let u=Te(n,c);Nb(e,W(u))||(a=Ug(t,a,u,l,i,o,s))}),a}function Mb(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Bg(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,l;z(n)?l=r:l=new Ke(null).setTree(n,r);let u=e.serverCache.getNode();return l.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){let h=e.serverCache.getNode().getImmediateChild(d),m=Mb(t,h,f);c=Ku(t,c,new oe(d),m,i,o,s,a)}}),l.children.inorderTraversal((d,f)=>{let h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){let m=e.serverCache.getNode().getImmediateChild(d),b=Mb(t,m,f);c=Ku(t,c,new oe(d),b,i,o,s,a)}}),c}function mU(t,e,n,r,i,o,s){if(Yu(i,n)!=null)return e;let a=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(z(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Ku(t,e,n,c.getNode().getChild(n),i,o,a,s);if(z(n)){let l=new Ke(null);return c.getNode().forEachChild(No,(u,d)=>{l=l.set(new oe(u),d)}),Bg(t,e,n,l,i,o,a,s)}else return e}else{let l=new Ke(null);return r.foreach((u,d)=>{let f=Te(n,u);c.isCompleteForPath(f)&&(l=l.set(u,c.getNode().getChild(f)))}),Bg(t,e,n,l,i,o,a,s)}}function gU(t,e,n,r,i){let o=e.serverCache,s=y0(e,o.getNode(),o.isFullyInitialized()||z(n),o.isFiltered());return S0(t,s,n,r,T0,i)}function vU(t,e,n,r,i,o){let s;if(Yu(r,n)!=null)return e;{let a=new ba(r,e,i),c=e.eventCache.getNode(),l;if(z(n)||W(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Lg(r,si(e));else{let d=e.serverCache.getNode();I(d instanceof he,"serverChildren would be complete if leaf node"),u=C0(r,d)}u=u,l=t.filter.updateFullNode(c,u,o)}else{let u=W(n),d=tv(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),d!=null?l=t.filter.updateChild(c,u,d,ae(n),a,o):e.eventCache.getNode().hasChild(u)?l=t.filter.updateChild(c,u,he.EMPTY_NODE,ae(n),a,o):l=c,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Lg(r,si(e)),s.isLeafNode()&&(l=t.filter.updateFullNode(l,s,o)))}return s=e.serverCache.isFullyInitialized()||Yu(r,te())!=null,wa(e,l,s,t.filter.filtersNodes())}}function yU(t,e){let n=si(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!z(e)&&!n.getImmediateChild(W(e)).isEmpty())?n.getChild(e):null}function Rb(t,e,n,r){e.type===Nn.MERGE&&e.source.queryId!==null&&(I(si(t.viewCache_),"We should always have a full cache before handling merges"),I(Og(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,o=fU(t.processor_,i,e,n,r);return dU(t.processor_,o.viewCache),I(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,_U(t,o.changes,o.viewCache.eventCache.getNode(),null)}function _U(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return Yj(t.eventGenerator_,e,n,i)}var xb;function EU(t){I(!xb,"__referenceConstructor has already been defined"),xb=t}function nv(t,e,n,r){let i=e.source.queryId;if(i!==null){let o=t.views.get(i);return I(o!=null,"SyncTree gave us an op for an invalid query."),Rb(o,e,n,r)}else{let o=[];for(let s of t.views.values())o=o.concat(Rb(s,e,n,r));return o}}function rv(t,e){let n=null;for(let r of t.views.values())n=n||yU(r,e);return n}var kb;function IU(t){I(!kb,"__referenceConstructor has already been defined"),kb=t}var Zu=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ke(null),this.pendingWriteTree_=lU(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function A0(t,e,n,r,i){return Jj(t.pendingWriteTree_,e,n,r,i),i?Ju(t,new Oo(p0(),e,n)):[]}function ri(t,e,n=!1){let r=Xj(t.pendingWriteTree_,e);if(eU(t.pendingWriteTree_,e)){let o=new Ke(null);return r.snap!=null?o=o.set(te(),!0):Ct(r.children,s=>{o=o.set(new oe(s),!0)}),Ju(t,new kg(r.path,o,n))}else return[]}function Qu(t,e,n){return Ju(t,new Oo(m0(),e,n))}function wU(t,e,n){let r=Ke.fromObject(n);return Ju(t,new qu(m0(),e,r))}function CU(t,e,n,r){let i=R0(t,r);if(i!=null){let o=x0(i),s=o.path,a=o.queryId,c=It(s,e),l=new Oo(g0(a),c,n);return k0(t,s,l)}else return[]}function DU(t,e,n,r){let i=R0(t,r);if(i){let o=x0(i),s=o.path,a=o.queryId,c=It(s,e),l=Ke.fromObject(n),u=new qu(g0(a),c,l);return k0(t,s,u)}else return[]}function iv(t,e,n){let i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{let c=It(s,e),l=rv(a,c);if(l)return l});return w0(i,e,o,n,!0)}function Ju(t,e){return N0(e,t.syncPointTree_,null,E0(t.pendingWriteTree_,te()))}function N0(t,e,n,r){if(z(t.path))return M0(t,e,n,r);{let i=e.get(te());n==null&&i!=null&&(n=rv(i,te()));let o=[],s=W(t.path),a=t.operationForChild(s),c=e.children.get(s);if(c&&a){let l=n?n.getImmediateChild(s):null,u=D0(r,s);o=o.concat(N0(a,c,l,u))}return i&&(o=o.concat(nv(i,t,r,n))),o}}function M0(t,e,n,r){let i=e.get(te());n==null&&i!=null&&(n=rv(i,te()));let o=[];return e.children.inorderTraversal((s,a)=>{let c=n?n.getImmediateChild(s):null,l=D0(r,s),u=t.operationForChild(s);u&&(o=o.concat(M0(u,a,c,l)))}),i&&(o=o.concat(nv(i,t,r,n))),o}function R0(t,e){return t.tagToQueryMap.get(e)}function x0(t){let e=t.indexOf("$");return I(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new oe(t.substr(0,e))}}function k0(t,e,n){let r=t.syncPointTree_.get(e);I(r,"Missing sync point for query tag that we're tracking");let i=E0(t.pendingWriteTree_,e);return nv(r,n,i,null)}var $g=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},Hg=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=Te(this.path_,e);return new t(this.syncTree_,n)}node(){return iv(this.syncTree_,this.path_)}},bU=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Ob=function(t,e,n){if(!t||typeof t!="object")return t;if(I(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return TU(t[".sv"],e,n);if(typeof t[".sv"]=="object")return SU(t[".sv"],e);I(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},TU=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:I(!1,"Unexpected server value: "+t)}},SU=function(t,e,n){t.hasOwnProperty("increment")||I(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&I(!1,"Unexpected increment value: "+r);let i=e.node();if(I(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},AU=function(t,e,n,r){return ov(e,new Hg(n,t),r)},O0=function(t,e,n){return ov(t,new $g(e),n)};function ov(t,e,n){let r=t.getPriority().val(),i=Ob(r,e.getImmediateChild(".priority"),n),o;if(t.isLeafNode()){let s=t,a=Ob(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new xo(a,xe(i)):t}else{let s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new xo(i))),s.forEachChild(Le,(a,c)=>{let l=ov(c,e.getImmediateChild(a),n);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}var Ta=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function sv(t,e){let n=e instanceof oe?e:new oe(e),r=t,i=W(n);for(;i!==null;){let o=Yr(r.node.children,i)||{children:{},childCount:0};r=new Ta(i,r,o),n=ae(n),i=W(n)}return r}function Vo(t){return t.node.value}function P0(t,e){t.node.value=e,Wg(t)}function F0(t){return t.node.childCount>0}function NU(t){return Vo(t)===void 0&&!F0(t)}function Xu(t,e){Ct(t.node.children,(n,r)=>{e(new Ta(n,t,r))})}function L0(t,e,n,r){n&&!r&&e(t),Xu(t,i=>{L0(i,e,!0,r)}),n&&r&&e(t)}function MU(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Ma(t){return new oe(t.parent===null?t.name:Ma(t.parent)+"/"+t.name)}function Wg(t){t.parent!==null&&RU(t.parent,t.name,t)}function RU(t,e,n){let r=NU(n),i=tn(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Wg(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Wg(t))}var xU=/[\[\].#$\/\u0000-\u001F\u007F]/,kU=/[\[\].#$\u0000-\u001F\u007F]/,ig=10*1024*1024,V0=function(t){return typeof t=="string"&&t.length!==0&&!xU.test(t)},j0=function(t){return typeof t=="string"&&t.length!==0&&!kU.test(t)},OU=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),j0(t)};var PU=function(t,e,n,r){r&&e===void 0||av(lu(t,"value"),e,n)},av=function(t,e,n){let r=n instanceof oe?new yg(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ti(r));if(typeof e=="function")throw new Error(t+"contains a function "+ti(r)+" with contents = "+e.toString());if(Ub(e))throw new Error(t+"contains "+e.toString()+" "+ti(r));if(typeof e=="string"&&e.length>ig/3&&Js(e)>ig)throw new Error(t+"contains a string greater than "+ig+" utf8 bytes "+ti(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(Ct(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!V0(s)))throw new Error(t+" contains an invalid key ("+s+") "+ti(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Aj(r,s),av(t,a,r),Nj(r)}),i&&o)throw new Error(t+' contains ".value" child '+ti(r)+" in addition to actual children.")}};var U0=function(t,e,n,r){if(!(r&&n===void 0)&&!j0(n))throw new Error(lu(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},FU=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),U0(t,e,n,r)},LU=function(t,e){if(W(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},VU=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!V0(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!OU(n))throw new Error(lu(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var zg=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function B0(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],o=i.getPath();n!==null&&!a0(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function Rn(t,e,n){B0(t,n),jU(t,r=>jt(r,e)||jt(e,r))}function jU(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let o=i.path;e(o)?(UU(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function UU(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();ii&&Fe("event: "+n.toString()),Lo(r)}}}var BU="repo_interrupt",$U=25,Gg=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new zg,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Gu(),this.transactionQueueTree_=new Ta,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function HU(t,e,n){if(t.stats_=Jg(t.repoInfo_),t.forceRestClient_||rj())t.server_=new Ag(t.repoInfo_,(r,i,o,s)=>{Pb(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Fb(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ae(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Xg(t.repoInfo_,e,(r,i,o,s)=>{Pb(t,r,i,o,s)},r=>{Fb(t,r)},r=>{zU(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=oj(t.repoInfo_,()=>new xg(t.stats_,t.server_)),t.infoData_=new Ng,t.infoSyncTree_=new Zu({startListening:(r,i,o,s)=>{let a=[],c=t.infoData_.getNode(r._path);return c.isEmpty()||(a=Qu(t.infoSyncTree_,r._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),lv(t,"connected",!1),t.serverSyncTree_=new Zu({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,c)=>{let l=s(a,c);Rn(t.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function WU(t){let n=t.infoData_.getNode(new oe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function cv(t){return bU({timestamp:WU(t)})}function Pb(t,e,n,r,i){t.dataUpdateCount++;let o=new oe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){let c=Qs(n,l=>xe(l));s=DU(t.serverSyncTree_,o,c,i)}else{let c=xe(n);s=CU(t.serverSyncTree_,o,c,i)}else if(r){let c=Qs(n,l=>xe(l));s=wU(t.serverSyncTree_,o,c)}else{let c=xe(n);s=Qu(t.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=ed(t,o)),Rn(t.eventQueue_,a,s)}function Fb(t,e){lv(t,"connected",e),e===!1&&qU(t)}function zU(t,e){Ct(e,(n,r)=>{lv(t,n,r)})}function lv(t,e,n){let r=new oe("/.info/"+e),i=xe(n);t.infoData_.updateSnapshot(r,i);let o=Qu(t.infoSyncTree_,r,i);Rn(t.eventQueue_,r,o)}function $0(t){return t.nextWriteId_++}function GU(t,e,n,r,i){uv(t,"set",{path:e.toString(),value:n,priority:r});let o=cv(t),s=xe(n,r),a=iv(t.serverSyncTree_,e),c=O0(s,a,o),l=$0(t),u=A0(t.serverSyncTree_,e,c,l,!0);B0(t.eventQueue_,u),t.server_.put(e.toString(),s.val(!0),(f,h)=>{let m=f==="ok";m||Ye("set at "+e+" failed: "+f);let b=ri(t.serverSyncTree_,l,!m);Rn(t.eventQueue_,e,b),KU(t,i,f,h)});let d=q0(t,e);ed(t,d),Rn(t.eventQueue_,d,[])}function qU(t){uv(t,"onDisconnectEvents");let e=cv(t),n=Gu();Mg(t.onDisconnect_,te(),(i,o)=>{let s=AU(i,o,t.serverSyncTree_,e);h0(n,i,s)});let r=[];Mg(n,te(),(i,o)=>{r=r.concat(Qu(t.serverSyncTree_,i,o));let s=q0(t,i);ed(t,s)}),t.onDisconnect_=Gu(),Rn(t.eventQueue_,te(),r)}function YU(t){t.persistentConnection_&&t.persistentConnection_.interrupt(BU)}function uv(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Fe(n,...e)}function KU(t,e,n,r){e&&Lo(()=>{if(n==="ok")e(null);else{let i=(n||"error").toUpperCase(),o=i;r&&(o+=": "+r);let s=new Error(o);s.code=i,e(s)}})}function H0(t,e,n){return iv(t.serverSyncTree_,e,n)||he.EMPTY_NODE}function dv(t,e=t.transactionQueueTree_){if(e||td(t,e),Vo(e)){let n=z0(t,e);I(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&ZU(t,Ma(e),n)}else F0(e)&&Xu(e,n=>{dv(t,n)})}function ZU(t,e,n){let r=n.map(l=>l.currentWriteId),i=H0(t,e,r),o=i,s=i.hash();for(let l=0;l<n.length;l++){let u=n[l];I(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=It(e,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),c=e;t.server_.put(c.toString(),a,l=>{uv(t,"transaction put response",{path:c.toString(),status:l});let u=[];if(l==="ok"){let d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(ri(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();td(t,sv(t.transactionQueueTree_,e)),dv(t,t.transactionQueueTree_),Rn(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)Lo(d[f])}else{if(l==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Ye("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=l}ed(t,e)}},s)}function ed(t,e){let n=W0(t,e),r=Ma(n),i=z0(t,n);return QU(t,i,r),r}function QU(t,e,n){if(e.length===0)return;let r=[],i=[],s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let c=e[a],l=It(n,c.path),u=!1,d;if(I(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,d=c.abortReason,i=i.concat(ri(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=$U)u=!0,d="maxretry",i=i.concat(ri(t.serverSyncTree_,c.currentWriteId,!0));else{let f=H0(t,c.path,s);c.currentInputSnapshot=f;let h=e[a].update(f.val());if(h!==void 0){av("transaction failed: Data returned ",h,c.path);let m=xe(h);typeof h=="object"&&h!=null&&tn(h,".priority")||(m=m.updatePriority(f.getPriority()));let N=c.currentWriteId,L=cv(t),ce=O0(m,f,L);c.currentOutputSnapshotRaw=m,c.currentOutputSnapshotResolved=ce,c.currentWriteId=$0(t),s.splice(s.indexOf(N),1),i=i.concat(A0(t.serverSyncTree_,c.path,ce,c.currentWriteId,c.applyLocally)),i=i.concat(ri(t.serverSyncTree_,N,!0))}else u=!0,d="nodata",i=i.concat(ri(t.serverSyncTree_,c.currentWriteId,!0))}Rn(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}td(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Lo(r[a]);dv(t,t.transactionQueueTree_)}function W0(t,e){let n,r=t.transactionQueueTree_;for(n=W(e);n!==null&&Vo(r)===void 0;)r=sv(r,n),e=ae(e),n=W(e);return r}function z0(t,e){let n=[];return G0(t,e,n),n.sort((r,i)=>r.order-i.order),n}function G0(t,e,n){let r=Vo(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Xu(e,i=>{G0(t,i,n)})}function td(t,e){let n=Vo(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,P0(e,n.length>0?n:void 0)}Xu(e,r=>{td(t,r)})}function q0(t,e){let n=Ma(W0(t,e)),r=sv(t.transactionQueueTree_,e);return MU(r,i=>{og(t,i)}),og(t,r),L0(r,i=>{og(t,i)}),n}function og(t,e){let n=Vo(e);if(n){let r=[],i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(I(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(I(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(ri(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?P0(e,void 0):n.length=o+1,Rn(t.eventQueue_,Ma(e),i);for(let s=0;s<r.length;s++)Lo(r[s])}}function JU(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function XU(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ye(`Invalid query segment '${n}' in query '${t}'`)}return e}var Lb=function(t,e){let n=e2(t),r=n.namespace;n.domain==="firebase.com"&&Mn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Mn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||KV();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new ju(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new oe(n.pathString)}},e2=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",c=443;if(typeof t=="string"){let l=t.indexOf("//");l>=0&&(a=t.substring(0,l-1),t=t.substring(l+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=JU(t.substring(u,d)));let f=XU(t.substring(Math.min(t.length,d)));l=e.indexOf(":"),l>=0?(s=a==="https"||a==="wss",c=parseInt(e.substring(l+1),10)):l=e.length;let h=e.slice(0,l);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{let m=e.indexOf(".");r=e.substring(0,m).toLowerCase(),n=e.substring(m+1),o=r}"ns"in f&&(o=f.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var qg=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return z(this._path)?null:i0(this._path)}get ref(){return new ai(this._repo,this._path)}get _queryIdentifier(){let e=Cb(this._queryParams),n=Qg(e);return n==="{}"?"default":n}get _queryObject(){return Cb(this._queryParams)}isEqual(e){if(e=Ge(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=a0(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Sj(this._path)}};var ai=class t extends qg{constructor(e,n){super(e,n,new Sg,!1)}get parent(){let e=s0(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}};function Y0(t,e){return t=Ge(t),t._checkNotDeleted("ref"),e!==void 0?K0(t._root,e):t._root}function K0(t,e){return t=Ge(t),W(t._path)===null?FU("child","path",e,!1):U0("child","path",e,!1),new ai(t._repo,Te(t._path,e))}function Z0(t,e){t=Ge(t),LU("set",t._path),PU("set",e,t._path,!1);let n=new rr;return GU(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}EU(ai);IU(ai);var t2="FIREBASE_DATABASE_EMULATOR_HOST",Yg={},n2=!1;function r2(t,e,n,r){t.repoInfo_=new ju(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function i2(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||Mn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Fe("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=Lb(o,i),a=s.repoInfo,c,l;typeof process<"u"&&process.env&&(l=process.env[t2]),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=Lb(o,i),a=s.repoInfo):c=!s.repoInfo.secure;let u=i&&c?new Ia(Ia.OWNER):new dg(t.name,t.options,e);VU("Invalid Firebase Database URL",s),z(s.path)||Mn("Database URL must point to the root of a Firebase Database (not including a child path).");let d=s2(a,t,u,new ug(t.name,n));return new Kg(d,t)}function o2(t,e){let n=Yg[e];(!n||n[t.key]!==t)&&Mn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),YU(t),delete n[t.key]}function s2(t,e,n,r){let i=Yg[e.name];i||(i={},Yg[e.name]=i);let o=i[t.toURLString()];return o&&Mn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Gg(t,n2,n,r),i[t.toURLString()]=o,o}var Kg=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(HU(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ai(this._repo,te())),this._rootInternal}_delete(){return this._rootInternal!==null&&(o2(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Mn("Cannot call "+e+" on a deleted database.")}};function Q0(t=yo(),e){let n=na(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=bC("database");r&&J0(n,...r)}return n}function J0(t,e,n,r={}){t=Ge(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Mn("Cannot call useEmulator() after instance has already been initialized.");let i=t._repoInternal,o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Mn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Ia(Ia.OWNER);else if(r.mockUserToken){let s=typeof r.mockUserToken=="string"?r.mockUserToken:TC(r.mockUserToken,t.app.options.projectId);o=new Ia(s)}r2(i,e,n,o)}function a2(t){GV(cr),ar(new yt("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return i2(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),we(ob,sb,t),we(ob,sb,"esm2017")}Xg.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Xg.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};a2();var xn=class{constructor(e){return e}},X0="database",fv=class{constructor(){return ra(X0)}};var hv=new T("angularfire2.database-instances");function c2(t,e){let n=pu(X0,t,e);return n&&new xn(n)}function l2(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new xn(r)}}var u2={provide:fv,deps:[[new Be,hv]]},d2={provide:xn,useFactory:c2,deps:[[new Be,hv],Cn]};function eT(t,...e){return we("angularfire",Qr.full,"rtdb"),nt([d2,u2,{provide:hv,useFactory:l2(t),multi:!0,deps:[J,Oe,Io,Jr,[new Be,ha],[new Be,Eo],...e]}])}var tT=ct(Q0,!0);var nd=ct(Y0,!0);var nT=ct(Z0,!0);var rd=class t{constructor(e){this.database=e}savePerson(e){return p(this,null,function*(){try{let n=nd(this.database,`persons/${e.uid}`);yield nT(n,e),console.log("Persona guardada exitosamente en la Realtime Database")}catch(n){throw console.error("Error al guardar persona en Firebase:",n),n}})}static \u0275fac=function(n){return new(n||t)(R(xn))};static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})};var id=t=>({"is-invalid":t});function h2(t,e){t&1&&(v(0,"small"),E(1,"El nombre es obligatorio."),g())}function p2(t,e){if(t&1&&(v(0,"div",18),K(1,h2,2,0,"small",19),g()),t&2){let n,r=ie();w(),C("ngIf",(n=r.siginForm.get("name"))==null||n.errors==null?null:n.errors.required)}}function m2(t,e){t&1&&(v(0,"small"),E(1,"El apellido es obligatorio."),g())}function g2(t,e){if(t&1&&(v(0,"div",18),K(1,m2,2,0,"small",19),g()),t&2){let n,r=ie();w(),C("ngIf",(n=r.siginForm.get("surname"))==null||n.errors==null?null:n.errors.required)}}function v2(t,e){t&1&&(v(0,"small"),E(1,"El correo es obligatorio."),g())}function y2(t,e){t&1&&(v(0,"small"),E(1,"El formato del correo no es v\xE1lido."),g())}function _2(t,e){if(t&1&&(v(0,"div",18),K(1,v2,2,0,"small",19)(2,y2,2,0,"small",19),g()),t&2){let n,r,i=ie();w(),C("ngIf",(n=i.siginForm.get("email"))==null||n.errors==null?null:n.errors.required),w(),C("ngIf",(r=i.siginForm.get("email"))==null||r.errors==null?null:r.errors.email)}}function E2(t,e){t&1&&(v(0,"small"),E(1,"La contrase\xF1a es obligatoria."),g())}function I2(t,e){t&1&&(v(0,"small"),E(1," La contrase\xF1a debe tener al menos 6 caracteres. "),g())}function w2(t,e){if(t&1&&(v(0,"div",18),K(1,E2,2,0,"small",19)(2,I2,2,0,"small",19),g()),t&2){let n,r,i=ie();w(),C("ngIf",(n=i.siginForm.get("password"))==null||n.errors==null?null:n.errors.required),w(),C("ngIf",(r=i.siginForm.get("password"))==null||r.errors==null?null:r.errors.minlength)}}var Ra=class t{constructor(e,n,r,i){this.fb=e;this.auth=n;this.personService=r;this.router=i;this.siginForm=this.fb.group({email:["",[ye.required,ye.email]],password:["",[ye.required,ye.minLength(6)]],name:["",[ye.required]],surname:["",[ye.required]],admin:[!1]})}siginForm;register(){return p(this,null,function*(){if(this.siginForm.valid){let{email:e,password:n,name:r,surname:i,admin:o}=this.siginForm.value;try{let c={uid:(yield this.auth.register({email:e,password:n})).user.uid,name:r,surname:i,email:e,role:o?"admin":"user",createdAt:new Date().toISOString()};yield this.personService.savePerson(c),console.log("Usuario registrado y guardado:",c),this.router.navigate(["/login"])}catch(s){console.error("Error al registrar usuario:",s)}}else console.error("Formulario inv\xE1lido")})}onSubmit(){this.register()}static \u0275fac=function(n){return new(n||t)(D(fo),D(on),D(rd),D(ze))};static \u0275cmp=ue({type:t,selectors:[["app-sigin"]],standalone:!0,features:[de],decls:32,vars:18,consts:[[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","name",1,"form-label"],["type","text","id","name","formControlName","name",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","surname",1,"form-label"],["type","text","id","surname","formControlName","surname",1,"form-control",3,"ngClass"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email",1,"form-control",3,"ngClass"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password",1,"form-control",3,"ngClass"],[1,"form-check","form-switch"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input"],["for","flexSwitchCheckDefault",1,"form-check-label"],[1,"mb-3","form-check"],["type","checkbox","id","exampleCheck1",1,"form-check-input"],["for","exampleCheck1",1,"form-check-label"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(n,r){if(n&1&&(X(0,"app-nav-bar"),v(1,"form",0),Z("ngSubmit",function(){return r.onSubmit()}),v(2,"div",1)(3,"label",2),E(4,"Name"),g(),X(5,"input",3),K(6,p2,2,1,"div",4),g(),v(7,"div",1)(8,"label",5),E(9,"Surname"),g(),X(10,"input",6),K(11,g2,2,1,"div",4),g(),v(12,"div",1)(13,"label",7),E(14,"Email address"),g(),X(15,"input",8),K(16,_2,3,2,"div",4),g(),v(17,"div",1)(18,"label",9),E(19,"Password"),g(),X(20,"input",10),K(21,w2,3,2,"div",4),g(),v(22,"div",11),X(23,"input",12),v(24,"label",13),E(25,"Es admin?"),g()(),v(26,"div",14),X(27,"input",15),v(28,"label",16),E(29,"Check me out"),g()(),v(30,"button",17),E(31,"Submit"),g()()),n&2){let i,o,s,a,c,l,u,d;w(),C("formGroup",r.siginForm),w(4),C("ngClass",Zn(10,id,((i=r.siginForm.get("name"))==null?null:i.invalid)&&((i=r.siginForm.get("name"))==null?null:i.touched))),w(),C("ngIf",((o=r.siginForm.get("name"))==null?null:o.invalid)&&((o=r.siginForm.get("name"))==null?null:o.touched)),w(4),C("ngClass",Zn(12,id,((s=r.siginForm.get("surname"))==null?null:s.invalid)&&((s=r.siginForm.get("surname"))==null?null:s.touched))),w(),C("ngIf",((a=r.siginForm.get("surname"))==null?null:a.invalid)&&((a=r.siginForm.get("surname"))==null?null:a.touched)),w(4),C("ngClass",Zn(14,id,((c=r.siginForm.get("email"))==null?null:c.invalid)&&((c=r.siginForm.get("email"))==null?null:c.touched))),w(),C("ngIf",((l=r.siginForm.get("email"))==null?null:l.invalid)&&((l=r.siginForm.get("email"))==null?null:l.touched)),w(4),C("ngClass",Zn(16,id,((u=r.siginForm.get("password"))==null?null:u.invalid)&&((u=r.siginForm.get("password"))==null?null:u.touched))),w(),C("ngIf",((d=r.siginForm.get("password"))==null?null:d.invalid)&&((d=r.siginForm.get("password"))==null?null:d.touched)),w(9),C("disabled",r.siginForm.invalid)}},dependencies:[Me,Qn,Jt,ho,uo,nr,co,lo,zr,Gr,sn]})};var lt=class{id;name;description;priority;status;creationDate;expirationDate;isDelete;constructor(e,n,r,i,o,s,a,c){this.id=e,this.name=n,this.description=r,this.priority=i,this.status=o,this.creationDate=s,this.expirationDate=a,this.isDelete=c}getStatusText(){let e="";switch(this.status){case"IP":e="En proceso";break;case"C":e="Realizada";break;case"P":e="Pendiente";break}return e}getPriorityText(){switch(this.priority){case"H":return"Alta";case"M":return"Media";case"L":return"Baja";default:return""}}raisePriority(){switch(this.priority){case"L":this.priority="M";break;case"M":this.priority="H";break}}lowerPriority(){switch(this.priority){case"M":this.priority="L";break;case"H":this.priority="M";break}}changeStatus(){switch(this.status){case"C":this.status="IP";break;case"IP":this.status="C";break;case"P":this.status="IP";break}}getPriorityColor(){switch(this.priority){case"H":return"yellow";case"M":return"red";case"L":return"black";default:return""}}};var li=class{action;taskId;constructor(e,n){this.action=e,this.taskId=n}};var D2=(t,e,n)=>({"bg-danger":t,"bg-success":e,"bg-warning":n});function b2(t,e){t&1&&(v(0,"span"),E(1,"(Completa)"),g())}function T2(t,e){t&1&&(v(0,"span"),E(1,"(En proceso)"),g())}function S2(t,e){t&1&&(v(0,"span"),E(1,"(Pendiente)"),g())}function A2(t,e){if(t&1){let n=gt();Pr(0),v(1,"i",16),Z("click",function(){$e(n);let i=ie(3);return He(i.lowerPriority(i.task.id))}),g(),Fr()}}function N2(t,e){if(t&1&&(v(0,"span"),K(1,A2,2,0,"ng-container",15),E(2," Alta"),g()),t&2){let n=ie(2);w(),C("ngIf",n.task.status!="C")}}function M2(t,e){if(t&1){let n=gt();Pr(0),v(1,"i",17),Z("click",function(){$e(n);let i=ie(3);return He(i.raiseifpriority(i.task.id))}),g(),v(2,"i",16),Z("click",function(){$e(n);let i=ie(3);return He(i.lowerPriority(i.task.id))}),g(),Fr()}}function R2(t,e){if(t&1&&(v(0,"span"),K(1,M2,3,0,"ng-container",15),E(2," Media"),g()),t&2){let n=ie(2);w(),C("ngIf",n.task.status!="C")}}function x2(t,e){if(t&1){let n=gt();Pr(0),v(1,"i",17),Z("click",function(){$e(n);let i=ie(3);return He(i.raiseifpriority(i.task.id))}),g(),Fr()}}function k2(t,e){if(t&1&&(v(0,"span"),K(1,x2,2,0,"ng-container",15),E(2," Baja"),g()),t&2){let n=ie(2);w(),C("ngIf",n.task.status!="C")}}function O2(t,e){if(t&1){let n=gt();v(0,"span")(1,"i",18),Z("click",function(){$e(n);let i=ie(2);return He(i.setStatus(i.task.id))}),g(),E(2,"Completada"),g()}}function P2(t,e){if(t&1){let n=gt();v(0,"span")(1,"i",19),Z("click",function(){$e(n);let i=ie(2);return He(i.setStatus(i.task.id))}),g(),E(2,"En proceso"),g()}}function F2(t,e){if(t&1){let n=gt();v(0,"span")(1,"i",20),Z("click",function(){$e(n);let i=ie(2);return He(i.setStatus(i.task.id))}),g(),E(2,"Pendiente"),g()}}function L2(t,e){if(t&1){let n=gt();v(0,"div",1)(1,"div",2)(2,"h5",3),E(3),K(4,b2,2,0,"span",4)(5,T2,2,0,"span",4)(6,S2,2,0,"span",4),g(),v(7,"div",5)(8,"div",6)(9,"h2",7)(10,"button",8),E(11),g()(),v(12,"div",9)(13,"div",10)(14,"p",11),E(15,"Prioridad: "),K(16,N2,3,1,"span",4)(17,R2,3,1,"span",4)(18,k2,3,1,"span",4),g(),v(19,"p",11),E(20," Estado: "),K(21,O2,3,0,"span",4)(22,P2,3,0,"span",4)(23,F2,3,0,"span",4),g(),v(24,"p",12),E(25),g(),v(26,"p",12),E(27,"Acciones:"),v(28,"i",13),Z("click",function(){$e(n);let i=ie();return He(i.onEditTask())}),g(),v(29,"i",14),Z("click",function(){$e(n);let i=ie();return He(i.deleteTask(i.task.id))}),g()()()()()()()()}if(t&2){let n=ie();C("ngClass",mI(21,D2,n.task.priority=="H",n.task.priority=="L",n.task.priority=="M")),w(2),C("ngSwitch",n.task.status),w(),gs(" ",n.task.name," "),w(),C("ngSwitchCase","C"),w(),C("ngSwitchCase","IP"),w(),C("ngSwitchCase","P"),w(),C("id","accordionExample"+n.task.id),w(3),Or("data-bs-target","#collapseOne"+n.task.id)("aria-controls","collapseOne"+n.task.id),w(),gs(" Descripci\xF3n: ",n.task.description," "),w(),C("id","collapseOne"+n.task.id),Or("data-bs-parent","#accordionExample"+n.task.id),w(2),C("ngSwitch",n.task.priority),w(2),C("ngSwitchCase","H"),w(),C("ngSwitchCase","M"),w(),C("ngSwitchCase","L"),w(),C("ngSwitch",n.task.status),w(2),C("ngSwitchCase","C"),w(),C("ngSwitchCase","IP"),w(),C("ngSwitchCase","P"),w(2),gs("Fecha de expiraci\xF3n: ",n.task.expirationDate,"")}}var od=class t{task=new lt(1,"Tarea 1","Descripci\xF3n Tarea 1","L","P",new Date("11/1/2024"),new Date("11/18/2024"),!1);eventTaskModify=new se;editTask=new se;setStatus(e){this.eventTaskModify.emit(new li("setStatus",this.task.id))}deleteTask(e){this.eventTaskModify.emit(new li("deleteTask",this.task.id))}lowerPriority(e){this.eventTaskModify.emit(new li("lowerPriority",this.task.id))}raiseifpriority(e){this.eventTaskModify.emit(new li("raiseifpriority",this.task.id))}onEditTask(){this.editTask.emit(this.task)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ue({type:t,selectors:[["app-resume"]],inputs:{task:"task"},outputs:{eventTaskModify:"eventTaskModify",editTask:"editTask"},standalone:!0,features:[de],decls:1,vars:1,consts:[["class","card mb-3",3,"ngClass",4,"ngIf"],[1,"card","mb-3",3,"ngClass"],[1,"card-body"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"accordion",3,"id"],[1,"accordion-item"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse","aria-expanded","false",1,"accordion-button","collapsed"],[1,"accordion-collapse","collapse",3,"id"],[1,"accordion-body"],[1,"card-text",3,"ngSwitch"],[1,"card-text"],[1,"bi","bi-pencil-square",3,"click"],[1,"bi","bi-trash",3,"click"],[4,"ngIf"],[1,"bi","bi-arrow-down-circle-fill",3,"click"],[1,"bi","bi-arrow-up-circle-fill",3,"click"],[1,"bi","bi-arrow-return-right",3,"click"],[1,"bi","bi-check-lg",3,"click"],[1,"bi","bi-play-fill",3,"click"]],template:function(n,r){n&1&&K(0,L2,30,25,"div",0),n&2&&C("ngIf",!r.task.isDelete)},dependencies:[Me,Qn,Jt,Lh,LI]})};function oT(){return t=>{let e=t.value,n=new Date;return new Date(e)>=n?null:{invalidDate:!0}}}function sT(){return t=>{let e=t.value;return["L","M","H"].includes(e)?null:{invalidValuePriority:!0}}}var jo=class t{constructor(e){this.database=e}tasklist=[new lt(1,"Tarea 1","Descripci\xF3n Tarea 1","L","P",new Date("11/1/2024"),new Date("11/18/2024"),!1),new lt(2,"Tarea 2","Descripci\xF3n Tarea 2","H","IP",new Date("11/5/2024"),new Date("11/16/2024"),!1),new lt(3,"Tarea 3","Descripci\xF3n Tarea 3","L","IP",new Date("11/21/2024"),new Date("11/30/2024"),!1),new lt(4,"Tarea 4","Descripci\xF3n Tarea 4","H","C",new Date("11/8/2024"),new Date("11/21/2024"),!1),new lt(5,"Tarea 5","Descripci\xF3n Tarea 5","M","P",new Date("11/10/2024"),new Date("11/30/2024"),!1)];task=new lt(1,"Tarea 1","Descripci\xF3n Tarea 1","L","P",new Date("11/1/2024"),new Date("11/18/2024"),!1);getTasks(){let e=nd(this.database,"/taskList");return this.tasklist}addNewTask(e){console.log("A\xF1adiendo tarea al servicio:",e),this.tasklist.push(e)}saveTask(e){let n=this.tasklist.findIndex(r=>r.id===e.id);n>-1&&(this.tasklist[n]=e),this.taskToEdit=null}setTaskToEdit(e){this.taskToEdit=e}taskToEdit=null;modifyTask(e){switch(e.action){case"raiseifpriority":this.raiseifpriority(e.taskId);break;case"deleteTask":this.deleteTask(e.taskId);break;case"lowerPriority":this.lowerPriority(e.taskId);break;case"setStatus":this.setStatus(e.taskId);break;default:break}}setStatus(e){for(let n=0;n<this.tasklist.length;n++)if(this.tasklist[n].id==e){this.tasklist[n].status=="C"?this.tasklist[n].status="P":this.tasklist[n].status=="IP"?this.tasklist[n].status="C":this.tasklist[n].status="IP";break}}deleteTask(e){for(let n=0;n<this.tasklist.length;n++)if(this.tasklist[n].id==e){this.tasklist[n].isDelete=!0;break}}lowerPriority(e){for(let n=0;n<this.tasklist.length;n++)if(this.tasklist[n].id==e){this.tasklist[n].priority=="H"?this.tasklist[n].priority="M":this.tasklist[n].priority=="M"&&(this.tasklist[n].priority="L");break}}raiseifpriority(e){for(let n=0;n<this.tasklist.length;n++)if(this.tasklist[n].id==e){this.tasklist[n].priority=="M"?this.tasklist[n].priority="H":this.tasklist[n].priority=="L"&&(this.tasklist[n].priority="M");break}}static \u0275fac=function(n){return new(n||t)(R(xn))};static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})};var sd=(t,e)=>({"is-invalid":t,"is-valid":e});function V2(t,e){t&1&&(v(0,"small",16),E(1," El campo nombre es requerido "),g())}function j2(t,e){t&1&&(v(0,"small",16),E(1,"El campo tiene que tener menos de 50 caracteres"),g())}function U2(t,e){t&1&&(v(0,"small",16),E(1," El campo descripcion es requerido "),g())}function B2(t,e){t&1&&(v(0,"small",16),E(1," El campo prioridad es requerido "),g())}function $2(t,e){t&1&&(v(0,"small",16),E(1," El valor tiene que ser 'H' 'M' O 'L' "),g())}function H2(t,e){t&1&&(v(0,"small",16),E(1," El campo fecha de expiraci\xF3n es requerido "),g())}function W2(t,e){t&1&&(v(0,"small",16),E(1," El campo fecha de expiraci\xF3n tiene que ser mayor al d\xEDa de hoy "),g())}var Uo=class t{constructor(e,n,r){this.taskService=e;this.route=n;this.formTaskEdit=r.group({name:["",[ye.required,ye.maxLength(50)]],description:["",[ye.required,ye.maxLength(255)]],priority:["",[ye.required,sT()]],expirationDate:["",[ye.required,oT()]]})}taskToEdit=null;formTaskEdit;ngOnInit(){this.route.paramMap.subscribe(e=>{let n=e.get("id");console.log(n)})}formSubmit=new se;onSubmit(){if(this.formTaskEdit.valid){let e=this.formTaskEdit.value;if(this.taskToEdit){let n=V(_(_({},this.taskToEdit),e),{expirationDate:new Date(e.expirationDate)});console.log("Editando tarea:",n),this.formSubmit.emit(n)}else{let n=new lt(e.id=-1,e.name,e.description,e.priority,"P",new Date(e.expirationDate),new Date,!1);console.log("A\xF1adiendo nueva tarea:",n),this.formSubmit.emit(n)}this.formTaskEdit.reset()}else console.log("El formulario tiene errores:",this.formTaskEdit.errors)}ngOnChanges(e){if(e.taskToEdit&&e.taskToEdit.currentValue){let n=e.taskToEdit.currentValue;this.formTaskEdit.patchValue({name:n.name,description:n.description,priority:n.priority,expirationDate:n.expirationDate.toISOString().slice(0,16)})}else this.formTaskEdit.reset()}static \u0275fac=function(n){return new(n||t)(D(jo),D(En),D(fo))};static \u0275cmp=ue({type:t,selectors:[["app-taskform"]],inputs:{taskToEdit:"taskToEdit"},outputs:{formSubmit:"formSubmit"},standalone:!0,features:[Yt,de],decls:39,vars:24,consts:[[1,"row"],[1,"col-md-12"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","exampleFormControlInput1"],["type","text","formControlName","name","id","exampleFormControlInput1",1,"form-control",3,"ngClass"],["class","text-danger",4,"ngIf"],["for","exampleFormControlTextarea1"],["formControlName","description","id","exampleFormControlTextarea1","rows","10",1,"form-control",3,"ngClass"],["for","exampleFormControlSelect1"],["formControlName","priority","id","exampleFormControlSelect1",1,"form-control",3,"ngClass"],["value","H"],["value","M"],["value","L"],["type","datetime-local","formControlName","expirationDate","id","exampleFromcontrolInput",1,"form-control",3,"ngClass"],["type","submit",1,"btn","btn-primary"],[1,"text-danger"]],template:function(n,r){if(n&1&&(v(0,"div",0)(1,"div",1)(2,"form",2),Z("ngSubmit",function(){return r.onSubmit()}),v(3,"div",3)(4,"label",4),E(5,"Nombre"),g(),X(6,"input",5),v(7,"div"),K(8,V2,2,0,"small",6)(9,j2,2,0,"small",6),g()(),v(10,"div",3)(11,"label",7),E(12,"Descripcion"),g(),X(13,"textarea",8),K(14,U2,2,0,"small",6),g(),v(15,"div",3)(16,"label",9),E(17,"Prioridad"),g(),v(18,"select",10)(19,"option",11),E(20,"Alta"),g(),v(21,"option",12),E(22,"Media"),g(),v(23,"option",13),E(24,"Baja"),g()(),v(25,"div"),K(26,B2,2,0,"small",6)(27,$2,2,0,"small",6),g()(),v(28,"div",3)(29,"label",9),E(30,"Fecha expiracion"),g(),X(31,"input",14),v(32,"div"),K(33,H2,2,0,"small",6)(34,W2,2,0,"small",6),g()(),X(35,"br")(36,"br"),v(37,"button",15),E(38,"Guardar Cambios"),g()()()()),n&2){let i,o,s,a,c,l,u,d,f,h,m;w(2),C("formGroup",r.formTaskEdit),w(4),C("ngClass",vs(12,sd,((i=r.formTaskEdit.get("name"))==null?null:i.invalid)&&((i=r.formTaskEdit.get("name"))==null?null:i.touched),(i=r.formTaskEdit.get("name"))==null?null:i.valid)),w(2),C("ngIf",((o=r.formTaskEdit.get("name"))==null||o.errors==null?null:o.errors.required)&&((o=r.formTaskEdit.get("name"))==null?null:o.touched)),w(),C("ngIf",((s=r.formTaskEdit.get("name"))==null||s.errors==null?null:s.errors.maxlength)&&((s=r.formTaskEdit.get("name"))==null?null:s.touched)),w(4),C("ngClass",vs(15,sd,((a=r.formTaskEdit.get("description"))==null?null:a.invalid)&&((a=r.formTaskEdit.get("description"))==null?null:a.touched),(a=r.formTaskEdit.get("description"))==null?null:a.valid)),w(),C("ngIf",((c=r.formTaskEdit.get("description"))==null||c.errors==null?null:c.errors.required)&&((c=r.formTaskEdit.get("description"))==null?null:c.touched)),w(4),C("ngClass",vs(18,sd,((l=r.formTaskEdit.get("priority"))==null?null:l.invalid)&&((l=r.formTaskEdit.get("priority"))==null?null:l.touched),(l=r.formTaskEdit.get("priority"))==null?null:l.valid)),w(8),C("ngIf",((u=r.formTaskEdit.get("priority"))==null||u.errors==null?null:u.errors.required)&&((u=r.formTaskEdit.get("priority"))==null?null:u.touched)),w(),C("ngIf",((d=r.formTaskEdit.get("priority"))==null||d.errors==null?null:d.errors.invalidValuePriority)&&((d=r.formTaskEdit.get("priority"))==null?null:d.touched)),w(4),C("ngClass",vs(21,sd,((f=r.formTaskEdit.get("expirationDate"))==null?null:f.invalid)&&((f=r.formTaskEdit.get("expirationDate"))==null?null:f.touched),(f=r.formTaskEdit.get("expirationDate"))==null?null:f.valid)),w(2),C("ngIf",((h=r.formTaskEdit.get("expirationDate"))==null||h.errors==null?null:h.errors.required)&&((h=r.formTaskEdit.get("expirationDate"))==null?null:h.touched)),w(),C("ngIf",!(!((m=r.formTaskEdit.get("expirationDate"))==null||m.errors==null)&&m.errors.required)&&((m=r.formTaskEdit.get("expirationDate"))==null||m.errors==null?null:m.errors.invalidDate)&&((m=r.formTaskEdit.get("expirationDate"))==null?null:m.touched))}},dependencies:[ho,uo,gC,yC,nr,ou,co,lo,zr,Gr,Me,Qn,Jt]})};function z2(t,e){if(t&1){let n=gt();Pr(0,5),v(1,"app-resume",6),Z("eventTaskModify",function(i){$e(n);let o=ie();return He(o.modifyTask(i))})("editTask",function(i){$e(n);let o=ie();return He(o.setTaskToEdit(i))}),g(),Fr()}if(t&2){let n=e.$implicit;w(),C("task",n)}}var ad=class t{constructor(e){this.taskService=e}tasklist=[];ngOnInit(){this.tasklist=this.taskService.getTasks()}taskToEdit=null;setTaskToEdit(e){this.taskService.setTaskToEdit(e),this.taskToEdit=this.taskService.taskToEdit}saveTask(e){e.id>0?(console.log("Guardando tarea editada:",e),this.taskService.saveTask(e)):(e.id=Math.floor(Math.random()*1e6),console.log("Guardando nueva tarea:",e),this.taskService.addNewTask(e)),this.tasklist=[...this.taskService.getTasks()],this.taskToEdit=null}modifyTask(e){this.taskService.modifyTask(e)}static \u0275fac=function(n){return new(n||t)(D(jo))};static \u0275cmp=ue({type:t,selectors:[["app-tasklist"]],standalone:!0,features:[de],decls:5,vars:2,consts:[[1,"container"],[1,"row"],[3,"formSubmit","taskToEdit"],[1,"col-md-12"],["class","ng-container",4,"ngFor","ngForOf"],[1,"ng-container"],[3,"eventTaskModify","editTask","task"]],template:function(n,r){n&1&&(v(0,"div",0)(1,"div",1)(2,"app-taskform",2),Z("formSubmit",function(o){return r.saveTask(o)}),g(),v(3,"div",3),K(4,z2,2,1,"ng-container",4),g()()()),n&2&&(w(2),C("taskToEdit",r.taskToEdit),w(2),C("ngForOf",r.tasklist))},dependencies:[Me,FI,od,Uo]})};var Bo=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ue({type:t,selectors:[["app-footer"]],standalone:!0,features:[de],decls:19,vars:0,consts:[[1,"py-3","my-4"],[1,"nav","justify-content-center","border-bottom","pb-3","mb-3"],[1,"nav-item"],["href","#",1,"nav-link","px-2","text-body-secondary"],[1,"text-center","text-body-secondary"]],template:function(n,r){n&1&&(v(0,"footer",0)(1,"ul",1)(2,"li",2)(3,"a",3),E(4,"Home"),g()(),v(5,"li",2)(6,"a",3),E(7,"Features"),g()(),v(8,"li",2)(9,"a",3),E(10,"Pricing"),g()(),v(11,"li",2)(12,"a",3),E(13,"FAQs"),g()(),v(14,"li",2)(15,"a",3),E(16,"About"),g()()(),v(17,"p",4),E(18,"\xA9 2024 Company, Inc"),g()())}})};var cd=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ue({type:t,selectors:[["app-tasks"]],standalone:!0,features:[de],decls:3,vars:0,template:function(n,r){n&1&&X(0,"app-nav-bar")(1,"app-tasklist")(2,"app-footer")},dependencies:[Me,sn,ad,Bo]})};var ld=class t{constructor(e,n){this.auth=e;this.router=n}onClick(){this.auth.logout().then(()=>this.router.navigate(["/login"])).catch(e=>console.log(e))}static \u0275fac=function(n){return new(n||t)(D(on),D(ze))};static \u0275cmp=ue({type:t,selectors:[["app-home"]],standalone:!0,features:[de],decls:3,vars:0,template:function(n,r){n&1&&X(0,"app-nav-bar")(1,"app-taskform")(2,"app-footer")},dependencies:[Me,sn,Uo,Bo]})};var ud=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ue({type:t,selectors:[["app-notfound"]],standalone:!0,features:[de],decls:9,vars:0,consts:[[1,"d-flex","flex-column","align-items-center","justify-content-center",2,"height","100vh","text-align","center"],[1,"display-1","text-danger"],[1,"text-dark"],[1,"text-muted"],["routerLink","/home",1,"btn","btn-primary","mt-3"]],template:function(n,r){n&1&&(v(0,"div",0)(1,"h1",1),E(2,"404"),g(),v(3,"h2",2),E(4,"P\xE1gina No Encontrada"),g(),v(5,"p",3),E(6,"Lo sentimos, no hemos podido encontrar la p\xE1gina que buscas."),g(),v(7,"a",4),E(8,"Volver al Inicio"),g()())},dependencies:[Gl]})};var cT=P(t=>!!t),G2=(()=>{class t{router;auth;constructor(n,r){this.router=n,this.auth=r}canActivate=(n,r)=>{let i=n.data.authGuardPipe||(()=>cT);return QD(this.auth).pipe(Tt(1),i(n,r),P(o=>typeof o=="boolean"?o:Array.isArray(o)?this.router.createUrlTree(o):this.router.parseUrl(o)))};static \u0275fac=function(r){return new(r||t)(R(ze),R(An))};static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),pv=t=>({canActivate:[G2],data:{authGuardPipe:t}});var mv=t=>qo(cT,P(e=>e||t));var lT=[{path:"login",component:pa},{path:"sigin",component:Ra},_({path:"home",component:ld},pv(()=>mv(["/login"]))),_({path:"tasks",component:cd},pv(()=>mv(["/login"]))),{path:"auth",children:[{path:"login",component:pa},{path:"sigin",component:Ra}]},{path:"notfound",component:ud},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",redirectTo:"/notfound",pathMatch:"full"}];var uT={providers:[wI({eventCoalescing:!0}),jw(lT),rw(),QC(()=>JC({projectId:"angular-jdurfer",appId:"1:756740089508:web:ec94ca5b116da658962831",storageBucket:"angular-jdurfer.appspot.com",apiKey:"AIzaSyDhP3deUGI8U27tjGtlNgeq0uroskpMWYM",authDomain:"angular-jdurfer.firebaseapp.com",messagingSenderId:"756740089508",databaseURL:"https://angular-jdurfer-default-rtdb.europe-west1.firebasedatabase.app"})),ZD(()=>XD()),eT(()=>tT())]};var dd=class t{title="angular-tutorial-app";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ue({type:t,selectors:[["app-root"]],standalone:!0,features:[de],decls:1,vars:0,template:function(n,r){n&1&&X(0,"router-outlet")},dependencies:[Tp,EC]})};tw(dd,uT).catch(t=>console.error(t));
